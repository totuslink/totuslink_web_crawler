<!doctype html><html lang="en"><head><script defer src="https://cdn.optimizely.com/js/16180790160.js"></script><title data-rh="true">AWS Amplify Multi-Auth GraphQL — Public Read and Authenticated Create, Update, Delete. | by FullstackPho | Medium</title><meta data-rh="true" charset="utf-8"/><meta data-rh="true" name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"/><meta data-rh="true" name="theme-color" content="#000000"/><meta data-rh="true" name="twitter:app:name:iphone" content="Medium"/><meta data-rh="true" name="twitter:app:id:iphone" content="828256236"/><meta data-rh="true" property="al:ios:app_name" content="Medium"/><meta data-rh="true" property="al:ios:app_store_id" content="828256236"/><meta data-rh="true" property="al:android:package" content="com.medium.reader"/><meta data-rh="true" property="fb:app_id" content="542599432471018"/><meta data-rh="true" property="og:site_name" content="Medium"/><meta data-rh="true" property="og:type" content="article"/><meta data-rh="true" property="article:published_time" content="2020-02-10T13:39:00.805Z"/><meta data-rh="true" name="title" content="AWS Amplify Multi-Auth GraphQL — Public Read and Authenticated Create, Update, Delete. | by FullstackPho | Medium"/><meta data-rh="true" property="og:title" content="AWS Amplify Multi-Auth GraphQL — Public read and Authenticated Create, Update, Delete."/><meta data-rh="true" property="twitter:title" content="AWS Amplify Multi-Auth GraphQL — Public read and Authenticated Create, Update, Delete."/><meta data-rh="true" name="twitter:site" content="@Medium"/><meta data-rh="true" name="twitter:app:url:iphone" content="medium://p/1bf5443b0ad1"/><meta data-rh="true" property="al:android:url" content="medium://p/1bf5443b0ad1"/><meta data-rh="true" property="al:ios:url" content="medium://p/1bf5443b0ad1"/><meta data-rh="true" property="al:android:app_name" content="Medium"/><meta data-rh="true" name="description" content="AWS Amplify recently released multi-auth support for managed GraphQL APIs. This allows you to mix and match auth rules and providers (API keys, Cognito, IAM, OIDC), which means that you can restrict…"/><meta data-rh="true" property="og:description" content="Setting up AWS Amplify so that your website content is public, but only logged-in users can create, update and delete content."/><meta data-rh="true" property="twitter:description" content="Setting up AWS Amplify so that your website content is public, but only logged-in users can create, update and delete content."/><meta data-rh="true" property="og:url" content="https://medium.com/@fullstackpho/aws-amplify-multi-auth-graphql-public-read-and-authenticated-create-update-delete-1bf5443b0ad1"/><meta data-rh="true" property="al:web:url" content="https://medium.com/@fullstackpho/aws-amplify-multi-auth-graphql-public-read-and-authenticated-create-update-delete-1bf5443b0ad1"/><meta data-rh="true" property="og:image" content="https://miro.medium.com/max/1200/1*4f5o-dIcT8phg0N5tiPa5Q.png"/><meta data-rh="true" name="twitter:image:src" content="https://miro.medium.com/max/1200/1*4f5o-dIcT8phg0N5tiPa5Q.png"/><meta data-rh="true" name="twitter:card" content="summary_large_image"/><meta data-rh="true" property="article:author" content="https://medium.com/@fullstackpho"/><meta data-rh="true" name="author" content="FullstackPho"/><meta data-rh="true" name="robots" content="index,follow,max-image-preview:large"/><meta data-rh="true" name="referrer" content="unsafe-url"/><meta data-rh="true" name="twitter:label1" content="Reading time"/><meta data-rh="true" name="twitter:data1" content="15 min read"/><meta data-rh="true" name="parsely-post-id" content="1bf5443b0ad1"/><link data-rh="true" rel="search" type="application/opensearchdescription+xml" title="Medium" href="/osd.xml"/><link data-rh="true" rel="apple-touch-icon" sizes="152x152" href="https://miro.medium.com/fit/c/152/152/1*sHhtYhaCe2Uc3IU0IgKwIQ.png"/><link data-rh="true" rel="apple-touch-icon" sizes="120x120" href="https://miro.medium.com/fit/c/120/120/1*sHhtYhaCe2Uc3IU0IgKwIQ.png"/><link data-rh="true" rel="apple-touch-icon" sizes="76x76" href="https://miro.medium.com/fit/c/76/76/1*sHhtYhaCe2Uc3IU0IgKwIQ.png"/><link data-rh="true" rel="apple-touch-icon" sizes="60x60" href="https://miro.medium.com/fit/c/60/60/1*sHhtYhaCe2Uc3IU0IgKwIQ.png"/><link data-rh="true" rel="mask-icon" href="https://cdn-static-1.medium.com/_/fp/icons/Medium-Avatar-500x500.svg" color="#171717"/><link data-rh="true" rel="preconnect" href="https://glyph.medium.com" crossOrigin=""/><link data-rh="true" rel="preconnect" href="https://logx.optimizely.com"/><link data-rh="true" id="glyph_preload_link" rel="preload" as="style" type="text/css" href="https://glyph.medium.com/css/unbound.css"/><link data-rh="true" id="glyph_link" rel="stylesheet" type="text/css" href="https://glyph.medium.com/css/unbound.css"/><link data-rh="true" rel="author" href="https://medium.com/@fullstackpho"/><link data-rh="true" rel="canonical" href="https://medium.com/@fullstackpho/aws-amplify-multi-auth-graphql-public-read-and-authenticated-create-update-delete-1bf5443b0ad1"/><link data-rh="true" rel="alternate" href="android-app://com.medium.reader/https/medium.com/p/1bf5443b0ad1"/><script data-rh="true" type="application/ld+json">{"@context":"http:\u002F\u002Fschema.org","@type":"NewsArticle","image":["https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F1200\u002F1*4f5o-dIcT8phg0N5tiPa5Q.png"],"url":"https:\u002F\u002Fmedium.com\u002F@fullstackpho\u002Faws-amplify-multi-auth-graphql-public-read-and-authenticated-create-update-delete-1bf5443b0ad1","dateCreated":"2020-02-09T16:54:43.308Z","datePublished":"2020-02-09T16:54:43.308Z","dateModified":"2020-02-10T13:39:01.557Z","headline":"AWS Amplify Multi-Auth GraphQL — Public Read and Authenticated Create, Update, Delete.","name":"AWS Amplify Multi-Auth GraphQL — Public Read and Authenticated Create, Update, Delete.","description":"AWS Amplify recently released multi-auth support for managed GraphQL APIs. This allows you to mix and match auth rules and providers (API keys, Cognito, IAM, OIDC), which means that you can restrict…","identifier":"1bf5443b0ad1","keywords":["Lite:true","Tag:AWS Lambda","Tag:React","Tag:Aws Amplify","Tag:AWS","Tag:JavaScript","Elevated:false","LockedPostSource:LOCKED_POST_SOURCE_NONE","LayerCake:4"],"author":{"@type":"Person","name":"FullstackPho","url":"https:\u002F\u002Fmedium.com\u002F@fullstackpho"},"creator":["FullstackPho"],"publisher":{"@type":"Organization","name":"Medium","url":"https:\u002F\u002Fmedium.com\u002F","logo":{"@type":"ImageObject","width":308,"height":60,"url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F616\u002F1*OMF3fSqH8t4xBJ9-6oZDZw.png"}},"mainEntityOfPage":"https:\u002F\u002Fmedium.com\u002F@fullstackpho\u002Faws-amplify-multi-auth-graphql-public-read-and-authenticated-create-update-delete-1bf5443b0ad1"}</script><link rel="preload" href="https://cdn.optimizely.com/js/16180790160.js" as="script"><style type="text/css" data-fela-rehydration="592" data-fela-type="STATIC">html{box-sizing:border-box}*, *:before, *:after{box-sizing:inherit}body{margin:0;padding:0;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;color:rgba(0,0,0,0.8);position:relative;min-height:100vh}h1, h2, h3, h4, h5, h6, dl, dd, ol, ul, menu, figure, blockquote, p, pre, form{margin:0}menu, ol, ul{padding:0;list-style:none;list-style-image:none}main{display:block}a{color:inherit;text-decoration:none}a, button, input{-webkit-tap-highlight-color:transparent}img, svg{vertical-align:middle}button{background:transparent;overflow:visible}button, input, optgroup, select, textarea{margin:0}:root{--reach-tabs:1;--reach-menu-button:1}</style><style type="text/css" data-fela-rehydration="592" data-fela-type="KEYFRAME">@-webkit-keyframes k1{0%{opacity:0;transform:translateY(-60px)}100%{opacity:1;transform:translateY(0px)}}@-moz-keyframes k1{0%{opacity:0;transform:translateY(-60px)}100%{opacity:1;transform:translateY(0px)}}@keyframes k1{0%{opacity:0;transform:translateY(-60px)}100%{opacity:1;transform:translateY(0px)}}@-webkit-keyframes k2{0%{opacity:1;transform:translateY(0px)}100%{opacity:0;transform:translateY(-60px)}}@-moz-keyframes k2{0%{opacity:1;transform:translateY(0px)}100%{opacity:0;transform:translateY(-60px)}}@keyframes k2{0%{opacity:1;transform:translateY(0px)}100%{opacity:0;transform:translateY(-60px)}}</style><style type="text/css" data-fela-rehydration="592" data-fela-type="RULE">.a{font-family:medium-content-sans-serif-font, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif}.b{font-weight:400}.c{background-color:rgba(255, 255, 255, 1)}.l{height:100vh}.m{width:100vw}.n{display:flex}.o{align-items:center}.p{justify-content:center}.q{height:25px}.r{fill:rgba(41, 41, 41, 1)}.s{display:block}.t{margin-bottom:36px}.v{padding-top:8px}.w{width:100%}.ab{flex:0 0 auto}.ac{justify-self:flex-end}.ae{z-index:500}.af{visibility:hidden}.ag{box-shadow:inset 0 -1px 0 rgba(230, 230, 230, 1)}.ah{min-height:115px}.ak{flex-direction:column}.al{display:none}.an{border-bottom:1px solid rgba(230, 230, 230, 1)}.ao{position:relative}.au{max-width:1192px}.av{min-width:0}.aw{height:62px}.ax{flex-direction:row}.ay{flex:1 0 auto}.az{margin-right:16px}.ba{font-family:sohne, "Helvetica Neue", Helvetica, Arial, sans-serif}.bb{font-size:14px}.bc{line-height:20px}.bd{color:rgba(26, 137, 23, 1)}.be{padding:7px 16px 9px}.bf{background:0}.bg{fill:rgba(26, 137, 23, 1)}.bh{border-color:rgba(26, 137, 23, 1)}.bm:disabled{cursor:inherit}.bn:disabled{opacity:0.3}.bo:disabled:hover{color:rgba(26, 137, 23, 1)}.bp:disabled:hover{fill:rgba(26, 137, 23, 1)}.bq:disabled:hover{border-color:rgba(26, 137, 23, 1)}.br{border-radius:99em}.bs{border-width:1px}.bt{border-style:solid}.bu{box-sizing:border-box}.bv{display:inline-block}.bw{text-decoration:none}.bx{margin-left:0px}.by{color:rgba(117, 117, 117, 1)}.bz{font-size:inherit}.ca{border:inherit}.cb{font-family:inherit}.cc{letter-spacing:inherit}.cd{font-weight:inherit}.ce{padding:0}.cf{margin:0}.cg:disabled{cursor:default}.ch:disabled{color:rgba(163, 208, 162, 0.5)}.ci:disabled{fill:rgba(163, 208, 162, 0.5)}.cj{justify-content:space-between}.cp{align-items:flex-start}.cq{margin-bottom:0px}.cr{margin-top:-32px}.cs{align-items:flex-end}.ct{flex-wrap:wrap}.cw{margin-top:32px}.cx{margin-right:24px}.cz{font-weight:700}.da{font-size:27px}.db{line-height:34px}.dc:before{margin-bottom:-14px}.dd:before{content:""}.de:before{display:table}.df:before{border-collapse:collapse}.dg:after{margin-top:-6px}.dh:after{content:""}.di:after{display:table}.dj:after{border-collapse:collapse}.dk{letter-spacing:0}.dl{color:rgba(25, 25, 25, 1)}.dm{word-break:break-word}.dn{font-size:16px}.do{line-height:24px}.dp:before{margin-bottom:-10px}.dq{margin-right:12px}.dr{display:inline-flex}.ds{color:inherit}.dt{fill:inherit}.dw:disabled{color:rgba(117, 117, 117, 1)}.dx:disabled{fill:rgba(117, 117, 117, 1)}.dy{margin-left:12px}.dz{margin-bottom:-3px}.ea{margin-left:14px}.eb{margin-top:-3px}.ec{padding-top:1px}.ed{height:70px}.eg{border-top:none}.eh{border-bottom:none}.ei{left:0}.ej{opacity:0}.ek{position:fixed}.el{right:0}.em{top:0}.eo{height:60px}.er{margin-left:16px}.es{padding-left:24px}.et{padding-right:24px}.eu{margin-left:auto}.ev{margin-right:auto}.ew{max-width:728px}.ex{background:rgba(255, 255, 255, 1)}.ey{border:1px solid rgba(230, 230, 230, 1)}.ez{border-radius:4px}.fa{box-shadow:0 1px 4px rgba(230, 230, 230, 1)}.fb{max-height:100vh}.fc{overflow-y:auto}.fd{position:absolute}.fe{top:calc(100vh + 100px)}.ff{bottom:calc(100vh + 100px)}.fg{width:10px}.fh{pointer-events:none}.fi{word-wrap:break-word}.fj:after{display:block}.fk:after{clear:both}.fl{max-width:680px}.fm{line-height:1.23}.fn{font-style:normal}.gi{margin-bottom:-0.27em}.gj{color:rgba(41, 41, 41, 1)}.gn{border-radius:50%}.go{height:28px}.gp{width:28px}.gq{margin:0 4px}.gr{margin:0 7px}.ha{padding-right:8px}.hb{margin-right:8px}.hc{clear:both}.hl{max-width:3264px}.hm{margin-top:33px}.hn{padding-bottom:5px}.ho{padding-top:5px}.hq{cursor:zoom-in}.hr{z-index:auto}.ht{max-width:100%}.hu{height:auto}.hv{margin-top:10px}.hw{text-align:center}.hz{line-height:1.58}.ia{letter-spacing:-0.004em}.ib{font-family:charter, Georgia, Cambria, "Times New Roman", Times, serif}.iw{margin-bottom:-0.46em}.ix{margin-bottom:14px}.iy{padding-top:24px}.iz{padding-bottom:10px}.ja{background-color:rgba(8, 8, 8, 1)}.jb{height:3px}.jc{width:3px}.jd{margin-right:20px}.je{line-height:1.12}.jf{letter-spacing:-0.022em}.jg{font-weight:500}.jz{margin-bottom:-0.28em}.kf{font-style:italic}.kq{box-shadow:inset 0 0 0 1px rgba(230, 230, 230, 1)}.kr{padding:0px}.ks{padding:16px 20px}.kt{flex:1 1 auto}.kv{overflow:hidden}.kw{max-height:40px}.kx{text-overflow:ellipsis}.ky{display:-webkit-box}.kz{-webkit-line-clamp:2}.la{-webkit-box-orient:vertical}.lc{margin-top:8px}.ld{margin-top:12px}.le{font-size:13px}.lk{padding:20px}.ll{background:rgba(242, 242, 242, 1)}.lm{overflow-x:auto}.ln{line-height:1.18}.lo{font-family:Menlo, Monaco, "Courier New", Courier, monospace}.lp{margin-top:-0.09em}.lq{margin-bottom:-0.09em}.lr{white-space:pre-wrap}.ls{max-width:401px}.lt{transition:opacity 100ms 400ms}.lu{height:100%}.lv{will-change:transform}.lw{transform:translateZ(0)}.lx{margin:auto}.ly{background-color:rgba(242, 242, 242, 1)}.lz{padding-bottom:64.58852867830424%}.ma{height:0}.mb{filter:blur(20px)}.mc{transform:scale(1.1)}.md{visibility:visible}.me{list-style-type:disc}.mf{margin-left:30px}.mg{padding-left:0px}.mm{max-width:987px}.mn{padding-bottom:28.571428571428573%}.mo{max-width:991px}.mp{padding-bottom:34.510595358224016%}.mq{max-width:778px}.mr{padding-bottom:47.55784061696659%}.ms{max-width:630px}.mt{padding-bottom:18.095238095238095%}.mu{max-width:1416px}.mv{padding-bottom:54.943502824858754%}.mw{max-width:281px}.mx{padding-bottom:207.82918149466192%}.my{max-width:1105px}.mz{padding-bottom:32.76018099547511%}.na{max-width:595px}.nb{padding-bottom:82.85714285714286%}.nc{max-width:431px}.nd{padding-bottom:57.30858468677494%}.ne{max-width:606px}.nf{padding-bottom:73.92739273927393%}.ng{max-width:296px}.nh{padding-bottom:105.74324324324324%}.ni{max-width:1010px}.nj{padding-bottom:78.11881188118812%}.nk{max-width:609px}.nl{padding-bottom:61.41215106732348%}.nm{padding-bottom:61.24794745484401%}.nn{max-width:444px}.no{padding-bottom:47.747747747747745%}.np{max-width:443px}.nq{padding-bottom:61.39954853273138%}.nr{max-width:446px}.ns{padding-bottom:109.19282511210761%}.ny{max-width:597px}.nz{padding-bottom:11.557788944723617%}.oa{max-width:523px}.ob{padding-bottom:69.40726577437859%}.oc{text-decoration:underline}.od{will-change:opacity}.oe{width:188px}.of{left:50%}.og{transform:translateX(406px)}.oh{top:calc(65px + 54px + 14px)}.ok{will-change:opacity, transform}.ol{transform:translateY(159px)}.on{width:131px}.oo{padding-bottom:28px}.op{padding-top:14px}.oq{color:rgba(255, 255, 255, 1)}.or{fill:rgba(255, 255, 255, 1)}.os{background:rgba(26, 137, 23, 1)}.ou:disabled:hover{background:rgba(26, 137, 23, 1)}.ov{padding-top:28px}.ow{margin-bottom:19px}.ox{margin-left:-3px}.pd{outline:0}.pe{border:0}.pf{user-select:none}.pg{cursor:pointer}.ph> svg{pointer-events:none}.pj{-webkit-user-select:none}.pt button{text-align:left}.pu{opacity:1}.pv{padding-right:9px}.qe{margin-top:40px}.qf{padding-bottom:25px}.qg{margin-top:25px}.qh{max-width:155px}.ql{top:1px}.qt{margin-left:-1px}.rc{padding-bottom:40px}.rd{list-style-type:none}.re{margin-bottom:8px}.rf{line-height:22px}.rg{border-radius:3px}.rh{padding:5px 10px}.ri{padding-top:40px}.rj{padding-bottom:4px}.rk{padding-top:32px}.rl{background-color:rgba(250, 250, 250, 1)}.sb{-webkit-line-clamp:1}.sc{padding-top:25px}.sf{margin-bottom:40px}.sg{margin-top:24px}.sh{padding-bottom:16px}.si{margin-bottom:24px}.uc{flex-grow:0}.ud{padding-bottom:24px}.ue{max-width:500px}.uf{flex:0 1 auto}.uj{padding-bottom:8px}.uu{padding-bottom:100%}.vf{padding:32px 0}.vg{background-color:rgba(0, 0, 0, 0.9)}.vk:disabled{color:rgba(255, 255, 255, 0.7)}.vl:disabled{fill:rgba(255, 255, 255, 0.7)}.vm{height:22px}.vn{width:200px}.vp{color:rgba(255, 255, 255, 0.98)}.vs{color:rgba(255, 255, 255, 0.7)}.bi:hover{color:rgba(15, 115, 12, 1)}.bj:hover{fill:rgba(15, 115, 12, 1)}.bk:hover{border-color:rgba(15, 115, 12, 1)}.bl:hover{cursor:pointer}.du:hover{color:rgba(25, 25, 25, 1)}.dv:hover{fill:rgba(25, 25, 25, 1)}.ot:hover{background:rgba(15, 115, 12, 1)}.pl:hover{fill:rgba(117, 117, 117, 1)}.ur:hover{text-decoration:underline}.vi:hover{color:rgba(255, 255, 255, 0.99)}.vj:hover{fill:rgba(255, 255, 255, 0.99)}.hs:focus{transform:scale(1.01)}.pk:focus{fill:rgba(117, 117, 117, 1)}.pi:active{border-style:none}</style><style type="text/css" data-fela-rehydration="592" data-fela-type="RULE" media="all and (min-width: 1080px)">.d{display:none}.x{display:flex}.at{margin:0 64px}.ge{font-size:46px}.gf{margin-top:0.6em}.gg{line-height:56px}.gh{letter-spacing:-0.011em}.gy{margin-left:30px}.hk{max-width:1192px}.is{font-size:21px}.it{margin-top:2em}.iu{line-height:32px}.iv{letter-spacing:-0.003em}.jv{font-size:30px}.jw{margin-top:1.25em}.jx{line-height:36px}.jy{letter-spacing:0}.ke{margin-top:0.86em}.kk{margin-top:1.95em}.kp{margin-top:32px}.lj{margin-top:56px}.ml{margin-top:1.05em}.nx{margin-top:1.91em}.pc{margin-right:5px}.ps{margin-top:5px}.qd{padding-left:6px}.qn{display:inline-block}.qs{width:8px}.ra{padding-left:7px}.rb{top:3px}.ry{font-size:20px}.rz{line-height:24px}.sa{max-height:24px}.se{margin:0}.st{font-size:22px}.su{line-height:28px}.th{width:calc(100% + 32px)}.ti{margin-left:-16px}.tj{margin-right:-16px}.ty{padding-left:16px}.tz{padding-right:16px}.ua{flex-basis:25%}.ub{max-width:25%}.uo{font-size:16px}.up{line-height:20px}.vd{min-width:70px}.ve{min-height:70px}</style><style type="text/css" data-fela-rehydration="592" data-fela-type="RULE" media="all and (max-width: 1079.98px)">.e{display:none}.gx{margin-left:30px}.hx{margin-left:auto}.hy{text-align:center}.pb{margin-right:5px}.pr{margin-top:5px}.qc{padding-left:6px}.qm{display:inline-block}.qr{width:8px}.qy{padding-left:7px}.qz{top:3px}</style><style type="text/css" data-fela-rehydration="592" data-fela-type="RULE" media="all and (max-width: 903.98px)">.f{display:none}.gw{margin-left:30px}.pa{margin-right:5px}.pq{margin-top:5px}.qa{padding-left:6px}.qb{top:3px}.qk{display:inline-block}.qq{width:8px}.qx{padding-left:3px}.ui{margin-right:16px}</style><style type="text/css" data-fela-rehydration="592" data-fela-type="RULE" media="all and (max-width: 727.98px)">.g{display:none}.u{margin-bottom:20px}.ai{box-shadow:inset 0 -1px 0 rgba(230, 230, 230, 1)}.aj{min-height:230px}.am{display:block}.ck{min-height:98px}.cl{display:flex}.cm{align-items:flex-start}.cn{flex-direction:column}.co{justify-content:flex-end}.cu{margin-bottom:28px}.cv{margin-top:0px}.cy{margin-top:28px}.ee{border-top:1px solid rgba(230, 230, 230, 1)}.ef{border-bottom:1px solid rgba(230, 230, 230, 1)}.ep{align-items:center}.eq{flex:1 0 auto}.gl{margin-top:32px}.gm{flex-direction:column-reverse}.gu{margin-bottom:30px}.gv{margin-left:0px}.ku{padding:10px 12px 10px}.oz{margin-left:8px}.po{margin-top:2px}.pp{margin-right:8px}.py{padding-left:6px}.pz{top:3px}.qj{display:inline-block}.qp{width:8px}.qu{margin-left:-4px}.qw{padding-left:3px}.sj{padding-bottom:12px}.sk{margin-top:16px}.uh{margin-right:16px}.us{margin-left:16px}.ut{margin-right:0px}.vh{padding:32px 0}.vo{width:140px}.vq{margin-bottom:16px}.vr{margin-top:30px}.vt{width:100%}.vu{flex-direction:row}</style><style type="text/css" data-fela-rehydration="592" data-fela-type="RULE" media="all and (max-width: 551.98px)">.h{display:none}.ap{margin:0 24px}.fo{font-size:32px}.fp{margin-top:0.64em}.fq{line-height:40px}.fr{letter-spacing:-0.016em}.gk{margin-top:32px}.gs{margin-bottom:30px}.gt{margin-left:0px}.hd{margin:0}.he{max-width:100%}.ic{font-size:18px}.id{margin-top:1.56em}.ie{line-height:28px}.if{letter-spacing:-0.003em}.jh{font-size:22px}.ji{margin-top:0.93em}.jj{letter-spacing:0}.ka{margin-top:0.67em}.kg{margin-top:1.2em}.kl{margin-top:24px}.lf{margin-top:40px}.mh{margin-top:1.34em}.nt{margin-top:1.41em}.oy{margin-left:8px}.pm{margin-top:2px}.pn{margin-right:8px}.pw{padding-left:6px}.px{top:3px}.qi{display:inline-block}.qo{width:8px}.qv{padding-left:3px}.rm{font-size:16px}.rn{line-height:20px}.ro{max-height:20px}.sl{font-size:20px}.sm{line-height:24px}.sv{width:calc(100% + 24px)}.sw{margin-left:-12px}.sx{margin-right:-12px}.tk{padding-left:12px}.tl{padding-right:12px}.tm{flex-basis:100%}.ug{margin-right:16px}.uq{margin-bottom:0px}.uv{min-width:48px}.uw{min-height:48px}</style><style type="text/css" data-fela-rehydration="592" data-fela-type="RULE" media="all and (min-width: 904px) and (max-width: 1079.98px)">.i{display:none}.y{display:flex}.as{margin:0 64px}.ga{font-size:46px}.gb{margin-top:0.6em}.gc{line-height:56px}.gd{letter-spacing:-0.011em}.hj{max-width:1192px}.io{font-size:21px}.ip{margin-top:2em}.iq{line-height:32px}.ir{letter-spacing:-0.003em}.jr{font-size:30px}.js{margin-top:1.25em}.jt{line-height:36px}.ju{letter-spacing:0}.kd{margin-top:0.86em}.kj{margin-top:1.95em}.ko{margin-top:32px}.li{margin-top:56px}.mk{margin-top:1.05em}.nw{margin-top:1.91em}.rv{font-size:20px}.rw{line-height:24px}.rx{max-height:24px}.sd{margin:0}.sr{font-size:22px}.ss{line-height:28px}.te{width:calc(100% + 32px)}.tf{margin-left:-16px}.tg{margin-right:-16px}.tu{padding-left:16px}.tv{padding-right:16px}.tw{flex-basis:25%}.tx{max-width:25%}.um{font-size:16px}.un{line-height:20px}.vb{min-width:70px}.vc{min-height:70px}</style><style type="text/css" data-fela-rehydration="592" data-fela-type="RULE" media="all and (min-width: 728px) and (max-width: 903.98px)">.j{display:none}.z{display:flex}.ar{margin:0 48px}.fw{font-size:46px}.fx{margin-top:0.6em}.fy{line-height:56px}.fz{letter-spacing:-0.011em}.hh{margin:0}.hi{max-width:100%}.ik{font-size:21px}.il{margin-top:2em}.im{line-height:32px}.in{letter-spacing:-0.003em}.jn{font-size:30px}.jo{margin-top:1.25em}.jp{line-height:36px}.jq{letter-spacing:0}.kc{margin-top:0.86em}.ki{margin-top:1.95em}.kn{margin-top:32px}.lh{margin-top:56px}.mj{margin-top:1.05em}.nv{margin-top:1.91em}.rs{font-size:20px}.rt{line-height:24px}.ru{max-height:24px}.sp{font-size:22px}.sq{line-height:28px}.tb{width:calc(100% + 28px)}.tc{margin-left:-14px}.td{margin-right:-14px}.tq{padding-left:14px}.tr{padding-right:14px}.ts{flex-basis:50%}.tt{max-width:50%}.uk{font-size:16px}.ul{line-height:20px}.uz{min-width:48px}.va{min-height:48px}</style><style type="text/css" data-fela-rehydration="592" data-fela-type="RULE" media="all and (min-width: 552px) and (max-width: 727.98px)">.k{display:none}.aq{margin:0 24px}.fs{font-size:32px}.ft{margin-top:0.64em}.fu{line-height:40px}.fv{letter-spacing:-0.016em}.hf{margin:0}.hg{max-width:100%}.ig{font-size:18px}.ih{margin-top:1.56em}.ii{line-height:28px}.ij{letter-spacing:-0.003em}.jk{font-size:22px}.jl{margin-top:0.93em}.jm{letter-spacing:0}.kb{margin-top:0.67em}.kh{margin-top:1.2em}.km{margin-top:24px}.lg{margin-top:40px}.mi{margin-top:1.34em}.nu{margin-top:1.41em}.rp{font-size:16px}.rq{line-height:20px}.rr{max-height:20px}.sn{font-size:20px}.so{line-height:24px}.sy{width:calc(100% + 24px)}.sz{margin-left:-12px}.ta{margin-right:-12px}.tn{padding-left:12px}.to{padding-right:12px}.tp{flex-basis:100%}.ux{min-width:48px}.uy{min-height:48px}</style><style type="text/css" data-fela-rehydration="592" data-fela-type="RULE" media="print">.gz{display:none}</style><style type="text/css" data-fela-rehydration="592" data-fela-type="RULE" media="(prefers-reduced-motion: no-preference)">.en{animation:k2 .2s ease-in-out both}.hp{transition:transform 300ms cubic-bezier(0.2, 0, 0.2, 1)}.oi{transition:opacity 200ms}</style><style type="text/css" data-fela-rehydration="592" data-fela-type="RULE" media="(orientation: landscape) and (max-width: 903.98px)">.lb{max-height:none}</style><style type="text/css" data-fela-rehydration="592" data-fela-type="RULE" media="all and (max-width: 1230px)">.oj{display:none}</style><style type="text/css" data-fela-rehydration="592" data-fela-type="RULE" media="all and (max-width: 1198px)">.om{display:none}</style></head><body><div id="root"><div class="a b c"><div class="d e f g h i j k"></div><script>document.domain = document.domain;</script><div class="s"><div class="t s u"><div class="ag ah s ai aj"><div class="n ak"><div class="al am"><div class="an s ao ae"><div class="n p"><div class="ap aq ar as at au av w"><div class="aw n o"><div class="n o ax ay"><div class="az s"><span><button class="ba b bb bc bd be bf bg bh bi bj bk bl bm bn bo bp bq br bs bt bu bv bw">Get started</button></span></div><div class="bx al am"><span class="ba b bb bc by"><a href="https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F1bf5443b0ad1&amp;~feature=LoOpenInAppButton&amp;~channel=ShowPostUnderUser&amp;~stage=mobileNavBar&amp;source=post_page-----1bf5443b0ad1--------------------------------" class="bd bg bz ca cb cc cd ce cf bl bi bj cg ch ci" rel="noopener nofollow">Open in app</a></span></div></div><a href="https://medium.com/?source=post_page-----1bf5443b0ad1--------------------------------" aria-label="Homepage" rel="noopener"><svg viewBox="0 0 1043.63 592.71" class="q r"><g data-name="Layer 2"><g data-name="Layer 1"><path d="M588.67 296.36c0 163.67-131.78 296.35-294.33 296.35S0 460 0 296.36 131.78 0 294.34 0s294.33 132.69 294.33 296.36M911.56 296.36c0 154.06-65.89 279-147.17 279s-147.17-124.94-147.17-279 65.88-279 147.16-279 147.17 124.9 147.17 279M1043.63 296.36c0 138-23.17 249.94-51.76 249.94s-51.75-111.91-51.75-249.94 23.17-249.94 51.75-249.94 51.76 111.9 51.76 249.94"></path></g></g></svg></a></div></div></div></div></div><div class="n p"><div class="ap aq ar as at au av w"><div class="ah n o ax cj ck cl cm cn co"><div class="w n cp cj"><div class="v n w"><div class="cq cr w n cs ax ct cu cv cl cm cn"><div class="cw cx s cy"><a aria-label="Author Homepage" rel="noopener" href="/@fullstackpho?source=post_page-----1bf5443b0ad1--------------------------------"><span class="ba cz da db dc dd de df dg dh di dj dk dl dm">FullstackPho</span></a></div><div class="cw s g"><span class="ba b dn do dp dd de df dg dh di dj by"><div class="n o"><div class="dq dr ak"><a class="ds dt bz ca cb cc cd ce cf bl du dv cg dw dx" rel="noopener" href="/@fullstackpho/followers?source=post_page-----1bf5443b0ad1--------------------------------">38 Followers</a></div><div class="dy n ak"><a class="ds dt bz ca cb cc cd ce cf bl du dv cg dw dx" rel="noopener" href="/@fullstackpho/about?source=post_page-----1bf5443b0ad1--------------------------------">About</a></div></div></span></div></div></div><div class="x y z k h ab ac o ae af"><p class="ba b bb bc by"><span><a href="https://medium.com/m/signin?operation=login&amp;redirect=https%3A%2F%2Fmedium.com%2F%40fullstackpho%2Faws-amplify-multi-auth-graphql-public-read-and-authenticated-create-update-delete-1bf5443b0ad1&amp;source=post_page-----1bf5443b0ad1---------------------nav_reg-----------" class="bd bg bz ca cb cc cd ce cf bl bi bj cg ch ci" rel="noopener">Sign in</a></span></p><div class="dz ea eb cx s"><span><button class="ba b bb bc bd be bf bg bh bi bj bk bl bm bn bo bp bq br bs bt bu bv bw">Get started</button></span></div><a href="https://medium.com/?source=post_page-----1bf5443b0ad1--------------------------------" aria-label="Homepage" rel="noopener"><svg viewBox="0 0 1043.63 592.71" class="q r"><g data-name="Layer 2"><g data-name="Layer 1"><path d="M588.67 296.36c0 163.67-131.78 296.35-294.33 296.35S0 460 0 296.36 131.78 0 294.34 0s294.33 132.69 294.33 296.36M911.56 296.36c0 154.06-65.89 279-147.17 279s-147.17-124.94-147.17-279 65.88-279 147.16-279 147.17 124.9 147.17 279M1043.63 296.36c0 138-23.17 249.94-51.76 249.94s-51.75-111.91-51.75-249.94 23.17-249.94 51.75-249.94 51.76 111.9 51.76 249.94"></path></g></g></svg></a></div></div></div></div></div></div><div class="al am"><div class="n p"><div class="ap aq ar as at au av w"><div><div class="ec ed n o"><div class="s"><span class="ba b dn do dp dd de df dg dh di dj by"><div class="n o"><div class="dq dr ak"><a class="ds dt bz ca cb cc cd ce cf bl du dv cg dw dx" rel="noopener" href="/@fullstackpho/followers?source=post_page-----1bf5443b0ad1--------------------------------">38 Followers</a></div><div class="dy n ak"><a class="ds dt bz ca cb cc cd ce cf bl du dv cg dw dx" rel="noopener" href="/@fullstackpho/about?source=post_page-----1bf5443b0ad1--------------------------------">About</a></div></div></span></div></div></div></div></div></div></div><div class="ee ef eg eh c ei ej ek el em af ae en"><div class="n p"><div class="ap aq ar as at au av w"><div class="eo w al em ae cl ep"><div class="al cl ep eq"><span><button class="ba b bb bc bd be bf bg bh bi bj bk bl bm bn bo bp bq br bs bt bu bv bw">Get started</button></span><div class="er al am"><span class="ba b bb bc by"><a href="https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F1bf5443b0ad1&amp;~feature=LoOpenInAppButton&amp;~channel=ShowPostUnderUser&amp;~stage=mobileNavBar&amp;source=post_page-----1bf5443b0ad1--------------------------------" class="bd bg bz ca cb cc cd ce cf bl bi bj cg ch ci" rel="noopener nofollow">Open in app</a></span></div></div><a href="https://medium.com/?source=post_page-----1bf5443b0ad1--------------------------------" aria-label="Homepage" rel="noopener"><svg viewBox="0 0 1043.63 592.71" class="q r"><g data-name="Layer 2"><g data-name="Layer 1"><path d="M588.67 296.36c0 163.67-131.78 296.35-294.33 296.35S0 460 0 296.36 131.78 0 294.34 0s294.33 132.69 294.33 296.36M911.56 296.36c0 154.06-65.89 279-147.17 279s-147.17-124.94-147.17-279 65.88-279 147.16-279 147.17 124.9 147.17 279M1043.63 296.36c0 138-23.17 249.94-51.76 249.94s-51.75-111.91-51.75-249.94 23.17-249.94 51.75-249.94 51.76 111.9 51.76 249.94"></path></g></g></svg></a></div></div></div></div></div><article><section class="es et eu ev w ew bu s"></section><span class="s"></span><div><div class="fd ei fe ff fg fh"></div><section class="dm fi fj dh fk"><div class="n p"><div class="ap aq ar as at fl av w"><div class=""><h1 id="5aaa" class="fm dk fn ba cz fo fp fq fr fs ft fu fv fw fx fy fz ga gb gc gd ge gf gg gh gi gj">AWS Amplify Multi-Auth GraphQL — Public Read and Authenticated Create, Update, Delete.</h1><div class="cw"><div class="n cj gk gl gm"><div class="o n"><div><a rel="noopener" href="/@fullstackpho?source=post_page-----1bf5443b0ad1--------------------------------"><img alt="FullstackPho" class="s gn go gp" src="https://miro.medium.com/fit/c/56/56/2*2u49GlzYp4SnIGiqTD6NEQ.png" width="28" height="28"/></a></div><div class="dy w n ct"><div class="n"><div style="flex:1"><span class="ba b bb bc gj"><a class="" rel="noopener" href="/@fullstackpho?source=post_page-----1bf5443b0ad1--------------------------------"><p class="ba b bb bc bd">FullstackPho</p></a></span></div></div><span class="ba b bb bc by"><a class="" rel="noopener" href="/@fullstackpho/aws-amplify-multi-auth-graphql-public-read-and-authenticated-create-update-delete-1bf5443b0ad1?source=post_page-----1bf5443b0ad1--------------------------------"><p class="ba b bb bc by"><span class="gq"></span>Feb 9, 2020<span class="gr">·</span>15 min read</p></a></span></div></div><div class="n cs gs gt gu gv gw gx gy gz"><div class="n o"><div class="ha s"><div class="bv" aria-hidden="false" aria-describedby="postFooterSocialMenu" aria-labelledby="postFooterSocialMenu"><div><div class="bv" role="tooltip" aria-hidden="false"><button class="ds dt bz ca cb cc cd ce cf bl du dv cg dw dx" aria-controls="postFooterSocialMenu" aria-expanded="false" aria-label="Share Post"><svg width="25" height="25" class="r"><g fill-rule="evenodd"><path d="M15.6 5a.42.42 0 0 0 .17-.3.42.42 0 0 0-.12-.33l-2.8-2.79a.5.5 0 0 0-.7 0l-2.8 2.8a.4.4 0 0 0-.1.32c0 .12.07.23.16.3h.02a.45.45 0 0 0 .57-.04l2-2V10c0 .28.23.5.5.5s.5-.22.5-.5V2.93l2.02 2.02c.08.07.18.12.3.13.11.01.21-.02.3-.08v.01"></path><path d="M18 7h-1.5a.5.5 0 0 0 0 1h1.6c.5 0 .9.4.9.9v10.2c0 .5-.4.9-.9.9H6.9a.9.9 0 0 1-.9-.9V8.9c0-.5.4-.9.9-.9h1.6a.5.5 0 0 0 .35-.15A.5.5 0 0 0 9 7.5a.5.5 0 0 0-.15-.35A.5.5 0 0 0 8.5 7H7a2 2 0 0 0-2 2v10c0 1.1.9 2 2 2h11a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2"></path></g></svg></button></div></div></div></div><div class="hb s"></div><div class="s ay"></div></div></div></div></div></div></div></div><div class="hc"><div class="n p"><div class="hd he hf hg hh hi as hj at hk av w"><figure class="hm hc hn ho paragraph-image"><div role="button" tabindex="0" class="hp hq ao hr w hs"><div class="eu ev hl"><img alt="" class="ht hu" src="https://miro.medium.com/max/6528/1*4f5o-dIcT8phg0N5tiPa5Q.png" width="3264" height="2448" role="presentation"/></div></div><figcaption class="hv hw ew eu ev hx hy ba b bb bc by">How you feel when your app is working how it should 😎</figcaption></figure></div></div></div><div class="n p"><div class="ap aq ar as at fl av w"><p id="96aa" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">AWS Amplify recently released multi-auth support for managed GraphQL APIs. This allows you to mix and match auth rules and providers (API keys, Cognito, IAM, OIDC), which means that you can restrict access to certain database operations.</p><p id="0b79" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">Amplify multi-auth is incredibly useful if, for example, you wo<span id="rmm">u</span>ld like unauthenticated users to be able to read from your database (public), and only authenticated users to create, update and delete objects in your database. An example use case may be a Reddit style app, where any visitor to your website can see the posts and comments, but only logged in users can post/comment on the site (but obviously can still see all posts and comments).</p><p id="8cbc" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">In this article, I will show you how to create a database using AWS Amplify that provides public read and authenticated create, update and delete without using API keys. Instead, we will use a combination of AWS Cognito, AWS IAM and Lambda functions, all powered by AWS Amplify and CloudFormation.</p></div></div></section><div class="n p cw ix iy iz" role="separator"><span class="ja gn bv jb jc jd"></span><span class="ja gn bv jb jc jd"></span><span class="ja gn bv jb jc"></span></div><section class="dm fi fj dh fk"><div class="n p"><div class="ap aq ar as at fl av w"><h1 id="2ff5" class="je jf fn ba jg jh ji ie jj jk jl ii jm jn jo jp jq jr js jt ju jv jw jx jy jz gj">What is an Unauthenticated User?</h1><p id="a8d8" class="hz ia fn ib b ic ka ie if ig kb ii ij ik kc im in io kd iq ir is ke iu iv iw dm gj">Before we start, let’s define what an ‘unauthenticated user’ is. To do that, we have to understand what “authentication” is:</p><p id="a63a" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj"><em class="kf">Authentication is the action of verifying the identity of a user.</em></p><p id="cdda" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">In other words, it’s the process of identifying users, usually done via sign up and login flows.</p><p id="d46b" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">Now that we know what authentication is, let’s consider what an “unauthenticated user” is in the context of our app (remember we want users to be able to access certain resources without logging in):</p><p id="2c80" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj"><em class="kf">Unauthenticated users receive access to your AWS resources even if they aren’t logged in with any of your identity providers (IdPs).</em></p><p id="1baf" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">In other words, if you are creating a web app, an unauthenticated user is anyone with an internet connection that can visit your website by typing in your url.</p><h1 id="dc55" class="je jf fn ba jg jh kg ie jj jk kh ii jm jn ki jp jq jr kj jt ju jv kk jx jy jz gj">Methods for Public Queries, Authenticated Mutations</h1><p id="3771" class="hz ia fn ib b ic ka ie if ig kb ii ij ik kc im in io kd iq ir is ke iu iv iw dm gj">A read operation using GraphQL on AWS Amplify will allow you to execute a getObject query to get a single object, and a listObjects query to get multiple objects.</p><p id="55c0" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">Create, update and delete operations fall under the mutation type. These include operations such as createObject, updateObject and deleteObject.</p><p id="9223" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">There are two ways (that I know of, if you know any others, please leave a comment!) that you can use to allow public queries and authenticated queries/mutations.</p><p id="130b" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">The first is to use an API key alongside an Identity Provider (IdP) of your choice. The benefit of this method is that it is simple to implement and can be setup in minutes. The downside is that API keys will expire (they have a max lifespan of 365 days), and as such, you will need to write a lambda function to cycle them if you plan on keeping your app around for any length of time. This is not ideal.</p><p id="ad1d" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">The second method is to use Cognito User Pools as the default provider combined with IAM and a Post Confirmation Lambda function (more on this later!). By using this method, you don’t need to cycle API keys, and you can specify the authMode when querying (we’ll cover this, don’t worry!), enabling you to read from the database as an unauthenticated user.</p></div></div></section><div class="n p cw ix iy iz" role="separator"><span class="ja gn bv jb jc jd"></span><span class="ja gn bv jb jc jd"></span><span class="ja gn bv jb jc"></span></div><section class="dm fi fj dh fk"><div class="n p"><div class="ap aq ar as at fl av w"><h1 id="0f2f" class="je jf fn ba jg jh ji ie jj jk jl ii jm jn jo jp jq jr js jt ju jv jw jx jy jz gj">Getting Started 🚀</h1><p id="081f" class="hz ia fn ib b ic ka ie if ig kb ii ij ik kc im in io kd iq ir is ke iu iv iw dm gj">Assuming that you have an AWS account, install and configure the Amplify CLI and setup an app using your framework/library of choice. In the case of React, you can use create-react-app to generate your app. The Amplify CLI quickstart can be found here:</p><div class="kl km kn ko kp kq"><a href="https://aws-amplify.github.io/docs/cli-toolchain/quickstart" target="_blank" rel="noopener nofollow"><div class="kr n ab"><div class="ks n ak p kt ku"><h2 class="ba cz dn bc kv kw kx ky kz la lb dk gj">Quickstart</h2><div class="lc s"><h3 class="ba b dn bc kv kw kx ky kz la lb by">Edit description</h3></div><div class="ld s"><p class="ba b le bc kv kw kx ky kz la lb by">aws-amplify.github.io</p></div></div></div></a></div><h1 id="eb0b" class="je jf fn ba jg jh kg ie jj jk kh ii jm jn ki jp jq jr kj jt ju jv kk jx jy jz gj">Initialising the Amplify Project</h1><p id="8654" class="hz ia fn ib b ic ka ie if ig kb ii ij ik kc im in io kd iq ir is ke iu iv iw dm gj">From the root of your project, run this in the terminal:</p><pre class="lf lg lh li lj lk ll lm"><span id="3b2d" class="gj ln jf fn lo b dn lp lq s lr">amplify init</span></pre><p id="b37c" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">When you run this command, Amplify will take you through setting up. The walk-through that Amplify provides is straight forward, you can select all of the default options as Amplify will automatically detect the type of app that you are building and the framework that you are using. I usually call my environment master, with the intent of creating other amplify environments once I have generated this one (an upcoming article!). Here are the options that I selected:</p><figure class="lf lg lh li lj hc eu ev paragraph-image"><div class="eu ev ls"><div class="lx s ao ly"><div class="lz ma s"><div class="ej lt fd em ei lu w kv lv lw"><img alt="" class="fd em ei lu w mb mc md" src="https://miro.medium.com/max/60/1*TLfJdFAyIjOQPBKTQ_skxg.png?q=20" width="401" height="259" role="presentation"/></div><img alt="" class="ej lt fd em ei lu w c" width="401" height="259" role="presentation"/><noscript><img alt="" class="fd em ei lu w" src="https://miro.medium.com/max/802/1*TLfJdFAyIjOQPBKTQ_skxg.png" width="401" height="259" srcSet="https://miro.medium.com/max/552/1*TLfJdFAyIjOQPBKTQ_skxg.png 276w, https://miro.medium.com/max/802/1*TLfJdFAyIjOQPBKTQ_skxg.png 401w" sizes="401px" role="presentation"/></noscript></div></div></div><figcaption class="hv hw ew eu ev hx hy ba b bb bc by">Selected options for Amplify initialisation.</figcaption></figure><h1 id="1f63" class="je jf fn ba jg jh kg ie jj jk kh ii jm jn ki jp jq jr kj jt ju jv kk jx jy jz gj">Setting up the API</h1><p id="bced" class="hz ia fn ib b ic ka ie if ig kb ii ij ik kc im in io kd iq ir is ke iu iv iw dm gj">Now that we have Amplify initialised in our project, you should notice that you have a folder in your project root folder called “amplify”. This is where all of your amplify project specific files and configuration live.</p><p id="df5b" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">Now we can add a graphql api to our project. From the root of your project, run this in the terminal:</p><pre class="lf lg lh li lj lk ll lm"><span id="f987" class="gj ln jf fn lo b dn lp lq s lr">amplify add api</span></pre><p id="0e9c" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">You will be presented with another walk-through. Select the following options (scroll down for an image of the selected options):</p><ul class=""><li id="da94" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw me mf mg gj">Select GraphQL as the service.</li><li id="2558" class="hz ia fn ib b ic mh ie if ig mi ii ij ik mj im in io mk iq ir is ml iu iv iw me mf mg gj">Hit enter for the default API name.</li><li id="4cf3" class="hz ia fn ib b ic mh ie if ig mi ii ij ik mj im in io mk iq ir is ml iu iv iw me mf mg gj">Set the default authorisation type as Amazon Cognito User Pool.</li><li id="b0b8" class="hz ia fn ib b ic mh ie if ig mi ii ij ik mj im in io mk iq ir is ml iu iv iw me mf mg gj">Choose “Default Configuration” for the default authentication and security configuration.</li><li id="c722" class="hz ia fn ib b ic mh ie if ig mi ii ij ik mj im in io mk iq ir is ml iu iv iw me mf mg gj">Choose how you want users to be able to sign in. I use Email, as this is how my users will log in to my app.</li><li id="5cae" class="hz ia fn ib b ic mh ie if ig mi ii ij ik mj im in io mk iq ir is ml iu iv iw me mf mg gj">You will be asked if you want to configure advanced settings. Select No.</li><li id="8ab4" class="hz ia fn ib b ic mh ie if ig mi ii ij ik mj im in io mk iq ir is ml iu iv iw me mf mg gj">Now you will be asked if you want to configure advanced settings for the GraphQL API. Select yes.</li><li id="87e5" class="hz ia fn ib b ic mh ie if ig mi ii ij ik mj im in io mk iq ir is ml iu iv iw me mf mg gj">When asked if you want to choose additional authorisation types, select IAM (use spacebar to select!).</li><li id="d7d2" class="hz ia fn ib b ic mh ie if ig mi ii ij ik mj im in io mk iq ir is ml iu iv iw me mf mg gj">Select No when asked if you have an annoted GraphQL schema and yes for the guided schema creation.</li><li id="ca12" class="hz ia fn ib b ic mh ie if ig mi ii ij ik mj im in io mk iq ir is ml iu iv iw me mf mg gj">Select “Objects with fine grained access control”.</li><li id="a814" class="hz ia fn ib b ic mh ie if ig mi ii ij ik mj im in io mk iq ir is ml iu iv iw me mf mg gj">And finally yes for “…edit the schema now?”.</li></ul><figure class="lf lg lh li lj hc eu ev paragraph-image"><div role="button" tabindex="0" class="hp hq ao hr w hs"><div class="eu ev mm"><div class="lx s ao ly"><div class="mn ma s"><div class="ej lt fd em ei lu w kv lv lw"><img alt="" class="fd em ei lu w mb mc md" src="https://miro.medium.com/max/60/1*O4SR3NILl-P6VNfeMyi8bg.png?q=20" width="987" height="282" role="presentation"/></div><img alt="" class="ej lt fd em ei lu w c" width="987" height="282" role="presentation"/><noscript><img alt="" class="fd em ei lu w" src="https://miro.medium.com/max/1974/1*O4SR3NILl-P6VNfeMyi8bg.png" width="987" height="282" srcSet="https://miro.medium.com/max/552/1*O4SR3NILl-P6VNfeMyi8bg.png 276w, https://miro.medium.com/max/1104/1*O4SR3NILl-P6VNfeMyi8bg.png 552w, https://miro.medium.com/max/1280/1*O4SR3NILl-P6VNfeMyi8bg.png 640w, https://miro.medium.com/max/1400/1*O4SR3NILl-P6VNfeMyi8bg.png 700w" sizes="700px" role="presentation"/></noscript></div></div></div></div><figcaption class="hv hw ew eu ev hx hy ba b bb bc by">The setup options for Amplify API.</figcaption></figure><p id="8e6b" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">Amplify will automatically open your newly created schema for you in your default editor.</p><h1 id="3acf" class="je jf fn ba jg jh kg ie jj jk kh ii jm jn ki jp jq jr kj jt ju jv kk jx jy jz gj">Editing Your Schema 🖌</h1><p id="f0cf" class="hz ia fn ib b ic ka ie if ig kb ii ij ik kc im in io kd iq ir is ke iu iv iw dm gj">As mentioned, we want to allow anyone to read from our database, but only authenticated users to create, update or delete objects from our database.</p><p id="0ab1" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">To do this create a schema like the one below:</p><pre class="lf lg lh li lj lk ll lm"><span id="487c" class="gj ln jf fn lo b dn lp lq s lr">type Task<br/>  @model<br/>  @aws_iam<br/>  @aws_cognito_user_pools<br/>  @auth(<br/>    rules: [<br/>      { allow: owner, operations: [create, read, update, delete] }<br/>      { allow: public, provider: iam, operations: [read] }<br/>      { allow: groups, groups: [&quot;everyone&quot;], operations: [read] }<br/>    ]<br/>  )<br/>  {<br/>    id: ID!<br/>    title: String!<br/>    description: String<br/>    status: String<br/>  }</span></pre><p id="bf75" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">The @model directive will tell Amplify to generate all of the associated database operations such as get, list, create, update and delete etc. The next two directives, @aws_iam and @aws_cognito_user_pools indicate that this object can be accessed by these two identity providers. We define the auth rules using the @auth directive. We have three rules here. The first states that the owner of the object can execute all CRUD operations on this object. The second rule allows public read access via IAM. Finally, the last rule allows any authenticated users who are part of the “everyone” group to read from the database. This rule is necessary because without it, authenticated users would only be able to read objects that they had created. By using a Cognito Group, we can provide read access to any new signups by adding them to the “everyone” group. We do this using a Lambda function, which we will get to in a moment!</p><p id="60bb" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">Your selections during this walk-through process should look something like this:</p><figure class="lf lg lh li lj hc eu ev paragraph-image"><div role="button" tabindex="0" class="hp hq ao hr w hs"><div class="eu ev mo"><div class="lx s ao ly"><div class="mp ma s"><div class="ej lt fd em ei lu w kv lv lw"><img alt="" class="fd em ei lu w mb mc md" src="https://miro.medium.com/max/60/1*vnB_ScaALooEGuOm91_NjA.png?q=20" width="991" height="342" role="presentation"/></div><img alt="" class="ej lt fd em ei lu w c" width="991" height="342" role="presentation"/><noscript><img alt="" class="fd em ei lu w" src="https://miro.medium.com/max/1982/1*vnB_ScaALooEGuOm91_NjA.png" width="991" height="342" srcSet="https://miro.medium.com/max/552/1*vnB_ScaALooEGuOm91_NjA.png 276w, https://miro.medium.com/max/1104/1*vnB_ScaALooEGuOm91_NjA.png 552w, https://miro.medium.com/max/1280/1*vnB_ScaALooEGuOm91_NjA.png 640w, https://miro.medium.com/max/1400/1*vnB_ScaALooEGuOm91_NjA.png 700w" sizes="700px" role="presentation"/></noscript></div></div></div></div><figcaption class="hv hw ew eu ev hx hy ba b bb bc by">Selected options for API initialisation.</figcaption></figure><p id="0500" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">Now that we have created our schema, we can go back to our terminal and hit enter to continue.</p><h1 id="4155" class="je jf fn ba jg jh kg ie jj jk kh ii jm jn ki jp jq jr kj jt ju jv kk jx jy jz gj">Modifying Amplify Auth 🔐</h1><p id="d533" class="hz ia fn ib b ic ka ie if ig kb ii ij ik kc im in io kd iq ir is ke iu iv iw dm gj">Now we have created our API, we need to configure our Auth so that we are able to read from the database as an unauthenticated user. We also need to create a Lambda function that will add new signups</p><p id="df40" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">In the terminal, type:</p><pre class="lf lg lh li lj lk ll lm"><span id="d754" class="gj ln jf fn lo b dn lp lq s lr">amplify auth update</span></pre><ul class=""><li id="377c" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw me mf mg gj">Select “Walk-through all the auth configurations”, and then select the first option, “User Sign-Up, Sign-In, connected with AWS IAM controls…”.</li><li id="b92e" class="hz ia fn ib b ic mh ie if ig mi ii ij ik mj im in io mk iq ir is ml iu iv iw me mf mg gj">For the “Allow unauthenticated logins?” question, select yes!</li><li id="71e3" class="hz ia fn ib b ic mh ie if ig mi ii ij ik mj im in io mk iq ir is ml iu iv iw me mf mg gj">For “…enable 3rd party authentication”, “Multifactor authentication (MFA)…”, select No</li><li id="f584" class="hz ia fn ib b ic mh ie if ig mi ii ij ik mj im in io mk iq ir is ml iu iv iw me mf mg gj">For “Email based user registration/forgot password”, select Enabled.</li><li id="064a" class="hz ia fn ib b ic mh ie if ig mi ii ij ik mj im in io mk iq ir is ml iu iv iw me mf mg gj">For the email verification subject, and then the verification message, choose the default.</li><li id="eb52" class="hz ia fn ib b ic mh ie if ig mi ii ij ik mj im in io mk iq ir is ml iu iv iw me mf mg gj">For “…override the default password policy…” select no.</li><li id="41e2" class="hz ia fn ib b ic mh ie if ig mi ii ij ik mj im in io mk iq ir is ml iu iv iw me mf mg gj">Select the default 30 days for the app’s refresh token.</li><li id="bc9d" class="hz ia fn ib b ic mh ie if ig mi ii ij ik mj im in io mk iq ir is ml iu iv iw me mf mg gj">When asked “Do you want to specify the user attributes…” select no.</li><li id="442c" class="hz ia fn ib b ic mh ie if ig mi ii ij ik mj im in io mk iq ir is ml iu iv iw me mf mg gj">The next question asks “Do you want to enable any of the following capabilities”, select “Add User to Group” (use the spacebar to select!).</li><li id="2993" class="hz ia fn ib b ic mh ie if ig mi ii ij ik mj im in io mk iq ir is ml iu iv iw me mf mg gj">“Do you want to use an OAuth flow?”- No</li><li id="d7c2" class="hz ia fn ib b ic mh ie if ig mi ii ij ik mj im in io mk iq ir is ml iu iv iw me mf mg gj">“Do you want to configure Lambda Triggers for Cognito?” YES</li><li id="39bb" class="hz ia fn ib b ic mh ie if ig mi ii ij ik mj im in io mk iq ir is ml iu iv iw me mf mg gj">From the list of options, select “Post confirmation”. This will ensure that the Lambda function is triggered after the user signs in.</li><li id="7c36" class="hz ia fn ib b ic mh ie if ig mi ii ij ik mj im in io mk iq ir is ml iu iv iw me mf mg gj">“What functionality fo you want to use for Post Confirmation?” — Choose “Add User To Group”.</li><li id="bae5" class="hz ia fn ib b ic mh ie if ig mi ii ij ik mj im in io mk iq ir is ml iu iv iw me mf mg gj">When asked to enter the name of the group which users will be added, type in “everyone”.</li><li id="8635" class="hz ia fn ib b ic mh ie if ig mi ii ij ik mj im in io mk iq ir is ml iu iv iw me mf mg gj">Finally, we don’t want to edit our function now, so select No.</li></ul><p id="8fd8" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">Now we have a Lambda function configured that will add any new signups to the “everyone group” :)</p><figure class="lf lg lh li lj hc eu ev paragraph-image"><div role="button" tabindex="0" class="hp hq ao hr w hs"><div class="eu ev mq"><div class="lx s ao ly"><div class="mr ma s"><div class="ej lt fd em ei lu w kv lv lw"><img alt="" class="fd em ei lu w mb mc md" src="https://miro.medium.com/max/60/1*5iqM2L8NhT8eZfAdj6smog.png?q=20" width="778" height="370" role="presentation"/></div><img alt="" class="ej lt fd em ei lu w c" width="778" height="370" role="presentation"/><noscript><img alt="" class="fd em ei lu w" src="https://miro.medium.com/max/1556/1*5iqM2L8NhT8eZfAdj6smog.png" width="778" height="370" srcSet="https://miro.medium.com/max/552/1*5iqM2L8NhT8eZfAdj6smog.png 276w, https://miro.medium.com/max/1104/1*5iqM2L8NhT8eZfAdj6smog.png 552w, https://miro.medium.com/max/1280/1*5iqM2L8NhT8eZfAdj6smog.png 640w, https://miro.medium.com/max/1400/1*5iqM2L8NhT8eZfAdj6smog.png 700w" sizes="700px" role="presentation"/></noscript></div></div></div></div><figcaption class="hv hw ew eu ev hx hy ba b bb bc by">The settings for updating the Amplify Auth</figcaption></figure><h1 id="edd5" class="je jf fn ba jg jh kg ie jj jk kh ii jm jn ki jp jq jr kj jt ju jv kk jx jy jz gj">Pushing to Amplify</h1><p id="ccc7" class="hz ia fn ib b ic ka ie if ig kb ii ij ik kc im in io kd iq ir is ke iu iv iw dm gj">Once we have finished setting up our GraphQL API, we can push this to the cloud.</p><p id="cbe6" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">Firstly though, let’s check that API exists locally. In the terminal, run:</p><pre class="lf lg lh li lj lk ll lm"><span id="1644" class="gj ln jf fn lo b dn lp lq s lr">amplify status</span></pre><p id="61ed" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">And the terminal should output the name of your current environment and a table specifies the state of your project:</p><figure class="lf lg lh li lj hc eu ev paragraph-image"><div class="eu ev ms"><div class="lx s ao ly"><div class="mt ma s"><div class="ej lt fd em ei lu w kv lv lw"><img alt="" class="fd em ei lu w mb mc md" src="https://miro.medium.com/max/60/1*K6iS7LZZSdwrTeBVXY96OQ.png?q=20" width="630" height="114" role="presentation"/></div><img alt="" class="ej lt fd em ei lu w c" width="630" height="114" role="presentation"/><noscript><img alt="" class="fd em ei lu w" src="https://miro.medium.com/max/1260/1*K6iS7LZZSdwrTeBVXY96OQ.png" width="630" height="114" srcSet="https://miro.medium.com/max/552/1*K6iS7LZZSdwrTeBVXY96OQ.png 276w, https://miro.medium.com/max/1104/1*K6iS7LZZSdwrTeBVXY96OQ.png 552w, https://miro.medium.com/max/1260/1*K6iS7LZZSdwrTeBVXY96OQ.png 630w" sizes="630px" role="presentation"/></noscript></div></div></div><figcaption class="hv hw ew eu ev hx hy ba b bb bc by">The terminal output you should see after running `ampliy status`</figcaption></figure><p id="813d" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">The “Category” column tells us what we currently have configured for our project, the “Resource name” column is the name of the resource in CloudFormation, and the “Operation” indicates the operation that will be executed in CloudFormation. CloudFormation is a service that utilises “infrastructure as code”, where AWS services are spun up and torn down according to specifications detailed in code. This is the AWS service that will be actually creating our resources. Since we haven’t created any resources yet for this project, the operation is “Create”. If we had made local modifications to any of existing resources, the operation would be “Update”.</p><p id="aa87" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">Now that we know we have local changes to our Amplify project, we can push these to the cloud so that our resources are created. To do this, run this in the terminal:</p><pre class="lf lg lh li lj lk ll lm"><span id="4f8a" class="gj ln jf fn lo b dn lp lq s lr">amplify push</span></pre><p id="528a" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">When asked if you want to continue, hit yes. It will then ask you if you want to “…update code code for your updated GraphQL API”. Hit yes.</p><p id="50b3" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">Next, it will ask if you want to “…generate GraphQL statements…”. Hit yes.</p><p id="5729" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">Now Amplify will take some time creating these resources in the cloud, so go and make yourself a coffee… ☕️</p><h1 id="d32d" class="je jf fn ba jg jh kg ie jj jk kh ii jm jn ki jp jq jr kj jt ju jv kk jx jy jz gj">Creating a User to Test the Database 🙋🏾</h1><p id="e8f1" class="hz ia fn ib b ic ka ie if ig kb ii ij ik kc im in io kd iq ir is ke iu iv iw dm gj">Once the resources have been created in the cloud, your terminal will specify the GraphQL endpoint.</p><p id="5f4c" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">Now we can test that the API works the way that we want it to. To do that, we need to create a user, as we need a user profile to determine if the query/mutate and auth rules combination that we have chosen serves our needs.</p><p id="816f" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">Open up the AWS console and navigate to the Cognito console. Click on Manage User Pools:</p><figure class="lf lg lh li lj hc eu ev paragraph-image"><div role="button" tabindex="0" class="hp hq ao hr w hs"><div class="eu ev mu"><div class="lx s ao ly"><div class="mv ma s"><div class="ej lt fd em ei lu w kv lv lw"><img alt="" class="fd em ei lu w mb mc md" src="https://miro.medium.com/max/60/1*-2K_tKyUT_aAE48-ydVrOg.png?q=20" width="1416" height="778" role="presentation"/></div><img alt="" class="ej lt fd em ei lu w c" width="1416" height="778" role="presentation"/><noscript><img alt="" class="fd em ei lu w" src="https://miro.medium.com/max/2832/1*-2K_tKyUT_aAE48-ydVrOg.png" width="1416" height="778" srcSet="https://miro.medium.com/max/552/1*-2K_tKyUT_aAE48-ydVrOg.png 276w, https://miro.medium.com/max/1104/1*-2K_tKyUT_aAE48-ydVrOg.png 552w, https://miro.medium.com/max/1280/1*-2K_tKyUT_aAE48-ydVrOg.png 640w, https://miro.medium.com/max/1400/1*-2K_tKyUT_aAE48-ydVrOg.png 700w" sizes="700px" role="presentation"/></noscript></div></div></div></div><figcaption class="hv hw ew eu ev hx hy ba b bb bc by">The Cognito Console</figcaption></figure><p id="6cb4" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">Select your Pool, and then in the side bar select Users and Groups:</p><figure class="lf lg lh li lj hc eu ev paragraph-image"><div class="eu ev mw"><div class="lx s ao ly"><div class="mx ma s"><div class="ej lt fd em ei lu w kv lv lw"><img alt="" class="fd em ei lu w mb mc md" src="https://miro.medium.com/max/28/1*CG4mcXKx6V_CkoyJGYXIAw.png?q=20" width="281" height="584" role="presentation"/></div><img alt="" class="ej lt fd em ei lu w c" width="281" height="584" role="presentation"/><noscript><img alt="" class="fd em ei lu w" src="https://miro.medium.com/max/562/1*CG4mcXKx6V_CkoyJGYXIAw.png" width="281" height="584" srcSet="https://miro.medium.com/max/552/1*CG4mcXKx6V_CkoyJGYXIAw.png 276w, https://miro.medium.com/max/562/1*CG4mcXKx6V_CkoyJGYXIAw.png 281w" sizes="281px" role="presentation"/></noscript></div></div></div><figcaption class="hv hw ew eu ev hx hy ba b bb bc by">The User Pools sidebar.</figcaption></figure><p id="1dca" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">You will see a “Users” panel, select the “Create user” button:</p><figure class="lf lg lh li lj hc eu ev paragraph-image"><div role="button" tabindex="0" class="hp hq ao hr w hs"><div class="eu ev my"><div class="lx s ao ly"><div class="mz ma s"><div class="ej lt fd em ei lu w kv lv lw"><img alt="" class="fd em ei lu w mb mc md" src="https://miro.medium.com/max/60/1*FFnmltDyv3Rz967K0LQsLg.png?q=20" width="1105" height="362" role="presentation"/></div><img alt="" class="ej lt fd em ei lu w c" width="1105" height="362" role="presentation"/><noscript><img alt="" class="fd em ei lu w" src="https://miro.medium.com/max/2210/1*FFnmltDyv3Rz967K0LQsLg.png" width="1105" height="362" srcSet="https://miro.medium.com/max/552/1*FFnmltDyv3Rz967K0LQsLg.png 276w, https://miro.medium.com/max/1104/1*FFnmltDyv3Rz967K0LQsLg.png 552w, https://miro.medium.com/max/1280/1*FFnmltDyv3Rz967K0LQsLg.png 640w, https://miro.medium.com/max/1400/1*FFnmltDyv3Rz967K0LQsLg.png 700w" sizes="700px" role="presentation"/></noscript></div></div></div></div><figcaption class="hv hw ew eu ev hx hy ba b bb bc by">The Users panel of the User Pools interface.</figcaption></figure><p id="cca3" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">You will be presented with a “Create user” panel. Input a username of “test@test.com” and a password of “1234567890”. Uncheck “Send invitation..” and “Mark phone number as verified?”, then fill in the “Mark email as verified” input and check the box</p><figure class="lf lg lh li lj hc eu ev paragraph-image"><div role="button" tabindex="0" class="hp hq ao hr w hs"><div class="eu ev na"><div class="lx s ao ly"><div class="nb ma s"><div class="ej lt fd em ei lu w kv lv lw"><img alt="" class="fd em ei lu w mb mc md" src="https://miro.medium.com/max/60/1*0qbZAqJiceRYncKvzY9TFQ.png?q=20" width="595" height="493" role="presentation"/></div><img alt="" class="ej lt fd em ei lu w c" width="595" height="493" role="presentation"/><noscript><img alt="" class="fd em ei lu w" src="https://miro.medium.com/max/1190/1*0qbZAqJiceRYncKvzY9TFQ.png" width="595" height="493" srcSet="https://miro.medium.com/max/552/1*0qbZAqJiceRYncKvzY9TFQ.png 276w, https://miro.medium.com/max/1104/1*0qbZAqJiceRYncKvzY9TFQ.png 552w, https://miro.medium.com/max/1190/1*0qbZAqJiceRYncKvzY9TFQ.png 595w" sizes="595px" role="presentation"/></noscript></div></div></div></div></figure><p id="c5c3" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">Hit “Create user”, and now you will have a user in your User Pool. The account status for this will say “FORCE_CHANGE_PASSWORD”. We will come back to this later. For now, click on the Groups tab.</p><p id="e9dd" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">If you remember, we created a Lambda function that adds new sign up to a group called “everyone”. However, we need to create this group, but we also need to add our newly created user to it. This is because users created in the Cognito console are not added automatically (as the Lambda function was not invoked when they were created).</p><p id="1be6" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">In the Groups tab, click “Create Group”.</p><p id="4616" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">Give it a name of “everyone”, and optionally add a description. For the IAM role dropdown, select the “&lt;PROJECT-NAME&gt;PostConfirmation-&lt;ENVIRONMENT-NAME&gt;”, as shown below:</p><figure class="lf lg lh li lj hc eu ev paragraph-image"><div class="eu ev nc"><div class="lx s ao ly"><div class="nd ma s"><div class="ej lt fd em ei lu w kv lv lw"><img alt="" class="fd em ei lu w mb mc md" src="https://miro.medium.com/max/60/1*TSknPVuCa4pz6fZly6ne2w.png?q=20" width="431" height="247" role="presentation"/></div><img alt="" class="ej lt fd em ei lu w c" width="431" height="247" role="presentation"/><noscript><img alt="" class="fd em ei lu w" src="https://miro.medium.com/max/862/1*TSknPVuCa4pz6fZly6ne2w.png" width="431" height="247" srcSet="https://miro.medium.com/max/552/1*TSknPVuCa4pz6fZly6ne2w.png 276w, https://miro.medium.com/max/862/1*TSknPVuCa4pz6fZly6ne2w.png 431w" sizes="431px" role="presentation"/></noscript></div></div></div><figcaption class="hv hw ew eu ev hx hy ba b bb bc by">The IAM role that you should select for this group.</figcaption></figure><p id="038b" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">You can leave the Precedence input empty, and your Create group form should look something like this:</p><figure class="lf lg lh li lj hc eu ev paragraph-image"><div class="eu ev ne"><div class="lx s ao ly"><div class="nf ma s"><div class="ej lt fd em ei lu w kv lv lw"><img alt="" class="fd em ei lu w mb mc md" src="https://miro.medium.com/max/60/1*9pNfp1m-SRFRVmLZbBjbBA.png?q=20" width="606" height="448" role="presentation"/></div><img alt="" class="ej lt fd em ei lu w c" width="606" height="448" role="presentation"/><noscript><img alt="" class="fd em ei lu w" src="https://miro.medium.com/max/1212/1*9pNfp1m-SRFRVmLZbBjbBA.png" width="606" height="448" srcSet="https://miro.medium.com/max/552/1*9pNfp1m-SRFRVmLZbBjbBA.png 276w, https://miro.medium.com/max/1104/1*9pNfp1m-SRFRVmLZbBjbBA.png 552w, https://miro.medium.com/max/1212/1*9pNfp1m-SRFRVmLZbBjbBA.png 606w" sizes="606px" role="presentation"/></noscript></div></div></div><figcaption class="hv hw ew eu ev hx hy ba b bb bc by">The Create group form after it has been completed.</figcaption></figure><p id="6507" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">Hit Create group, and in your Groups panel, you should see your newly created group. Next, we need to add our user to this group. Go back to the Users panel and select your user from the table by clicking on their username.</p><p id="c45f" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">Above their user info, you should see a button entitled “Add to Group”. Click this, and select “everyone” from the dropdown and add them to this group.</p><p id="ea79" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">Now that our user is in the “everyone” group, we can test our API in the AppSync console.</p><h1 id="a929" class="je jf fn ba jg jh kg ie jj jk kh ii jm jn ki jp jq jr kj jt ju jv kk jx jy jz gj">Testing the API in the AppSync Console 📈</h1><p id="fd81" class="hz ia fn ib b ic ka ie if ig kb ii ij ik kc im in io kd iq ir is ke iu iv iw dm gj">Now we need to head on over to the AWS AppSync console to test that our API is working the way that we want it to.</p><p id="4328" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">Once you have navigated to the AppSync console, click on your API to open it in the console, and click on “Queries” in the sidebar.</p><figure class="lf lg lh li lj hc eu ev paragraph-image"><div class="eu ev ng"><div class="lx s ao ly"><div class="nh ma s"><div class="ej lt fd em ei lu w kv lv lw"><img alt="" class="fd em ei lu w mb mc md" src="https://miro.medium.com/max/56/1*VN40VKUPPNzDpRaeYgdgYQ.png?q=20" width="296" height="313" role="presentation"/></div><img alt="" class="ej lt fd em ei lu w c" width="296" height="313" role="presentation"/><noscript><img alt="" class="fd em ei lu w" src="https://miro.medium.com/max/592/1*VN40VKUPPNzDpRaeYgdgYQ.png" width="296" height="313" srcSet="https://miro.medium.com/max/552/1*VN40VKUPPNzDpRaeYgdgYQ.png 276w, https://miro.medium.com/max/592/1*VN40VKUPPNzDpRaeYgdgYQ.png 296w" sizes="296px" role="presentation"/></noscript></div></div></div><figcaption class="hv hw ew eu ev hx hy ba b bb bc by">The AppSync sidebar.</figcaption></figure><p id="a62b" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">You will be presented with an interface that allows you to write, validate, and test graphql queries:</p><figure class="lf lg lh li lj hc eu ev paragraph-image"><div role="button" tabindex="0" class="hp hq ao hr w hs"><div class="eu ev ni"><div class="lx s ao ly"><div class="nj ma s"><div class="ej lt fd em ei lu w kv lv lw"><img alt="" class="fd em ei lu w mb mc md" src="https://miro.medium.com/max/60/1*5JnRZyEW0RFq2nBQirOSEQ.png?q=20" width="1010" height="789" role="presentation"/></div><img alt="" class="ej lt fd em ei lu w c" width="1010" height="789" role="presentation"/><noscript><img alt="" class="fd em ei lu w" src="https://miro.medium.com/max/2020/1*5JnRZyEW0RFq2nBQirOSEQ.png" width="1010" height="789" srcSet="https://miro.medium.com/max/552/1*5JnRZyEW0RFq2nBQirOSEQ.png 276w, https://miro.medium.com/max/1104/1*5JnRZyEW0RFq2nBQirOSEQ.png 552w, https://miro.medium.com/max/1280/1*5JnRZyEW0RFq2nBQirOSEQ.png 640w, https://miro.medium.com/max/1400/1*5JnRZyEW0RFq2nBQirOSEQ.png 700w" sizes="700px" role="presentation"/></noscript></div></div></div></div><figcaption class="hv hw ew eu ev hx hy ba b bb bc by">The AppSync query editor</figcaption></figure><p id="0254" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">Ensure that Amazon Cognito User Pool is selected from the drop down, and next to the orange ‘run’ arrow (looks like a ‘play’ button), click on “Login with User Pools” :</p><figure class="lf lg lh li lj hc eu ev paragraph-image"><div class="eu ev nk"><div class="lx s ao ly"><div class="nl ma s"><div class="ej lt fd em ei lu w kv lv lw"><img alt="" class="fd em ei lu w mb mc md" src="https://miro.medium.com/max/60/1*MqXmKwaShPvg0V9SDLZdqw.png?q=20" width="609" height="374" role="presentation"/></div><img alt="" class="ej lt fd em ei lu w c" width="609" height="374" role="presentation"/><noscript><img alt="" class="fd em ei lu w" src="https://miro.medium.com/max/1218/1*MqXmKwaShPvg0V9SDLZdqw.png" width="609" height="374" srcSet="https://miro.medium.com/max/552/1*MqXmKwaShPvg0V9SDLZdqw.png 276w, https://miro.medium.com/max/1104/1*MqXmKwaShPvg0V9SDLZdqw.png 552w, https://miro.medium.com/max/1218/1*MqXmKwaShPvg0V9SDLZdqw.png 609w" sizes="609px" role="presentation"/></noscript></div></div></div><figcaption class="hv hw ew eu ev hx hy ba b bb bc by">The login pane for the query editor.</figcaption></figure><p id="c650" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">The top field is the ClientID, and you can find this by opening up your aws-exports file in your editor (ProjectRoot/src/aws-exports.js). In this file, you will see a key called “&quot;aws_user_pools_web_client_id&quot;. Copy that key into the ClientId input.</p><p id="ff49" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">Enter in your username and password that you created in the User Pools console (test@test.com and 1234567890):</p><figure class="lf lg lh li lj hc eu ev paragraph-image"><div class="eu ev nk"><div class="lx s ao ly"><div class="nm ma s"><div class="ej lt fd em ei lu w kv lv lw"><img alt="" class="fd em ei lu w mb mc md" src="https://miro.medium.com/max/60/1*SUshxcjxQ1KiWP86vsRRbw.png?q=20" width="609" height="373" role="presentation"/></div><img alt="" class="ej lt fd em ei lu w c" width="609" height="373" role="presentation"/><noscript><img alt="" class="fd em ei lu w" src="https://miro.medium.com/max/1218/1*SUshxcjxQ1KiWP86vsRRbw.png" width="609" height="373" srcSet="https://miro.medium.com/max/552/1*SUshxcjxQ1KiWP86vsRRbw.png 276w, https://miro.medium.com/max/1104/1*SUshxcjxQ1KiWP86vsRRbw.png 552w, https://miro.medium.com/max/1218/1*SUshxcjxQ1KiWP86vsRRbw.png 609w" sizes="609px" role="presentation"/></noscript></div></div></div><figcaption class="hv hw ew eu ev hx hy ba b bb bc by">Login pane after entering the information. NOTE: The ClientId shown here is fake.</figcaption></figure><p id="5ca5" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">Press “Login”.</p><p id="8628" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">You will now be asked to create a new password for this user. You can use the same password again to keep things simple, 1234567890.</p><p id="0f66" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">Now you will be logged in to the query editor, and we can test that the queries and mutation work properly. Let’s test the mutations first.</p><p id="e651" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">Type the following mutation into the console:</p><pre class="lf lg lh li lj lk ll lm"><span id="f904" class="gj ln jf fn lo b dn lp lq s lr">mutation createTask {<br/>  createTask(input: {<br/>    title: &quot;TestTask&quot;<br/>    description: &quot;A test task&quot;<br/>    status: &quot;Done&quot;<br/>  }) {<br/>    id<br/>    title<br/>    description<br/>    status<br/>  }<br/>}</span></pre><p id="b6b5" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">Your mutation should be successful, and you should get the following response:</p><figure class="lf lg lh li lj hc eu ev paragraph-image"><div class="eu ev nn"><div class="lx s ao ly"><div class="no ma s"><div class="ej lt fd em ei lu w kv lv lw"><img alt="" class="fd em ei lu w mb mc md" src="https://miro.medium.com/max/60/1*npc8b5ANdjMW2y72zVye5g.png?q=20" width="444" height="212" role="presentation"/></div><img alt="" class="ej lt fd em ei lu w c" width="444" height="212" role="presentation"/><noscript><img alt="" class="fd em ei lu w" src="https://miro.medium.com/max/888/1*npc8b5ANdjMW2y72zVye5g.png" width="444" height="212" srcSet="https://miro.medium.com/max/552/1*npc8b5ANdjMW2y72zVye5g.png 276w, https://miro.medium.com/max/888/1*npc8b5ANdjMW2y72zVye5g.png 444w" sizes="444px" role="presentation"/></noscript></div></div></div><figcaption class="hv hw ew eu ev hx hy ba b bb bc by">The response after creating a task.</figcaption></figure><p id="895a" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">You can see that we didn’t need to add the id in the mutation as it is automatically created for us.</p><p id="2e00" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">Now let’s try a query:</p><pre class="lf lg lh li lj lk ll lm"><span id="c561" class="gj ln jf fn lo b dn lp lq s lr">query listTasks {<br/>  listTasks(limit: 10) {<br/>    items {<br/>      id<br/>     title<br/>     description<br/>    }    <br/>  }<br/>}</span></pre><p id="13d2" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">And you should get the following response, which is the returned list of objects (we only have one in there thus far):</p><figure class="lf lg lh li lj hc eu ev paragraph-image"><div class="eu ev np"><div class="lx s ao ly"><div class="nq ma s"><div class="ej lt fd em ei lu w kv lv lw"><img alt="" class="fd em ei lu w mb mc md" src="https://miro.medium.com/max/60/1*Fx49swa2dEIoOy-o1pyZ4Q.png?q=20" width="443" height="272" role="presentation"/></div><img alt="" class="ej lt fd em ei lu w c" width="443" height="272" role="presentation"/><noscript><img alt="" class="fd em ei lu w" src="https://miro.medium.com/max/886/1*Fx49swa2dEIoOy-o1pyZ4Q.png" width="443" height="272" srcSet="https://miro.medium.com/max/552/1*Fx49swa2dEIoOy-o1pyZ4Q.png 276w, https://miro.medium.com/max/886/1*Fx49swa2dEIoOy-o1pyZ4Q.png 443w" sizes="443px" role="presentation"/></noscript></div></div></div><figcaption class="hv hw ew eu ev hx hy ba b bb bc by">The response from our query as a logged in Cognito user</figcaption></figure><p id="5de5" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">Ok great, the mutations and queries are working for our logged in user!</p><p id="4518" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">Now let’s try for an unauthenticated user.</p><p id="b02f" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">In the dropdown, switch it over to AWS Identity and Access Management (IAM). Now run the listTasks query as this unauthenticated user.</p><p id="21cb" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">You should get the following response the same response for this query as the previous query, indicating that an unauthenticated user can read from the database.</p><p id="2d75" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">Now, let’s try a mutation. Whilst still using the IAM provider in the dropdown, run the mutation. You should get the following response:</p><figure class="lf lg lh li lj hc eu ev paragraph-image"><div class="eu ev nr"><div class="lx s ao ly"><div class="ns ma s"><div class="ej lt fd em ei lu w kv lv lw"><img alt="" class="fd em ei lu w mb mc md" src="https://miro.medium.com/max/54/1*1l127D4U3dTAv9T8ETDxCQ.png?q=20" width="446" height="487" role="presentation"/></div><img alt="" class="ej lt fd em ei lu w c" width="446" height="487" role="presentation"/><noscript><img alt="" class="fd em ei lu w" src="https://miro.medium.com/max/892/1*1l127D4U3dTAv9T8ETDxCQ.png" width="446" height="487" srcSet="https://miro.medium.com/max/552/1*1l127D4U3dTAv9T8ETDxCQ.png 276w, https://miro.medium.com/max/892/1*1l127D4U3dTAv9T8ETDxCQ.png 446w" sizes="446px" role="presentation"/></noscript></div></div></div></figure><p id="d509" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">Success, this is what we want! You can see in the message at the bottom that we are not authorised to create a task. Remember, we don’t want unauthenticated users to be able to run any mutations on our database!</p><h1 id="528b" class="je jf fn ba jg jh kg ie jj jk kh ii jm jn ki jp jq jr kj jt ju jv kk jx jy jz gj">Testing the API in our App</h1><p id="0139" class="hz ia fn ib b ic ka ie if ig kb ii ij ik kc im in io kd iq ir is ke iu iv iw dm gj">We can now test our API in our app. We will be using a React app, but the Amplify documentation provides guidance on other frameworks and libraries:</p><div class="kl km kn ko kp kq"><a href="https://aws-amplify.github.io/docs/js/start" target="_blank" rel="noopener nofollow"><div class="kr n ab"><div class="ks n ak p kt ku"><h2 class="ba cz dn bc kv kw kx ky kz la lb dk gj">Getting Started</h2><div class="lc s"><h3 class="ba b dn bc kv kw kx ky kz la lb by">Edit description</h3></div><div class="ld s"><p class="ba b le bc kv kw kx ky kz la lb by">aws-amplify.github.io</p></div></div></div></a></div><p id="2fd0" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">Setting up AWS in our React App is quite simple.</p><p id="19cf" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">Firstly, install the necessary Amplify package by typing the following into your terminal:</p><pre class="lf lg lh li lj lk ll lm"><span id="f9e6" class="gj ln jf fn lo b dn lp lq s lr">npm install aws-amplify</span></pre><p id="fd1d" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">Head on over to your index.js file, and add the following code:</p><pre class="lf lg lh li lj lk ll lm"><span id="bfb5" class="gj ln jf fn lo b dn lp lq s lr">import Amplify from &quot;aws-amplify&quot;;</span><span id="d4db" class="gj ln jf fn lo b dn nt nu nv nw nx lq s lr">import awsMobile from &quot;./aws-exports&quot;;</span><span id="28bf" class="gj ln jf fn lo b dn nt nu nv nw nx lq s lr">Amplify.configure(awsMobile);</span></pre><p id="0af6" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">That’s all that is needed to configure our database.</p><p id="1fca" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">Now we can create the UI for our test. We will use a really simple UI consisting of three buttons, as we don’t need anything more complicated to test if our API and auth rules are working. In src/app.js, delete the contents of the return statement, and add four buttons:</p><pre class="lf lg lh li lj lk ll lm"><span id="5be1" class="gj ln jf fn lo b dn lp lq s lr">function App() {</span><span id="72d6" class="gj ln jf fn lo b dn nt nu nv nw nx lq s lr">  return (</span><span id="0e33" class="gj ln jf fn lo b dn nt nu nv nw nx lq s lr">    &lt;Fragment&gt;</span><span id="543f" class="gj ln jf fn lo b dn nt nu nv nw nx lq s lr">      &lt;button onClick={login}&gt;Log In&lt;/button&gt;</span><span id="1fab" class="gj ln jf fn lo b dn nt nu nv nw nx lq s lr">      &lt;button onClick={logOut}&gt;Log Out&lt;/button&gt;</span><span id="3f8c" class="gj ln jf fn lo b dn nt nu nv nw nx lq s lr">      &lt;button onClick={mutate}&gt;Mutate&lt;/button&gt;</span><span id="60e3" class="gj ln jf fn lo b dn nt nu nv nw nx lq s lr">      &lt;button onClick={query}&gt;Query&lt;/button&gt;</span><span id="978f" class="gj ln jf fn lo b dn nt nu nv nw nx lq s lr">    &lt;/Fragment&gt;</span><span id="dc1b" class="gj ln jf fn lo b dn nt nu nv nw nx lq s lr">  );</span><span id="0322" class="gj ln jf fn lo b dn nt nu nv nw nx lq s lr">}</span></pre><p id="e855" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">Now we can create our functions that are called when we click on each of the buttons. Your app component should look like this:</p><pre class="lf lg lh li lj lk ll lm"><span id="6ada" class="gj ln jf fn lo b dn lp lq s lr">import React, { Fragment } from &quot;react&quot;;</span><span id="854c" class="gj ln jf fn lo b dn nt nu nv nw nx lq s lr">import { Auth, API, graphqlOperation } from &quot;aws-amplify&quot;;<br/>import { createTask } from &quot;./graphql/mutations&quot;;<br/>import { listTasks } from &quot;./graphql/queries&quot;;</span><span id="3a7d" class="gj ln jf fn lo b dn nt nu nv nw nx lq s lr">function App() {</span><span id="1de7" class="gj ln jf fn lo b dn nt nu nv nw nx lq s lr">  const login = async () =&gt; {</span><span id="1cc0" class="gj ln jf fn lo b dn nt nu nv nw nx lq s lr">    const email = &quot;test@test.com&quot;;<br/>    const password = &quot;1234567890&quot;;</span><span id="2116" class="gj ln jf fn lo b dn nt nu nv nw nx lq s lr">    console.log(`Logging in`);<br/>  <br/>    try {<br/>      await Auth.signIn(email, password);<br/>      console.log(&quot;Logged in&quot;);<br/>    } catch (error) {<br/>      console.log(`Error logging in: ${error}`);<br/>    }<br/>  };</span><span id="64c6" class="gj ln jf fn lo b dn nt nu nv nw nx lq s lr">  const logOut = async () =&gt; {<br/>    console.log(`Logging out`);</span><span id="ef68" class="gj ln jf fn lo b dn nt nu nv nw nx lq s lr">    try {<br/>      await Auth.signOut();<br/>      console.log(&quot;Logged out&quot;); <br/>    } catch (error) {<br/>      console.log(`Error logging in: ${error}`);<br/>    }<br/>  };<br/> <br/>  const mutate = async () =&gt; {<br/>    console.log(`Creating task...`);<br/>    const task = {<br/>      title: &quot;Sent from Client!&quot;,<br/>      description: &quot;A test task sent from the client!&quot;,<br/>      status: &quot;Done&quot;<br/>    };<br/>  <br/>    try {<br/>      const data = await API.graphql(<br/>        graphqlOperation(createTask, { input: task })<br/>      );<br/>      console.log(`Executed mutation,   data:${JSON.stringify(data)}`);<br/>      } catch (error) {<br/>        console.log(`Error executing mutation: ${error}`);<br/>      }<br/>    };</span><span id="de72" class="gj ln jf fn lo b dn nt nu nv nw nx lq s lr">  const query = async () =&gt; {<br/>    console.log(`Querying database`);</span><span id="9674" class="gj ln jf fn lo b dn nt nu nv nw nx lq s lr">    try {<br/>      const data = await API.graphql({<br/>        query: listTasks,<br/>        variables: {},<br/>        authMode: &quot;AWS_IAM&quot;<br/>      });<br/>      console.log(`Executed query, data: ${JSON.stringify(data)}`);<br/>      } catch (error) {<br/>        console.log(`Error executing query: ${error}`);<br/>      }<br/>    };<br/>  return (<br/>    &lt;Fragment&gt;<br/>      &lt;button onClick={login}&gt;Log In&lt;/button&gt;<br/>      &lt;button onClick={logOut}&gt;Log Out&lt;/button&gt;<br/>      &lt;button onClick={mutate}&gt;Mutate&lt;/button&gt;<br/>      &lt;button onClick={query}&gt;Query&lt;/button&gt;<br/>    &lt;/Fragment&gt;<br/>  );<br/>};</span></pre><p id="1731" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">The first two functions, login() and logOut() are quite self-explanatory. In the next function, mutate(), we create a task object, which we then feed in to our graphqlOperation. Notice that we set this as the key to the value “input”. This is because if you check your schema in AppSync, you will see that the createTask mutation takes an input object. Lastly, if we look at our query() function, you can see that we assign the listTasks query to the query key, and set the authMode to “AWS_IAM”. This is what allows us to query the database whether we are a ‘visitor’ (ie unauthenticated) or signed in.</p><p id="4384" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">Now if we start our application in the terminal from our project root:</p><pre class="lf lg lh li lj lk ll lm"><span id="5d95" class="gj ln jf fn lo b dn lp lq s lr">npm start</span></pre><p id="e6bb" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">And open localhost:3000, we should see this:</p><figure class="lf lg lh li lj hc eu ev paragraph-image"><div class="eu ev ny"><div class="lx s ao ly"><div class="nz ma s"><div class="ej lt fd em ei lu w kv lv lw"><img alt="" class="fd em ei lu w mb mc md" src="https://miro.medium.com/max/60/1*wWpsHSrQcMBAzTQ0IVK5cQ.png?q=20" width="597" height="69" role="presentation"/></div><img alt="" class="ej lt fd em ei lu w c" width="597" height="69" role="presentation"/><noscript><img alt="" class="fd em ei lu w" src="https://miro.medium.com/max/1194/1*wWpsHSrQcMBAzTQ0IVK5cQ.png" width="597" height="69" srcSet="https://miro.medium.com/max/552/1*wWpsHSrQcMBAzTQ0IVK5cQ.png 276w, https://miro.medium.com/max/1104/1*wWpsHSrQcMBAzTQ0IVK5cQ.png 552w, https://miro.medium.com/max/1194/1*wWpsHSrQcMBAzTQ0IVK5cQ.png 597w" sizes="597px" role="presentation"/></noscript></div></div></div><figcaption class="hv hw ew eu ev hx hy ba b bb bc by">The buttons of our basic UI that will allow us to test our API.</figcaption></figure><p id="d81b" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">Open the browser console (cmd + alt + i) and click the Log Out button. You should see in the console that the user has been logged out (there wasn’t one logged in, but it’s good practice to log out before we begin).</p><p id="d085" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">Now click the Query button, and you should see all of the tasks currently in the database (of which there will only be one). Since our user is logged out, or in other words, there is no authenticated user, this indicates that visitors can query our database.</p><p id="d1c5" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">Next, click the Mutate button. You should see an error in the console stating “Error executing mutation: No current user”. As expected, this implies that unauthenticated users can’t mutate any data in our database.</p><p id="3d46" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">Now click the Log In button. In the console, you should see that a user is logged in.</p><p id="b412" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">Click the Query button, and you should get the same response as before; the tasks in the database are returned.</p><p id="21ed" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">Now click the Mutate button… and you will see that the mutation is successful as the data object has returned! Below is the console output that you should see:</p><figure class="lf lg lh li lj hc eu ev paragraph-image"><div class="eu ev oa"><div class="lx s ao ly"><div class="ob ma s"><div class="ej lt fd em ei lu w kv lv lw"><img alt="" class="fd em ei lu w mb mc md" src="https://miro.medium.com/max/60/1*i5oanS06QmK8GaE3-EWPTA.png?q=20" width="523" height="363" role="presentation"/></div><img alt="" class="ej lt fd em ei lu w c" width="523" height="363" role="presentation"/><noscript><img alt="" class="fd em ei lu w" src="https://miro.medium.com/max/1046/1*i5oanS06QmK8GaE3-EWPTA.png" width="523" height="363" srcSet="https://miro.medium.com/max/552/1*i5oanS06QmK8GaE3-EWPTA.png 276w, https://miro.medium.com/max/1046/1*i5oanS06QmK8GaE3-EWPTA.png 523w" sizes="523px" role="presentation"/></noscript></div></div></div><figcaption class="hv hw ew eu ev hx hy ba b bb bc by">The console output demonstrating a successful setup of the Amplify API and Auth.</figcaption></figure></div></div></section><div class="n p cw ix iy iz" role="separator"><span class="ja gn bv jb jc jd"></span><span class="ja gn bv jb jc jd"></span><span class="ja gn bv jb jc"></span></div><section class="dm fi fj dh fk"><div class="n p"><div class="ap aq ar as at fl av w"><p id="e71c" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">So that’s it! We have successfully initialised and configured our AWS Amplify API and Auth using multi-auth and Lambda functions. Now we are able to provide public read and authenticated create, update and delete!</p></div></div></section><div class="n p cw ix iy iz" role="separator"><span class="ja gn bv jb jc jd"></span><span class="ja gn bv jb jc jd"></span><span class="ja gn bv jb jc"></span></div><section class="dm fi fj dh fk"><div class="n p"><div class="ap aq ar as at fl av w"><p id="5ec1" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">If this helped you at all, please give me a clap and feel free to follow me on twitter :) <a href="https://twitter.com/fullstackpho" class="ds oc" rel="noopener nofollow">https://twitter.com/fullstackpho</a></p><p id="a58e" class="hz ia fn ib b ic id ie if ig ih ii ij ik il im in io ip iq ir is it iu iv iw dm gj">Any comments and improvements are gratefully welcomed! I put this together after trawling through the Amplify docs and GitHub, so if anyone knows of a better approach, please do share!</p></div></div></section></div></article><div class="ej fh ek ok w ol em oi om" data-test-id="post-sidebar"><div class="n p"><div class="ap aq ar as at au av w"><div class="on n ak"><div class="fh"><div><div class="oo an s"><div class="hn s"><a class="ds dt bz ca cb cc cd ce cf bl du dv cg dw dx" rel="noopener" href="/@fullstackpho?source=post_sidebar--------------------------post_sidebar-----------"><h2 class="ba jg dn bc dk gj dm">FullstackPho</h2></a></div><div class="op s"><span><button class="ba b bb bc oq be or os bh ot bk bl bm bn ou bq br bs bt bu bv bw">Follow</button></span></div></div><div class="ov ow ox n"><div class="n o"><div class="s ao oy oz pa pb pc"><span><a href="https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Fp%2F1bf5443b0ad1&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40fullstackpho%2Faws-amplify-multi-auth-graphql-public-read-and-authenticated-create-update-delete-1bf5443b0ad1&amp;source=post_sidebar-----1bf5443b0ad1---------------------clap_sidebar-----------" class="ds dt bz ca cb cc cd ce cf bl du dv cg dw dx" rel="noopener"><div class="ce pd pe pf pg ph pi pj r pk pl"><svg width="29" height="29" aria-label="clap"><g fill-rule="evenodd"><path d="M13.74 1l.76 2.97.76-2.97zM16.82 4.78l1.84-2.56-1.43-.47zM10.38 2.22l1.84 2.56-.41-3.03zM22.38 22.62a5.11 5.11 0 0 1-3.16 1.61l.49-.45c2.88-2.89 3.45-5.98 1.69-9.21l-1.1-1.94-.96-2.02c-.31-.67-.23-1.18.25-1.55a.84.84 0 0 1 .66-.16c.34.05.66.28.88.6l2.85 5.02c1.18 1.97 1.38 5.12-1.6 8.1M9.1 22.1l-5.02-5.02a1 1 0 0 1 .7-1.7 1 1 0 0 1 .72.3l2.6 2.6a.44.44 0 0 0 .63-.62L6.1 15.04l-1.75-1.75a1 1 0 1 1 1.41-1.41l4.15 4.15a.44.44 0 0 0 .63 0 .44.44 0 0 0 0-.62L6.4 11.26l-1.18-1.18a1 1 0 0 1 0-1.4 1.02 1.02 0 0 1 1.41 0l1.18 1.16L11.96 14a.44.44 0 0 0 .62 0 .44.44 0 0 0 0-.63L8.43 9.22a.99.99 0 0 1-.3-.7.99.99 0 0 1 .3-.7 1 1 0 0 1 1.41 0l7 6.98a.44.44 0 0 0 .7-.5l-1.35-2.85c-.31-.68-.23-1.19.25-1.56a.85.85 0 0 1 .66-.16c.34.06.66.28.88.6L20.63 15c1.57 2.88 1.07 5.54-1.55 8.16a5.62 5.62 0 0 1-5.06 1.65 9.35 9.35 0 0 1-4.93-2.72zM13 6.98l2.56 2.56c-.5.6-.56 1.41-.15 2.28l.26.56-4.25-4.25a.98.98 0 0 1-.12-.45 1 1 0 0 1 .29-.7 1.02 1.02 0 0 1 1.41 0zm8.89 2.06c-.38-.56-.9-.92-1.49-1.01a1.74 1.74 0 0 0-1.34.33c-.38.29-.61.65-.71 1.06a2.1 2.1 0 0 0-1.1-.56 1.78 1.78 0 0 0-.99.13l-2.64-2.64a1.88 1.88 0 0 0-2.65 0 1.86 1.86 0 0 0-.48.85 1.89 1.89 0 0 0-2.67-.01 1.87 1.87 0 0 0-.5.9c-.76-.75-2-.75-2.7-.04a1.88 1.88 0 0 0 0 2.66c-.3.12-.61.29-.87.55a1.88 1.88 0 0 0 0 2.66l.62.62a1.88 1.88 0 0 0-.9 3.16l5.01 5.02c1.6 1.6 3.52 2.64 5.4 2.96a7.16 7.16 0 0 0 1.18.1c1.03 0 2-.25 2.9-.7A5.9 5.9 0 0 0 23 23.24c3.34-3.34 3.08-6.93 1.74-9.17l-2.87-5.04z"></path></g></svg></div></a></span></div><div class="s pm pn po pp pq pr ps"><div class="pt"><p class="ba b bb bc by"><button class="ds dt bz ca cb cc cd ce cf bl du dv cg dw dx">309<!-- --> </button></p></div></div></div></div><div class="ow s"><button class="pg pe ce"><div class="pv n o ax"><svg width="25" height="25" class="r pu pg pl" aria-label="responses"><path d="M19.07 21.12a6.33 6.33 0 0 1-3.53-1.1 7.8 7.8 0 0 1-.7-.52c-.77.21-1.57.32-2.38.32-4.67 0-8.46-3.5-8.46-7.8C4 7.7 7.79 4.2 12.46 4.2c4.66 0 8.46 3.5 8.46 7.8 0 2.06-.85 3.99-2.4 5.45a6.28 6.28 0 0 0 1.14 2.59c.15.21.17.48.06.7a.69.69 0 0 1-.62.38h-.03zm0-1v.5l.03-.5h-.03zm-3.92-1.64l.21.2a6.09 6.09 0 0 0 3.24 1.54 7.14 7.14 0 0 1-.83-1.84 5.15 5.15 0 0 1-.16-.75 2.4 2.4 0 0 1-.02-.29v-.23l.18-.15a6.6 6.6 0 0 0 2.3-4.96c0-3.82-3.4-6.93-7.6-6.93-4.19 0-7.6 3.11-7.6 6.93 0 3.83 3.41 6.94 7.6 6.94.83 0 1.64-.12 2.41-.35l.28-.08z" fill-rule="evenodd"></path></svg><div class="s ao pw px py pz qa qb qc qd"><p class="ba b bb bc by">5<!-- --> </p></div></div></button></div></div></div></div></div></div></div><div class="ej fh od ek oe of og oh oi oj"></div><div><div class="qe hc n ak p"><div class="n p"><div class="ap aq ar as at fl av w"><div class="n ct"></div><div class="n o ct"></div><div class="qf qe s"><div class="qg n cj gz"><div class="n o ax"><div class="qh s"><span class="s qi qj qk e d"><div class="n o"><div class="s ao oy oz pa pb pc"><span><a href="https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Fp%2F1bf5443b0ad1&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40fullstackpho%2Faws-amplify-multi-auth-graphql-public-read-and-authenticated-create-update-delete-1bf5443b0ad1&amp;source=post_actions_footer-----1bf5443b0ad1---------------------clap_footer-----------" class="ds dt bz ca cb cc cd ce cf bl du dv cg dw dx" rel="noopener"><div class="ce pd pe pf pg ph pi pj r pk pl"><svg width="25" height="25" viewBox="0 0 25 25" aria-label="clap"><g fill-rule="evenodd"><path d="M11.74 0l.76 2.97.76-2.97zM14.81 3.78l1.84-2.56-1.42-.47zM8.38 1.22l1.84 2.56L9.8.75zM20.38 21.62a5.11 5.11 0 0 1-3.16 1.61l.49-.45c2.88-2.89 3.45-5.98 1.69-9.21l-1.1-1.94-.96-2.02c-.31-.67-.23-1.18.25-1.55a.84.84 0 0 1 .66-.16c.34.05.66.28.88.6l2.85 5.02c1.18 1.97 1.38 5.12-1.6 8.1M7.1 21.1l-5.02-5.02a1 1 0 0 1 .7-1.7 1 1 0 0 1 .72.3l2.6 2.6a.44.44 0 0 0 .63-.62L4.1 14.04l-1.75-1.75a1 1 0 1 1 1.41-1.41l4.15 4.15a.44.44 0 0 0 .63 0 .44.44 0 0 0 0-.62L4.4 10.26 3.22 9.08a1 1 0 0 1 0-1.4 1.02 1.02 0 0 1 1.41 0l1.18 1.16L9.96 13a.44.44 0 0 0 .62 0 .44.44 0 0 0 0-.63L6.43 8.22a.99.99 0 0 1-.3-.7.99.99 0 0 1 .3-.7 1 1 0 0 1 1.41 0l7 6.98a.44.44 0 0 0 .7-.5l-1.35-2.85c-.31-.68-.23-1.19.25-1.56a.85.85 0 0 1 .66-.16c.34.06.66.28.88.6L18.63 14c1.57 2.88 1.07 5.54-1.55 8.16a5.62 5.62 0 0 1-5.06 1.65 9.35 9.35 0 0 1-4.93-2.72zM11 5.98l2.56 2.56c-.5.6-.56 1.41-.15 2.28l.26.56-4.25-4.25a.98.98 0 0 1-.12-.45 1 1 0 0 1 .29-.7 1.02 1.02 0 0 1 1.41 0zm8.89 2.06c-.38-.56-.9-.92-1.49-1.01a1.74 1.74 0 0 0-1.34.33c-.38.29-.61.65-.71 1.06a2.1 2.1 0 0 0-1.1-.56 1.78 1.78 0 0 0-.99.13l-2.64-2.64a1.88 1.88 0 0 0-2.65 0 1.86 1.86 0 0 0-.48.85 1.89 1.89 0 0 0-2.67-.01 1.87 1.87 0 0 0-.5.9c-.76-.75-2-.75-2.7-.04a1.88 1.88 0 0 0 0 2.66c-.3.12-.61.29-.87.55a1.88 1.88 0 0 0 0 2.66l.62.62a1.88 1.88 0 0 0-.9 3.16l5.01 5.02c1.6 1.6 3.52 2.64 5.4 2.96a7.16 7.16 0 0 0 1.18.1c1.03 0 2-.25 2.9-.7A5.9 5.9 0 0 0 21 22.24c3.34-3.34 3.08-6.93 1.74-9.17l-2.87-5.04z"></path></g></svg></div></a></span></div><div class="s pm pn po pp pq pr ps"><div class="ao ql pt"><p class="ba b bb bc gj"><button class="ds dt bz ca cb cc cd ce cf bl du dv cg dw dx">309<span class="s h g f qm qn"> </span></button><span class="s h g f qm qn"></span></p></div></div></div></span><span class="s h g f qm qn"><div class="n o"><div class="s ao oy oz pa pb pc"><span><a href="https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Fp%2F1bf5443b0ad1&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40fullstackpho%2Faws-amplify-multi-auth-graphql-public-read-and-authenticated-create-update-delete-1bf5443b0ad1&amp;source=post_actions_footer-----1bf5443b0ad1---------------------clap_footer-----------" class="ds dt bz ca cb cc cd ce cf bl du dv cg dw dx" rel="noopener"><div class="ce pd pe pf pg ph pi pj r pk pl"><svg width="25" height="25" viewBox="0 0 25 25" aria-label="clap"><g fill-rule="evenodd"><path d="M11.74 0l.76 2.97.76-2.97zM14.81 3.78l1.84-2.56-1.42-.47zM8.38 1.22l1.84 2.56L9.8.75zM20.38 21.62a5.11 5.11 0 0 1-3.16 1.61l.49-.45c2.88-2.89 3.45-5.98 1.69-9.21l-1.1-1.94-.96-2.02c-.31-.67-.23-1.18.25-1.55a.84.84 0 0 1 .66-.16c.34.05.66.28.88.6l2.85 5.02c1.18 1.97 1.38 5.12-1.6 8.1M7.1 21.1l-5.02-5.02a1 1 0 0 1 .7-1.7 1 1 0 0 1 .72.3l2.6 2.6a.44.44 0 0 0 .63-.62L4.1 14.04l-1.75-1.75a1 1 0 1 1 1.41-1.41l4.15 4.15a.44.44 0 0 0 .63 0 .44.44 0 0 0 0-.62L4.4 10.26 3.22 9.08a1 1 0 0 1 0-1.4 1.02 1.02 0 0 1 1.41 0l1.18 1.16L9.96 13a.44.44 0 0 0 .62 0 .44.44 0 0 0 0-.63L6.43 8.22a.99.99 0 0 1-.3-.7.99.99 0 0 1 .3-.7 1 1 0 0 1 1.41 0l7 6.98a.44.44 0 0 0 .7-.5l-1.35-2.85c-.31-.68-.23-1.19.25-1.56a.85.85 0 0 1 .66-.16c.34.06.66.28.88.6L18.63 14c1.57 2.88 1.07 5.54-1.55 8.16a5.62 5.62 0 0 1-5.06 1.65 9.35 9.35 0 0 1-4.93-2.72zM11 5.98l2.56 2.56c-.5.6-.56 1.41-.15 2.28l.26.56-4.25-4.25a.98.98 0 0 1-.12-.45 1 1 0 0 1 .29-.7 1.02 1.02 0 0 1 1.41 0zm8.89 2.06c-.38-.56-.9-.92-1.49-1.01a1.74 1.74 0 0 0-1.34.33c-.38.29-.61.65-.71 1.06a2.1 2.1 0 0 0-1.1-.56 1.78 1.78 0 0 0-.99.13l-2.64-2.64a1.88 1.88 0 0 0-2.65 0 1.86 1.86 0 0 0-.48.85 1.89 1.89 0 0 0-2.67-.01 1.87 1.87 0 0 0-.5.9c-.76-.75-2-.75-2.7-.04a1.88 1.88 0 0 0 0 2.66c-.3.12-.61.29-.87.55a1.88 1.88 0 0 0 0 2.66l.62.62a1.88 1.88 0 0 0-.9 3.16l5.01 5.02c1.6 1.6 3.52 2.64 5.4 2.96a7.16 7.16 0 0 0 1.18.1c1.03 0 2-.25 2.9-.7A5.9 5.9 0 0 0 21 22.24c3.34-3.34 3.08-6.93 1.74-9.17l-2.87-5.04z"></path></g></svg></div></a></span></div><div class="s pm pn po pp pq pr ps"><div class="pt"><p class="ba b bb bc gj"><button class="ds dt bz ca cb cc cd ce cf bl du dv cg dw dx">309<!-- --> </button></p></div></div></div></span></div><div class="s qo qp qq qr qs"></div><button class="pg pe ce"><div class="pv n o ax"><span class="qt s qu"><svg width="25" height="25" class="r pu pg pl" aria-label="responses"><path d="M19.07 21.12a6.33 6.33 0 0 1-3.53-1.1 7.8 7.8 0 0 1-.7-.52c-.77.21-1.57.32-2.38.32-4.67 0-8.46-3.5-8.46-7.8C4 7.7 7.79 4.2 12.46 4.2c4.66 0 8.46 3.5 8.46 7.8 0 2.06-.85 3.99-2.4 5.45a6.28 6.28 0 0 0 1.14 2.59c.15.21.17.48.06.7a.69.69 0 0 1-.62.38h-.03zm0-1v.5l.03-.5h-.03zm-3.92-1.64l.21.2a6.09 6.09 0 0 0 3.24 1.54 7.14 7.14 0 0 1-.83-1.84 5.15 5.15 0 0 1-.16-.75 2.4 2.4 0 0 1-.02-.29v-.23l.18-.15a6.6 6.6 0 0 0 2.3-4.96c0-3.82-3.4-6.93-7.6-6.93-4.19 0-7.6 3.11-7.6 6.93 0 3.83 3.41 6.94 7.6 6.94.83 0 1.64-.12 2.41-.35l.28-.08z" fill-rule="evenodd"></path></svg></span><div class="s ao qv px qw pz qx qb qy qz ra rb"><p class="ba b bb bc by">5<!-- --> </p></div></div></button></div><div class="n o"><div class="ha s"><div class="bv" aria-hidden="false" aria-describedby="postFooterSocialMenu" aria-labelledby="postFooterSocialMenu"><div><div class="bv" role="tooltip" aria-hidden="false"><button class="ds dt bz ca cb cc cd ce cf bl du dv cg dw dx" aria-controls="postFooterSocialMenu" aria-expanded="false" aria-label="Share Post"><svg width="25" height="25" class="r"><g fill-rule="evenodd"><path d="M15.6 5a.42.42 0 0 0 .17-.3.42.42 0 0 0-.12-.33l-2.8-2.79a.5.5 0 0 0-.7 0l-2.8 2.8a.4.4 0 0 0-.1.32c0 .12.07.23.16.3h.02a.45.45 0 0 0 .57-.04l2-2V10c0 .28.23.5.5.5s.5-.22.5-.5V2.93l2.02 2.02c.08.07.18.12.3.13.11.01.21-.02.3-.08v.01"></path><path d="M18 7h-1.5a.5.5 0 0 0 0 1h1.6c.5 0 .9.4.9.9v10.2c0 .5-.4.9-.9.9H6.9a.9.9 0 0 1-.9-.9V8.9c0-.5.4-.9.9-.9h1.6a.5.5 0 0 0 .35-.15A.5.5 0 0 0 9 7.5a.5.5 0 0 0-.15-.35A.5.5 0 0 0 8.5 7H7a2 2 0 0 0-2 2v10c0 1.1.9 2 2 2h11a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2"></path></g></svg></button></div></div></div></div><div class="ha s ab"></div></div></div></div><div class="rc qg s"><ul class="ce cf"><li class="bv rd hb re"><a href="/tag/aws-lambda" class="ba b le rf by rg rh bw s ll">AWS Lambda</a></li><li class="bv rd hb re"><a href="/tag/react" class="ba b le rf by rg rh bw s ll">React</a></li><li class="bv rd hb re"><a href="/tag/aws-amplify" class="ba b le rf by rg rh bw s ll">Aws Amplify</a></li><li class="bv rd hb re"><a href="/tag/aws" class="ba b le rf by rg rh bw s ll">AWS</a></li><li class="bv rd hb re"><a href="/tag/javascript" class="ba b le rf by rg rh bw s ll">JavaScript</a></li></ul></div><div class="ri s"></div></div></div><div><div class="n p"><div class="ap aq ar as at fl av w"></div></div><div class="s gz"><div class="rj rk s rl"><div class="n p"><div class="ap aq ar as at fl av w"><div class="n o cj"><h2 class="ba jg rm rn ro jj rp rq rr jm rs rt ru jq rv rw rx ju ry rz sa jy kv kx ky sb la lb gj"><a class="ds dt bz ca cb cc cd ce cf bl du dv cg dw dx" rel="noopener" href="/@fullstackpho?source=follow_footer-------------------------------------">More from FullstackPho</a></h2><span><button class="ba b bb bc oq be or os bh ot bk bl bm bn ou bq br bs bt bu bv bw">Follow</button></span></div></div></div></div></div><div class="sc s rl gz"><div class="n p"><div class="hd hf hh sd se ht av w"></div></div></div><div class="s ex gz"><div class="n p"><div class="ap aq ar as at au av w"><div class="sf sg s"><div class="sh an si sg s sj sk"><h2 class="ba jg sl sm jj sn so jm sp sq jq sr ss ju st su jy gj">More From Medium</h2></div><div class="cp n ax ct sv sw sx sy sz ta tb tc td te tf tg th ti tj"><div class="tk tl tm he tn to tp hg tq tr ts tt tu tv tw tx ty tz ua ub uc"><div class="ud ue s"><div class="w lu"><div class="n cj"><div class="s uf ug uh ui"><div class="uj s"><h2 class="ba jg rm rn jj rp rq jm uk ul jq um un ju uo up jy gj"><a rel="noopener" href="/strike-sh/golang-mysql-queries-made-easier-bbebf359833c?source=post_internal_links---------0----------------------------">Golang MySQL queries made easier!</a></h2></div><div class="o n"><div></div><div class="w s"><div class="n"><div style="flex:1"><span class="ba b bb bc gj"><div class="cq n o uq"><span class="ba b le bc gj"><a class="ds dt bz ca cb cc cd ce cf bl ur cg dw dx" rel="noopener" href="/@tomasde.angelis?source=post_internal_links---------0----------------------------">Tomas De Angelis</a><span> <!-- -->in<!-- --> <a href="/strike-sh?source=post_internal_links---------0----------------------------" class="ds dt bz ca cb cc cd ce cf bl ur cg dw dx" rel="noopener">strike.sh</a></span></span></div></span></div></div></div></div></div><div class="dy hb s us ut"><a class="ds dt bz ca cb cc cd ce cf bl du dv cg dw dx s" rel="noopener" href="/strike-sh/golang-mysql-queries-made-easier-bbebf359833c?source=post_internal_links---------0----------------------------"><div class="lx s ao ly"><div class="uu ma s"><div class="ej lt fd em ei lu w kv lv lw"><img class="fd em ei lu w mb mc md" src="https://miro.medium.com/max/60/1*o1Ldgyq5ElBqzWGGhTHIzw.jpeg?q=20" width="70" height="70" role="presentation"/></div><img class="ej lt uv uw ux uy uz va vb vc vd ve c" width="70" height="70" role="presentation"/><noscript><img class="uv uw ux uy uz va vb vc vd ve" src="https://miro.medium.com/fit/c/140/140/1*o1Ldgyq5ElBqzWGGhTHIzw.jpeg" width="70" height="70" srcSet="https://miro.medium.com/fit/c/96/140/1*o1Ldgyq5ElBqzWGGhTHIzw.jpeg 48w, https://miro.medium.com/fit/c/140/140/1*o1Ldgyq5ElBqzWGGhTHIzw.jpeg 70w" sizes="70px" role="presentation"/></noscript></div></div></a></div></div></div></div></div><div class="tk tl tm he tn to tp hg tq tr ts tt tu tv tw tx ty tz ua ub uc"><div class="ud ue s"><div class="w lu"><div class="n cj"><div class="s uf ug uh ui"><div class="uj s"><h2 class="ba jg rm rn jj rp rq jm uk ul jq um un ju uo up jy gj"><a href="https://codinghub.medium.com/python-examples-for-beginners-bc717077d446?source=post_internal_links---------1----------------------------" rel="noopener">Python Examples For Beginners</a></h2></div><div class="o n"><div></div><div class="w s"><div class="n"><div style="flex:1"><span class="ba b bb bc gj"><div class="cq n o uq"><span class="ba b le bc gj"><a href="https://codinghub.medium.com/?source=post_internal_links---------1----------------------------" class="ds dt bz ca cb cc cd ce cf bl ur cg dw dx" rel="noopener">CodingHub</a></span></div></span></div></div></div></div></div><div class="dy hb s us ut"><a href="https://codinghub.medium.com/python-examples-for-beginners-bc717077d446?source=post_internal_links---------1----------------------------" class="ds dt bz ca cb cc cd ce cf bl du dv cg dw dx s" rel="noopener"><div class="lx s ao ly"><div class="uu ma s"><div class="ej lt fd em ei lu w kv lv lw"><img class="fd em ei lu w mb mc md" src="https://miro.medium.com/max/60/0*Xx1KlJ8ntsY28e7B.jpg?q=20" width="70" height="70" role="presentation"/></div><img class="ej lt uv uw ux uy uz va vb vc vd ve c" width="70" height="70" role="presentation"/><noscript><img class="uv uw ux uy uz va vb vc vd ve" src="https://miro.medium.com/fit/c/140/140/0*Xx1KlJ8ntsY28e7B.jpg" width="70" height="70" srcSet="https://miro.medium.com/fit/c/96/140/0*Xx1KlJ8ntsY28e7B.jpg 48w, https://miro.medium.com/fit/c/140/140/0*Xx1KlJ8ntsY28e7B.jpg 70w" sizes="70px" role="presentation"/></noscript></div></div></a></div></div></div></div></div><div class="tk tl tm he tn to tp hg tq tr ts tt tu tv tw tx ty tz ua ub uc"><div class="ud ue s"><div class="w lu"><div class="n cj"><div class="s uf ug uh ui"><div class="uj s"><h2 class="ba jg rm rn jj rp rq jm uk ul jq um un ju uo up jy gj"><a rel="noopener" href="/@nilsken/coding-designers-bc916863b223?source=post_internal_links---------2----------------------------">Coding Designers</a></h2></div><div class="o n"><div></div><div class="w s"><div class="n"><div style="flex:1"><span class="ba b bb bc gj"><div class="cq n o uq"><span class="ba b le bc gj"><a class="ds dt bz ca cb cc cd ce cf bl ur cg dw dx" rel="noopener" href="/@nilsken?source=post_internal_links---------2----------------------------">nils neumann</a></span></div></span></div></div></div></div></div><div class="dy hb s us ut"><a class="ds dt bz ca cb cc cd ce cf bl du dv cg dw dx s" rel="noopener" href="/@nilsken/coding-designers-bc916863b223?source=post_internal_links---------2----------------------------"><div class="lx s ao ly"><div class="uu ma s"><div class="ej lt fd em ei lu w kv lv lw"><img class="fd em ei lu w mb mc md" src="https://miro.medium.com/max/60/1*OBBA3BrDt5ri63MZiGV0EQ.jpeg?q=20" width="70" height="70" role="presentation"/></div><img class="ej lt uv uw ux uy uz va vb vc vd ve c" width="70" height="70" role="presentation"/><noscript><img class="uv uw ux uy uz va vb vc vd ve" src="https://miro.medium.com/fit/c/140/140/1*OBBA3BrDt5ri63MZiGV0EQ.jpeg" width="70" height="70" srcSet="https://miro.medium.com/fit/c/96/140/1*OBBA3BrDt5ri63MZiGV0EQ.jpeg 48w, https://miro.medium.com/fit/c/140/140/1*OBBA3BrDt5ri63MZiGV0EQ.jpeg 70w" sizes="70px" role="presentation"/></noscript></div></div></a></div></div></div></div></div><div class="tk tl tm he tn to tp hg tq tr ts tt tu tv tw tx ty tz ua ub uc"><div class="ud ue s"><div class="w lu"><div class="n cj"><div class="s uf ug uh ui"><div class="uj s"><h2 class="ba jg rm rn jj rp rq jm uk ul jq um un ju uo up jy gj"><a href="https://xuorig.medium.com/a-guide-to-graphql-errors-bb9ba9f15f85?source=post_internal_links---------3----------------------------" rel="noopener">A Guide to GraphQL Errors</a></h2></div><div class="o n"><div></div><div class="w s"><div class="n"><div style="flex:1"><span class="ba b bb bc gj"><div class="cq n o uq"><span class="ba b le bc gj"><a href="https://xuorig.medium.com/?source=post_internal_links---------3----------------------------" class="ds dt bz ca cb cc cd ce cf bl ur cg dw dx" rel="noopener">Marc-André Giroux</a></span></div></span></div></div></div></div></div><div class="dy hb s us ut"><a href="https://xuorig.medium.com/a-guide-to-graphql-errors-bb9ba9f15f85?source=post_internal_links---------3----------------------------" class="ds dt bz ca cb cc cd ce cf bl du dv cg dw dx s" rel="noopener"><div class="lx s ao ly"><div class="uu ma s"><div class="ej lt fd em ei lu w kv lv lw"><img class="fd em ei lu w mb mc md" src="https://miro.medium.com/max/60/1*hn4v1tCaJy7cWMyb0bpNpQ.png?q=20" width="70" height="70" role="presentation"/></div><img class="ej lt uv uw ux uy uz va vb vc vd ve c" width="70" height="70" role="presentation"/><noscript><img class="uv uw ux uy uz va vb vc vd ve" src="https://miro.medium.com/fit/c/140/140/1*hn4v1tCaJy7cWMyb0bpNpQ.png" width="70" height="70" srcSet="https://miro.medium.com/fit/c/96/140/1*hn4v1tCaJy7cWMyb0bpNpQ.png 48w, https://miro.medium.com/fit/c/140/140/1*hn4v1tCaJy7cWMyb0bpNpQ.png 70w" sizes="70px" role="presentation"/></noscript></div></div></a></div></div></div></div></div><div class="tk tl tm he tn to tp hg tq tr ts tt tu tv tw tx ty tz ua ub uc"><div class="ud ue s"><div class="w lu"><div class="n cj"><div class="s uf ug uh ui"><div class="uj s"><h2 class="ba jg rm rn jj rp rq jm uk ul jq um un ju uo up jy gj"><a href="https://drgarcia1986.medium.com/playing-with-go-and-generics-bba6961b14a0?source=post_internal_links---------4----------------------------" rel="noopener">Playing with Go and Generics</a></h2></div><div class="o n"><div></div><div class="w s"><div class="n"><div style="flex:1"><span class="ba b bb bc gj"><div class="cq n o uq"><span class="ba b le bc gj"><a href="https://drgarcia1986.medium.com/?source=post_internal_links---------4----------------------------" class="ds dt bz ca cb cc cd ce cf bl ur cg dw dx" rel="noopener">Diego Garcia</a></span></div></span></div></div></div></div></div><div class="dy hb s us ut"><a href="https://drgarcia1986.medium.com/playing-with-go-and-generics-bba6961b14a0?source=post_internal_links---------4----------------------------" class="ds dt bz ca cb cc cd ce cf bl du dv cg dw dx s" rel="noopener"><div class="lx s ao ly"><div class="uu ma s"><div class="ej lt fd em ei lu w kv lv lw"><img class="fd em ei lu w mb mc md" src="https://miro.medium.com/max/60/1*yrCvWF5ZvhVr8m80Payxfg.jpeg?q=20" width="70" height="70" role="presentation"/></div><img class="ej lt uv uw ux uy uz va vb vc vd ve c" width="70" height="70" role="presentation"/><noscript><img class="uv uw ux uy uz va vb vc vd ve" src="https://miro.medium.com/fit/c/140/140/1*yrCvWF5ZvhVr8m80Payxfg.jpeg" width="70" height="70" srcSet="https://miro.medium.com/fit/c/96/140/1*yrCvWF5ZvhVr8m80Payxfg.jpeg 48w, https://miro.medium.com/fit/c/140/140/1*yrCvWF5ZvhVr8m80Payxfg.jpeg 70w" sizes="70px" role="presentation"/></noscript></div></div></a></div></div></div></div></div><div class="tk tl tm he tn to tp hg tq tr ts tt tu tv tw tx ty tz ua ub uc"><div class="ud ue s"><div class="w lu"><div class="n cj"><div class="s uf ug uh ui"><div class="uj s"><h2 class="ba jg rm rn jj rp rq jm uk ul jq um un ju uo up jy gj"><a href="https://theadarshsaxena.medium.com/launch-aws-instance-and-attach-volume-using-aws-cli-script-bc0fecbcd6a9?source=post_internal_links---------5----------------------------" rel="noopener">Launch AWS instance and attach volume using AWS CLI &amp; script</a></h2></div><div class="o n"><div></div><div class="w s"><div class="n"><div style="flex:1"><span class="ba b bb bc gj"><div class="cq n o uq"><span class="ba b le bc gj"><a href="https://theadarshsaxena.medium.com/?source=post_internal_links---------5----------------------------" class="ds dt bz ca cb cc cd ce cf bl ur cg dw dx" rel="noopener">Adarsh Saxena</a></span></div></span></div></div></div></div></div><div class="dy hb s us ut"><a href="https://theadarshsaxena.medium.com/launch-aws-instance-and-attach-volume-using-aws-cli-script-bc0fecbcd6a9?source=post_internal_links---------5----------------------------" class="ds dt bz ca cb cc cd ce cf bl du dv cg dw dx s" rel="noopener"><div class="lx s ao ly"><div class="uu ma s"><div class="ej lt fd em ei lu w kv lv lw"><img class="fd em ei lu w mb mc md" src="https://miro.medium.com/max/60/1*kHu1UqhK0lTbZnXGtgjyRA.png?q=20" width="70" height="70" role="presentation"/></div><img class="ej lt uv uw ux uy uz va vb vc vd ve c" width="70" height="70" role="presentation"/><noscript><img class="uv uw ux uy uz va vb vc vd ve" src="https://miro.medium.com/fit/c/140/140/1*kHu1UqhK0lTbZnXGtgjyRA.png" width="70" height="70" srcSet="https://miro.medium.com/fit/c/96/140/1*kHu1UqhK0lTbZnXGtgjyRA.png 48w, https://miro.medium.com/fit/c/140/140/1*kHu1UqhK0lTbZnXGtgjyRA.png 70w" sizes="70px" role="presentation"/></noscript></div></div></a></div></div></div></div></div><div class="tk tl tm he tn to tp hg tq tr ts tt tu tv tw tx ty tz ua ub uc"><div class="ud ue s"><div class="w lu"><div class="n cj"><div class="s uf ug uh ui"><div class="uj s"><h2 class="ba jg rm rn jj rp rq jm uk ul jq um un ju uo up jy gj"><a rel="noopener" href="/free-code-camp/the-strategy-pattern-explained-using-java-bc30542204e0?source=post_internal_links---------6----------------------------">The Strategy Pattern explained using Java</a></h2></div><div class="o n"><div></div><div class="w s"><div class="n"><div style="flex:1"><span class="ba b bb bc gj"><div class="cq n o uq"><span class="ba b le bc gj"><a class="ds dt bz ca cb cc cd ce cf bl ur cg dw dx" rel="noopener" href="/@Abdulkadir98?source=post_internal_links---------6----------------------------">Abdul Kadir</a><span> <!-- -->in<!-- --> <a href="/free-code-camp?source=post_internal_links---------6----------------------------" class="ds dt bz ca cb cc cd ce cf bl ur cg dw dx" rel="noopener">We’ve moved to freeCodeCamp.org/news</a></span></span></div></span></div></div></div></div></div><div class="dy hb s us ut"><a class="ds dt bz ca cb cc cd ce cf bl du dv cg dw dx s" rel="noopener" href="/free-code-camp/the-strategy-pattern-explained-using-java-bc30542204e0?source=post_internal_links---------6----------------------------"><div class="lx s ao ly"><div class="uu ma s"><div class="ej lt fd em ei lu w kv lv lw"><img class="fd em ei lu w mb mc md" src="https://miro.medium.com/max/60/0*Eljfa10yoxUFaJSj?q=20" width="70" height="70" role="presentation"/></div><img class="ej lt uv uw ux uy uz va vb vc vd ve c" width="70" height="70" role="presentation"/><noscript><img class="uv uw ux uy uz va vb vc vd ve" src="https://miro.medium.com/fit/c/140/140/0*Eljfa10yoxUFaJSj" width="70" height="70" srcSet="https://miro.medium.com/fit/c/96/140/0*Eljfa10yoxUFaJSj 48w, https://miro.medium.com/fit/c/140/140/0*Eljfa10yoxUFaJSj 70w" sizes="70px" role="presentation"/></noscript></div></div></a></div></div></div></div></div><div class="tk tl tm he tn to tp hg tq tr ts tt tu tv tw tx ty tz ua ub uc"><div class="ud ue s"><div class="w lu"><div class="n cj"><div class="s uf ug uh ui"><div class="uj s"><h2 class="ba jg rm rn jj rp rq jm uk ul jq um un ju uo up jy gj"><a rel="noopener" href="/swlh/how-to-responsive-parallax-footer-bc3ccb3ce8f1?source=post_internal_links---------7----------------------------">How To: Responsive Parallax Footer</a></h2></div><div class="o n"><div></div><div class="w s"><div class="n"><div style="flex:1"><span class="ba b bb bc gj"><div class="cq n o uq"><span class="ba b le bc gj"><a href="https://gg-gina.medium.com/?source=post_internal_links---------7----------------------------" class="ds dt bz ca cb cc cd ce cf bl ur cg dw dx" rel="noopener">Gina Lee</a><span> <!-- -->in<!-- --> <a href="/swlh?source=post_internal_links---------7----------------------------" class="ds dt bz ca cb cc cd ce cf bl ur cg dw dx" rel="noopener">The Startup</a></span></span></div></span></div></div></div></div></div><div class="dy hb s us ut"><a class="ds dt bz ca cb cc cd ce cf bl du dv cg dw dx s" rel="noopener" href="/swlh/how-to-responsive-parallax-footer-bc3ccb3ce8f1?source=post_internal_links---------7----------------------------"><div class="lx s ao ly"><div class="uu ma s"><div class="ej lt fd em ei lu w kv lv lw"><img class="fd em ei lu w mb mc md" src="https://miro.medium.com/freeze/max/60/1*36309e9dNhYaT66XZvYdwg.gif?q=20" width="70" height="70" role="presentation"/></div><img class="ej lt uv uw ux uy uz va vb vc vd ve c" width="70" height="70" role="presentation"/><noscript><img class="uv uw ux uy uz va vb vc vd ve" src="https://miro.medium.com/fit/c/140/140/1*36309e9dNhYaT66XZvYdwg.gif" width="70" height="70" srcSet="https://miro.medium.com/fit/c/96/140/1*36309e9dNhYaT66XZvYdwg.gif 48w, https://miro.medium.com/fit/c/140/140/1*36309e9dNhYaT66XZvYdwg.gif 70w" sizes="70px" role="presentation"/></noscript></div></div></a></div></div></div></div></div></div></div></div></div></div></div></div></div><div class="vf s vg vh"><div class="n p"><div class="ap aq ar as at au av w"><div class="n ak"><div class="n o cj"><a href="https://medium.com/?source=post_page-----1bf5443b0ad1--------------------------------" class="ds dt bz ca cb cc cd ce cf bl vi vj cg vk vl" rel="noopener"><svg viewBox="0 0 3940 610" class="or vm"><path d="M594.79 308.2c0 163.76-131.85 296.52-294.5 296.52S5.8 472 5.8 308.2 137.65 11.69 300.29 11.69s294.5 132.75 294.5 296.51M917.86 308.2c0 154.16-65.93 279.12-147.25 279.12s-147.25-125-147.25-279.12S689.29 29.08 770.61 29.08s147.25 125 147.25 279.12M1050 308.2c0 138.12-23.19 250.08-51.79 250.08s-51.79-112-51.79-250.08 23.19-250.08 51.8-250.08S1050 170.09 1050 308.2M1862.77 37.4l.82-.18v-6.35h-167.48l-155.51 365.5-155.51-365.5h-180.48v6.35l.81.18c30.57 6.9 46.09 17.19 46.09 54.3v434.45c0 37.11-15.58 47.4-46.15 54.3l-.81.18V587H1327v-6.35l-.81-.18c-30.57-6.9-46.09-17.19-46.09-54.3V116.9L1479.87 587h11.33l205.59-483.21V536.9c-2.62 29.31-18 38.36-45.68 44.61l-.82.19v6.3h213.3v-6.3l-.82-.19c-27.71-6.25-43.46-15.3-46.08-44.61l-.14-445.2h.14c0-37.11 15.52-47.4 46.08-54.3m97.43 287.8c3.49-78.06 31.52-134.4 78.56-135.37 14.51.24 26.68 5 36.14 14.16 20.1 19.51 29.55 60.28 28.09 121.21zm-2.11 22h250v-1.05c-.71-59.69-18-106.12-51.34-138-28.82-27.55-71.49-42.71-116.31-42.71h-1c-23.26 0-51.79 5.64-72.09 15.86-23.11 10.7-43.49 26.7-60.45 47.7-27.3 33.83-43.84 79.55-47.86 130.93-.13 1.54-.24 3.08-.35 4.62s-.18 2.92-.25 4.39a332.64 332.64 0 0 0-.36 21.69C1860.79 507 1923.65 600 2035.3 600c98 0 155.07-71.64 169.3-167.8l-7.19-2.53c-25 51.68-69.9 83-121 79.18-69.76-5.22-123.2-75.95-118.35-161.63m532.69 157.68c-8.2 19.45-25.31 30.15-48.24 30.15s-43.89-15.74-58.78-44.34c-16-30.7-24.42-74.1-24.42-125.51 0-107 33.28-176.21 84.79-176.21 21.57 0 38.55 10.7 46.65 29.37zm165.84 76.28c-30.57-7.23-46.09-18-46.09-57V5.28L2424.77 60v6.7l1.14-.09c25.62-2.07 43 1.47 53.09 10.79 7.9 7.3 11.75 18.5 11.75 34.26v71.14c-18.31-11.69-40.09-17.38-66.52-17.38-53.6 0-102.59 22.57-137.92 63.56-36.83 42.72-56.3 101.1-56.3 168.81C2230 518.72 2289.53 600 2378.13 600c51.83 0 93.53-28.4 112.62-76.3V588h166.65v-6.66zm159.29-505.33c0-37.76-28.47-66.24-66.24-66.24-37.59 0-67 29.1-67 66.24s29.44 66.24 67 66.24c37.77 0 66.24-28.48 66.24-66.24m43.84 505.33c-30.57-7.23-46.09-18-46.09-57h-.13V166.65l-166.66 47.85v6.5l1 .09c36.06 3.21 45.93 15.63 45.93 57.77V588h166.8v-6.66zm427.05 0c-30.57-7.23-46.09-18-46.09-57V166.65L3082 212.92v6.52l.94.1c29.48 3.1 38 16.23 38 58.56v226c-9.83 19.45-28.27 31-50.61 31.78-36.23 0-56.18-24.47-56.18-68.9V166.66l-166.66 47.85V221l1 .09c36.06 3.2 45.94 15.62 45.94 57.77v191.27a214.48 214.48 0 0 0 3.47 39.82l3 13.05c14.11 50.56 51.08 77 109 77 49.06 0 92.06-30.37 111-77.89v66h166.66v-6.66zM3934.2 588v-6.67l-.81-.19c-33.17-7.65-46.09-22.07-46.09-51.43v-243.2c0-75.83-42.59-121.09-113.93-121.09-52 0-95.85 30.05-112.73 76.86-13.41-49.6-52-76.86-109.06-76.86-50.12 0-89.4 26.45-106.25 71.13v-69.87l-166.66 45.89v6.54l1 .09c35.63 3.16 45.93 15.94 45.93 57V588h155.5v-6.66l-.82-.2c-26.46-6.22-35-17.56-35-46.66V255.72c7-16.35 21.11-35.72 49-35.72 34.64 0 52.2 24 52.2 71.28V588h155.54v-6.66l-.82-.2c-26.46-6.22-35-17.56-35-46.66v-248a160.45 160.45 0 0 0-2.2-27.68c7.42-17.77 22.34-38.8 51.37-38.8 35.13 0 52.2 23.31 52.2 71.28V588z"></path></svg></a><div class="v vn n cj vo cl"><p class="ba b dn do vp"><a href="https://medium.com/about?autoplay=1&amp;source=post_page-----1bf5443b0ad1--------------------------------" class="ds dt bz ca cb cc cd ce cf bl ur cg vk vl" rel="noopener">About</a></p><p class="ba b dn do vp"><a href="https://help.medium.com/hc/en-us?source=post_page-----1bf5443b0ad1--------------------------------" class="ds dt bz ca cb cc cd ce cf bl ur cg vk vl" rel="noopener">Help</a></p><p class="ba b dn do vp"><a href="https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----1bf5443b0ad1--------------------------------" class="ds dt bz ca cb cc cd ce cf bl ur cg vk vl" rel="noopener">Legal</a></p></div></div><div class="al vq vr cl"><p class="ba b dn do vs">Get the Medium app</p></div><div class="al vq vt cl vu"><div class="az s"><a href="https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&amp;mt=8&amp;ct=post_page&amp;source=post_page-----1bf5443b0ad1--------------------------------" class="ds dt bz ca cb cc cd ce cf bl vi vj cg vk vl" rel="noopener nofollow"><img alt="A button that says &#x27;Download on the App Store&#x27;, and if clicked it will lead you to the iOS App store" class="" src="https://miro.medium.com/max/270/1*Crl55Tm6yDNMoucPo1tvDg.png" width="135" height="41"/></a></div><div class="s"><a href="https://play.google.com/store/apps/details?id=com.medium.reader&amp;source=post_page-----1bf5443b0ad1--------------------------------" class="ds dt bz ca cb cc cd ce cf bl vi vj cg vk vl" rel="noopener nofollow"><img alt="A button that says &#x27;Get it on, Google Play&#x27;, and if clicked it will lead you to the Google Play store" class="" src="https://miro.medium.com/max/270/1*W_RAPQ62h0em559zluJLdQ.png" width="135" height="41"/></a></div></div></div></div></div></div></div></div></div><script>window.__BUILD_ID__ = "main-20210511-004416-e2a34b6598"</script><script>window.__GRAPHQL_URI__ = "https://medium.com/_/graphql"</script><script>window.__PRELOADED_STATE__ = {"auroraPage":{"isAuroraPageEnabled":true},"bookReader":{"assets":{},"reader":{"currentAsset":null,"settingsPanelIsOpen":false,"settings":{"fontFamily":"CHARTER","fontScale":"M","publisherStyling":true,"textAlignment":"start","theme":"White","lineSpacing":0,"wordSpacing":0,"letterSpacing":0},"internalNavCounter":0,"currentSelection":null,"highlights":[]}},"cache":{"experimentGroupSet":true,"reason":"","group":"enabled","tags":["group-edgeCachePosts","post-1bf5443b0ad1","user-13d15e193b81"],"serverVariantState":"ffcf4735f7d64f578b3b54dc42df1860b32894eeda562d11f905c764e349256e","middlewareEnabled":true,"cacheStatus":"DYNAMIC"},"client":{"hydrated":false,"isUs":false,"isNativeMedium":false,"isSafariMobile":false,"isSafari":false,"routingEntity":{"type":"DEFAULT","explicit":false}},"debug":{"requestId":"ab129ac2-4318-4c44-adb9-200a7b7e1ed4","hybridDevServices":[],"originalSpanCarrier":{"ot-tracer-spanid":"11bc72825d611c1b","ot-tracer-traceid":"41f9f3c059385fd9","ot-tracer-sampled":"true"}},"multiVote":{"clapsPerPost":{}},"navigation":{"branch":{"show":null,"hasRendered":null,"blockedByCTA":false},"hideGoogleOneTap":false,"hasRenderedGoogleOneTap":null,"hasRenderedAlternateUserBanner":null,"currentLocation":"https:\u002F\u002Fmedium.com\u002F@fullstackpho\u002Faws-amplify-multi-auth-graphql-public-read-and-authenticated-create-update-delete-1bf5443b0ad1","host":"medium.com","hostname":"medium.com","referrer":"","hasSetReferrer":false,"susiModal":{"step":null,"operation":"register"},"postRead":false,"queryString":"","currentHash":""},"tracing":{},"config":{"nodeEnv":"production","version":"main-20210511-004416-e2a34b6598","isTaggedVersion":false,"target":"production","productName":"Medium","publicUrl":"https:\u002F\u002Fcdn-client.medium.com\u002Flite","authDomain":"medium.com","authGoogleClientId":"216296035834-k1k6qe060s2tp2a2jam4ljdcms00sttg.apps.googleusercontent.com","favicon":"production","glyphUrl":"https:\u002F\u002Fglyph.medium.com","branchKey":"key_live_ofxXr2qTrrU9NqURK8ZwEhknBxiI6KBm","lightStep":{"name":"lite-web","host":"lightstep.medium.systems","token":"ce5be895bef60919541332990ac9fef2","appVersion":"main-20210511-004416-e2a34b6598"},"algolia":{"appId":"MQ57UUUQZ2","apiKeySearch":"394474ced050e3911ae2249ecc774921","indexPrefix":"medium_","host":"-dsn.algolia.net"},"recaptchaKey":"6Lfc37IUAAAAAKGGtC6rLS13R1Hrw_BqADfS1LRk","recaptcha3Key":"6Lf8R9wUAAAAABMI_85Wb8melS7Zj6ziuf99Yot5","datadog":{"clientToken":"pub853ea8d17ad6821d9f8f11861d23dfed","context":{"deployment":{"target":"production","tag":"main-20210511-004416-e2a34b6598","commit":"e2a34b6598c9e95f4f9b542a14464d33e043c879"}},"datacenter":"us"},"googleAnalyticsCode":"UA-24232453-2","googlePay":{"apiVersion":"2","apiVersionMinor":"0","merchantId":"BCR2DN6TV7EMTGBM","merchantName":"Medium"},"signInWallCustomDomainCollectionIds":["3a8144eabfe3","336d898217ee","61061eb0c96b","138adf9c44c","819cc2aaeee0"],"mediumOwnedAndOperatedCollectionIds":["544c7006046e","bcc38c8f6edf","444d13b52878","8d6b8a439e32","92d2092dc598","1285ba81cada","cb8577c9149e","8ccfed20cbb2","ae2a65f35510","3f6ecf56618","7b6769f2748b","fc8964313712","ef8e90590e66","191186aaafa0","d944778ce714","bdc4052bbdba","88d9857e584e","9dc80918cc93","8a9336e5bb4","cef6983b292","54c98c43354d","193b68bd4fba","b7e45b22fec3","55760f21cdc5"],"tierOneDomains":["medium.com","thebolditalic.com","arcdigital.media","towardsdatascience.com","uxdesign.cc","codeburst.io","psiloveyou.xyz","writingcooperative.com","entrepreneurshandbook.co","prototypr.io","betterhumans.coach.me","theascent.pub"],"topicsToFollow":["d61cf867d93f","8a146bc21b28","1eca0103fff3","4d562ee63426","aef1078a3ef5","e15e46793f8d","6158eb913466","55f1c20aba7a","3d18b94f6858","4861fee224fd","63c6f1f93ee","1d98b3a9a871","decb52b64abf","ae5d4995e225","830cded25262"],"defaultImages":{"avatar":{"imageId":"1*dmbNkD5D-u45r44go_cf0g.png","height":150,"width":150},"orgLogo":{"imageId":"1*OMF3fSqH8t4xBJ9-6oZDZw.png","height":106,"width":545},"postLogo":{"imageId":"1*kFrc4tBFM_tCis-2Ic87WA.png","height":810,"width":1440},"postPreviewImage":{"imageId":"1*hn4v1tCaJy7cWMyb0bpNpQ.png","height":386,"width":579}},"collectionStructuredData":{"8d6b8a439e32":{"name":"Elemental","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F980\u002F1*9ygdqoKprhwuTVKUM0DLPA@2x.png","width":980,"height":159}}},"3f6ecf56618":{"name":"Forge","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F596\u002F1*uULpIlImcO5TDuBZ6lm7Lg@2x.png","width":596,"height":183}}},"ae2a65f35510":{"name":"GEN","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F264\u002F1*RdVZMdvfV3YiZTw6mX7yWA.png","width":264,"height":140}}},"88d9857e584e":{"name":"LEVEL","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F540\u002F1*JqYMhNX6KNNb2UlqGqO2WQ.png","width":540,"height":108}}},"7b6769f2748b":{"name":"Marker","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F383\u002F1*haCUs0wF6TgOOvfoY-jEoQ@2x.png","width":383,"height":92}}},"444d13b52878":{"name":"OneZero","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F540\u002F1*cw32fIqCbRWzwJaoQw6BUg.png","width":540,"height":123}}},"8ccfed20cbb2":{"name":"Zora","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F540\u002F1*tZUQqRcCCZDXjjiZ4bDvgQ.png","width":540,"height":106}}}},"embeddedPostIds":{"coronavirus":"cd3010f9d81f"},"sharedCdcMessaging":{"COVID_APPLICABLE_TAG_SLUGS":[],"COVID_APPLICABLE_TOPIC_NAMES":[],"COVID_APPLICABLE_TOPIC_NAMES_FOR_TOPIC_PAGE":[],"COVID_MESSAGES":{"tierA":{"text":"For more information on the novel coronavirus and Covid-19, visit cdc.gov.","markups":[{"start":66,"end":73,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]},"tierB":{"text":"Anyone can publish on Medium per our Policies, but we don’t fact-check every story. For more info about the coronavirus, see cdc.gov.","markups":[{"start":37,"end":45,"href":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Fcategories\u002F201931128-Policies-Safety"},{"start":125,"end":132,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]},"paywall":{"text":"This article has been made free for everyone, thanks to Medium Members. For more information on the novel coronavirus and Covid-19, visit cdc.gov.","markups":[{"start":56,"end":70,"href":"https:\u002F\u002Fmedium.com\u002Fmembership"},{"start":138,"end":145,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]},"unbound":{"text":"This article is free for everyone, thanks to Medium Members. For more information on the novel coronavirus and Covid-19, visit cdc.gov.","markups":[{"start":45,"end":59,"href":"https:\u002F\u002Fmedium.com\u002Fmembership"},{"start":127,"end":134,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]}},"COVID_BANNER_POST_ID_OVERRIDE_WHITELIST":["3b31a67bff4a"]},"sharedVoteMessaging":{"TAGS":["politics","election-2020","government","us-politics","election","2020-presidential-race","trump","donald-trump","democrats","republicans","congress","republican-party","democratic-party","biden","joe-biden","maga"],"TOPICS":["politics","election"],"MESSAGE":{"text":"Find out more about the U.S. election results here.","markups":[{"start":46,"end":50,"href":"https:\u002F\u002Fcookpolitical.com\u002F2020-national-popular-vote-tracker"}]},"EXCLUDE_POSTS":["397ef29e3ca5"]},"embedPostRules":[],"recircOptions":{"v1":{"limit":3},"v2":{"limit":8}},"braintreeClientKey":"production_zjkj96jm_m56f8fqpf7ngnrd4","paypalClientId":"AXj1G4fotC2GE8KzWX9mSxCH1wmPE3nJglf4Z2ig_amnhvlMVX87otaq58niAg9iuLktVNF_1WCMnN7v","stripePublishableKey":"pk_live_7FReX44VnNIInZwrIIx6ghjl"},"session":{"xsrf":""}}</script><script>window.__APOLLO_STATE__ = {"ROOT_QUERY":{"__typename":"Query","meterPost({\"postId\":\"1bf5443b0ad1\",\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fduckduckgo.com\u002F\",\"sk\":null,\"source\":null}})":{"__ref":"MeteringInfo:{}"},"postResult({\"id\":\"1bf5443b0ad1\"})":{"__ref":"Post:1bf5443b0ad1"}},"MeteringInfo:{}":{"__typename":"MeteringInfo","postIds":[],"maxUnlockCount":3,"unlocksRemaining":0},"UserViewerEdge:userId:13d15e193b81-viewerId:lo_b8ad5013817c":{"id":"userId:13d15e193b81-viewerId:lo_b8ad5013817c","__typename":"UserViewerEdge","isAllowEdsEnabled":false,"isFollowing":false,"createdAt":0,"lastPostCreatedAt":0,"isBlocking":false,"isMuting":false,"isUser":false},"User:13d15e193b81":{"id":"13d15e193b81","__typename":"User","viewerIsUser":false,"viewerEdge":{"__ref":"UserViewerEdge:userId:13d15e193b81-viewerId:lo_b8ad5013817c"},"customStyleSheet":null,"isSuspended":false,"name":"FullstackPho","hasCompletedProfile":false,"bio":"","imageId":"2*2u49GlzYp4SnIGiqTD6NEQ.png","username":"fullstackpho","customDomainState":null,"isAuroraVisible":true,"mediumMemberAt":0,"socialStats":{"__typename":"SocialStats","followerCount":38,"followingCount":113},"hasSubdomain":false,"allowNotes":true,"newsletterV3":null,"twitterScreenName":"","followedCollections":37,"atsQualifiedAt":1612205589265},"PostViewerEdge:postId:1bf5443b0ad1-viewerId:lo_b8ad5013817c":{"id":"postId:1bf5443b0ad1-viewerId:lo_b8ad5013817c","__typename":"PostViewerEdge","readingList":"READING_LIST_NONE","clapCount":0,"shareKey":null},"Paragraph:93ba3d59df51_0":{"id":"93ba3d59df51_0","__typename":"Paragraph","name":"5aaa","text":"AWS Amplify Multi-Auth GraphQL — Public Read and Authenticated Create, Update, Delete.","type":"H3","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_1":{"id":"93ba3d59df51_1","__typename":"Paragraph","name":"d8d8","text":"How you feel when your app is working how it should 😎","type":"IMG","href":null,"layout":"OUTSET_CENTER","metadata":{"__ref":"ImageMetadata:1*4f5o-dIcT8phg0N5tiPa5Q.png"},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_2":{"id":"93ba3d59df51_2","__typename":"Paragraph","name":"96aa","text":"AWS Amplify recently released multi-auth support for managed GraphQL APIs. This allows you to mix and match auth rules and providers (API keys, Cognito, IAM, OIDC), which means that you can restrict access to certain database operations.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_3":{"id":"93ba3d59df51_3","__typename":"Paragraph","name":"0b79","text":"Amplify multi-auth is incredibly useful if, for example, you would like unauthenticated users to be able to read from your database (public), and only authenticated users to create, update and delete objects in your database. An example use case may be a Reddit style app, where any visitor to your website can see the posts and comments, but only logged in users can post\u002Fcomment on the site (but obviously can still see all posts and comments).","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_4":{"id":"93ba3d59df51_4","__typename":"Paragraph","name":"8cbc","text":"In this article, I will show you how to create a database using AWS Amplify that provides public read and authenticated create, update and delete without using API keys. Instead, we will use a combination of AWS Cognito, AWS IAM and Lambda functions, all powered by AWS Amplify and CloudFormation.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_5":{"id":"93ba3d59df51_5","__typename":"Paragraph","name":"2ff5","text":"What is an Unauthenticated User?","type":"H3","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_6":{"id":"93ba3d59df51_6","__typename":"Paragraph","name":"a8d8","text":"Before we start, let’s define what an ‘unauthenticated user’ is. To do that, we have to understand what “authentication” is:","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_7":{"id":"93ba3d59df51_7","__typename":"Paragraph","name":"a63a","text":"Authentication is the action of verifying the identity of a user.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":0,"end":65,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:93ba3d59df51_8":{"id":"93ba3d59df51_8","__typename":"Paragraph","name":"cdda","text":"In other words, it’s the process of identifying users, usually done via sign up and login flows.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_9":{"id":"93ba3d59df51_9","__typename":"Paragraph","name":"d46b","text":"Now that we know what authentication is, let’s consider what an “unauthenticated user” is in the context of our app (remember we want users to be able to access certain resources without logging in):","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_10":{"id":"93ba3d59df51_10","__typename":"Paragraph","name":"2c80","text":"Unauthenticated users receive access to your AWS resources even if they aren’t logged in with any of your identity providers (IdPs).","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":0,"end":132,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:93ba3d59df51_11":{"id":"93ba3d59df51_11","__typename":"Paragraph","name":"1baf","text":"In other words, if you are creating a web app, an unauthenticated user is anyone with an internet connection that can visit your website by typing in your url.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_12":{"id":"93ba3d59df51_12","__typename":"Paragraph","name":"dc55","text":"Methods for Public Queries, Authenticated Mutations","type":"H3","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_13":{"id":"93ba3d59df51_13","__typename":"Paragraph","name":"3771","text":"A read operation using GraphQL on AWS Amplify will allow you to execute a getObject query to get a single object, and a listObjects query to get multiple objects.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_14":{"id":"93ba3d59df51_14","__typename":"Paragraph","name":"55c0","text":"Create, update and delete operations fall under the mutation type. These include operations such as createObject, updateObject and deleteObject.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_15":{"id":"93ba3d59df51_15","__typename":"Paragraph","name":"9223","text":"There are two ways (that I know of, if you know any others, please leave a comment!) that you can use to allow public queries and authenticated queries\u002Fmutations.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_16":{"id":"93ba3d59df51_16","__typename":"Paragraph","name":"130b","text":"The first is to use an API key alongside an Identity Provider (IdP) of your choice. The benefit of this method is that it is simple to implement and can be setup in minutes. The downside is that API keys will expire (they have a max lifespan of 365 days), and as such, you will need to write a lambda function to cycle them if you plan on keeping your app around for any length of time. This is not ideal.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_17":{"id":"93ba3d59df51_17","__typename":"Paragraph","name":"ad1d","text":"The second method is to use Cognito User Pools as the default provider combined with IAM and a Post Confirmation Lambda function (more on this later!). By using this method, you don’t need to cycle API keys, and you can specify the authMode when querying (we’ll cover this, don’t worry!), enabling you to read from the database as an unauthenticated user.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_18":{"id":"93ba3d59df51_18","__typename":"Paragraph","name":"0f2f","text":"Getting Started 🚀","type":"H3","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_19":{"id":"93ba3d59df51_19","__typename":"Paragraph","name":"081f","text":"Assuming that you have an AWS account, install and configure the Amplify CLI and setup an app using your framework\u002Flibrary of choice. In the case of React, you can use create-react-app to generate your app. The Amplify CLI quickstart can be found here:","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_20":{"id":"93ba3d59df51_20","__typename":"Paragraph","name":"e16b","text":"Quickstart\nEdit descriptionaws-amplify.github.io","type":"MIXTAPE_EMBED","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":{"__typename":"MixtapeMetadata","href":"https:\u002F\u002Faws-amplify.github.io\u002Fdocs\u002Fcli-toolchain\u002Fquickstart","thumbnailImageId":""},"markups":[{"__typename":"Markup","start":0,"end":48,"type":"A","href":"https:\u002F\u002Faws-amplify.github.io\u002Fdocs\u002Fcli-toolchain\u002Fquickstart","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":0,"end":10,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":11,"end":27,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:93ba3d59df51_21":{"id":"93ba3d59df51_21","__typename":"Paragraph","name":"eb0b","text":"Initialising the Amplify Project","type":"H3","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_22":{"id":"93ba3d59df51_22","__typename":"Paragraph","name":"8654","text":"From the root of your project, run this in the terminal:","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_23":{"id":"93ba3d59df51_23","__typename":"Paragraph","name":"3b2d","text":"amplify init","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_24":{"id":"93ba3d59df51_24","__typename":"Paragraph","name":"b37c","text":"When you run this command, Amplify will take you through setting up. The walk-through that Amplify provides is straight forward, you can select all of the default options as Amplify will automatically detect the type of app that you are building and the framework that you are using. I usually call my environment master, with the intent of creating other amplify environments once I have generated this one (an upcoming article!). Here are the options that I selected:","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_25":{"id":"93ba3d59df51_25","__typename":"Paragraph","name":"a04f","text":"Selected options for Amplify initialisation.","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*TLfJdFAyIjOQPBKTQ_skxg.png"},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_26":{"id":"93ba3d59df51_26","__typename":"Paragraph","name":"1f63","text":"Setting up the API","type":"H3","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_27":{"id":"93ba3d59df51_27","__typename":"Paragraph","name":"bced","text":"Now that we have Amplify initialised in our project, you should notice that you have a folder in your project root folder called “amplify”. This is where all of your amplify project specific files and configuration live.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_28":{"id":"93ba3d59df51_28","__typename":"Paragraph","name":"df5b","text":"Now we can add a graphql api to our project. From the root of your project, run this in the terminal:","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_29":{"id":"93ba3d59df51_29","__typename":"Paragraph","name":"f987","text":"amplify add api","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_30":{"id":"93ba3d59df51_30","__typename":"Paragraph","name":"0e9c","text":"You will be presented with another walk-through. Select the following options (scroll down for an image of the selected options):","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_31":{"id":"93ba3d59df51_31","__typename":"Paragraph","name":"da94","text":"Select GraphQL as the service.","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_32":{"id":"93ba3d59df51_32","__typename":"Paragraph","name":"2558","text":"Hit enter for the default API name.","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_33":{"id":"93ba3d59df51_33","__typename":"Paragraph","name":"4cf3","text":"Set the default authorisation type as Amazon Cognito User Pool.","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_34":{"id":"93ba3d59df51_34","__typename":"Paragraph","name":"b0b8","text":"Choose “Default Configuration” for the default authentication and security configuration.","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_35":{"id":"93ba3d59df51_35","__typename":"Paragraph","name":"c722","text":"Choose how you want users to be able to sign in. I use Email, as this is how my users will log in to my app.","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_36":{"id":"93ba3d59df51_36","__typename":"Paragraph","name":"5cae","text":"You will be asked if you want to configure advanced settings. Select No.","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_37":{"id":"93ba3d59df51_37","__typename":"Paragraph","name":"8ab4","text":"Now you will be asked if you want to configure advanced settings for the GraphQL API. Select yes.","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_38":{"id":"93ba3d59df51_38","__typename":"Paragraph","name":"87e5","text":"When asked if you want to choose additional authorisation types, select IAM (use spacebar to select!).","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_39":{"id":"93ba3d59df51_39","__typename":"Paragraph","name":"d7d2","text":"Select No when asked if you have an annoted GraphQL schema and yes for the guided schema creation.","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_40":{"id":"93ba3d59df51_40","__typename":"Paragraph","name":"ca12","text":"Select “Objects with fine grained access control”.","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_41":{"id":"93ba3d59df51_41","__typename":"Paragraph","name":"a814","text":"And finally yes for “…edit the schema now?”.","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_42":{"id":"93ba3d59df51_42","__typename":"Paragraph","name":"4000","text":"The setup options for Amplify API.","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*O4SR3NILl-P6VNfeMyi8bg.png"},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_43":{"id":"93ba3d59df51_43","__typename":"Paragraph","name":"8e6b","text":"Amplify will automatically open your newly created schema for you in your default editor.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_44":{"id":"93ba3d59df51_44","__typename":"Paragraph","name":"3acf","text":"Editing Your Schema 🖌","type":"H3","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_45":{"id":"93ba3d59df51_45","__typename":"Paragraph","name":"f0cf","text":"As mentioned, we want to allow anyone to read from our database, but only authenticated users to create, update or delete objects from our database.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_46":{"id":"93ba3d59df51_46","__typename":"Paragraph","name":"0ab1","text":"To do this create a schema like the one below:","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_47":{"id":"93ba3d59df51_47","__typename":"Paragraph","name":"487c","text":"type Task\n  @model\n  @aws_iam\n  @aws_cognito_user_pools\n  @auth(\n    rules: [\n      { allow: owner, operations: [create, read, update, delete] }\n      { allow: public, provider: iam, operations: [read] }\n      { allow: groups, groups: [\"everyone\"], operations: [read] }\n    ]\n  )\n  {\n    id: ID!\n    title: String!\n    description: String\n    status: String\n  }","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_48":{"id":"93ba3d59df51_48","__typename":"Paragraph","name":"bf75","text":"The @model directive will tell Amplify to generate all of the associated database operations such as get, list, create, update and delete etc. The next two directives, @aws_iam and @aws_cognito_user_pools indicate that this object can be accessed by these two identity providers. We define the auth rules using the @auth directive. We have three rules here. The first states that the owner of the object can execute all CRUD operations on this object. The second rule allows public read access via IAM. Finally, the last rule allows any authenticated users who are part of the “everyone” group to read from the database. This rule is necessary because without it, authenticated users would only be able to read objects that they had created. By using a Cognito Group, we can provide read access to any new signups by adding them to the “everyone” group. We do this using a Lambda function, which we will get to in a moment!","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_49":{"id":"93ba3d59df51_49","__typename":"Paragraph","name":"60bb","text":"Your selections during this walk-through process should look something like this:","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_50":{"id":"93ba3d59df51_50","__typename":"Paragraph","name":"d9ba","text":"Selected options for API initialisation.","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*vnB_ScaALooEGuOm91_NjA.png"},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_51":{"id":"93ba3d59df51_51","__typename":"Paragraph","name":"0500","text":"Now that we have created our schema, we can go back to our terminal and hit enter to continue.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_52":{"id":"93ba3d59df51_52","__typename":"Paragraph","name":"4155","text":"Modifying Amplify Auth 🔐","type":"H3","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_53":{"id":"93ba3d59df51_53","__typename":"Paragraph","name":"d533","text":"Now we have created our API, we need to configure our Auth so that we are able to read from the database as an unauthenticated user. We also need to create a Lambda function that will add new signups","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_54":{"id":"93ba3d59df51_54","__typename":"Paragraph","name":"df40","text":"In the terminal, type:","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_55":{"id":"93ba3d59df51_55","__typename":"Paragraph","name":"d754","text":"amplify auth update","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_56":{"id":"93ba3d59df51_56","__typename":"Paragraph","name":"377c","text":"Select “Walk-through all the auth configurations”, and then select the first option, “User Sign-Up, Sign-In, connected with AWS IAM controls…”.","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_57":{"id":"93ba3d59df51_57","__typename":"Paragraph","name":"b92e","text":"For the “Allow unauthenticated logins?” question, select yes!","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_58":{"id":"93ba3d59df51_58","__typename":"Paragraph","name":"71e3","text":"For “…enable 3rd party authentication”, “Multifactor authentication (MFA)…”, select No","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_59":{"id":"93ba3d59df51_59","__typename":"Paragraph","name":"f584","text":"For “Email based user registration\u002Fforgot password”, select Enabled.","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_60":{"id":"93ba3d59df51_60","__typename":"Paragraph","name":"064a","text":"For the email verification subject, and then the verification message, choose the default.","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_61":{"id":"93ba3d59df51_61","__typename":"Paragraph","name":"eb52","text":"For “…override the default password policy…” select no.","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_62":{"id":"93ba3d59df51_62","__typename":"Paragraph","name":"41e2","text":"Select the default 30 days for the app’s refresh token.","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_63":{"id":"93ba3d59df51_63","__typename":"Paragraph","name":"bc9d","text":"When asked “Do you want to specify the user attributes…” select no.","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_64":{"id":"93ba3d59df51_64","__typename":"Paragraph","name":"442c","text":"The next question asks “Do you want to enable any of the following capabilities”, select “Add User to Group” (use the spacebar to select!).","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_65":{"id":"93ba3d59df51_65","__typename":"Paragraph","name":"2993","text":"“Do you want to use an OAuth flow?”- No","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_66":{"id":"93ba3d59df51_66","__typename":"Paragraph","name":"d7c2","text":"“Do you want to configure Lambda Triggers for Cognito?” YES","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_67":{"id":"93ba3d59df51_67","__typename":"Paragraph","name":"39bb","text":"From the list of options, select “Post confirmation”. This will ensure that the Lambda function is triggered after the user signs in.","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_68":{"id":"93ba3d59df51_68","__typename":"Paragraph","name":"7c36","text":"“What functionality fo you want to use for Post Confirmation?” — Choose “Add User To Group”.","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_69":{"id":"93ba3d59df51_69","__typename":"Paragraph","name":"bae5","text":"When asked to enter the name of the group which users will be added, type in “everyone”.","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_70":{"id":"93ba3d59df51_70","__typename":"Paragraph","name":"8635","text":"Finally, we don’t want to edit our function now, so select No.","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_71":{"id":"93ba3d59df51_71","__typename":"Paragraph","name":"8fd8","text":"Now we have a Lambda function configured that will add any new signups to the “everyone group” :)","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_72":{"id":"93ba3d59df51_72","__typename":"Paragraph","name":"ef1b","text":"The settings for updating the Amplify Auth","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*5iqM2L8NhT8eZfAdj6smog.png"},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_73":{"id":"93ba3d59df51_73","__typename":"Paragraph","name":"edd5","text":"Pushing to Amplify","type":"H3","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_74":{"id":"93ba3d59df51_74","__typename":"Paragraph","name":"ccc7","text":"Once we have finished setting up our GraphQL API, we can push this to the cloud.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_75":{"id":"93ba3d59df51_75","__typename":"Paragraph","name":"cbe6","text":"Firstly though, let’s check that API exists locally. In the terminal, run:","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_76":{"id":"93ba3d59df51_76","__typename":"Paragraph","name":"1644","text":"amplify status","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_77":{"id":"93ba3d59df51_77","__typename":"Paragraph","name":"61ed","text":"And the terminal should output the name of your current environment and a table specifies the state of your project:","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_78":{"id":"93ba3d59df51_78","__typename":"Paragraph","name":"c4a2","text":"The terminal output you should see after running `ampliy status`","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*K6iS7LZZSdwrTeBVXY96OQ.png"},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_79":{"id":"93ba3d59df51_79","__typename":"Paragraph","name":"813d","text":"The “Category” column tells us what we currently have configured for our project, the “Resource name” column is the name of the resource in CloudFormation, and the “Operation” indicates the operation that will be executed in CloudFormation. CloudFormation is a service that utilises “infrastructure as code”, where AWS services are spun up and torn down according to specifications detailed in code. This is the AWS service that will be actually creating our resources. Since we haven’t created any resources yet for this project, the operation is “Create”. If we had made local modifications to any of existing resources, the operation would be “Update”.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_80":{"id":"93ba3d59df51_80","__typename":"Paragraph","name":"aa87","text":"Now that we know we have local changes to our Amplify project, we can push these to the cloud so that our resources are created. To do this, run this in the terminal:","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_81":{"id":"93ba3d59df51_81","__typename":"Paragraph","name":"4f8a","text":"amplify push","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_82":{"id":"93ba3d59df51_82","__typename":"Paragraph","name":"528a","text":"When asked if you want to continue, hit yes. It will then ask you if you want to “…update code code for your updated GraphQL API”. Hit yes.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_83":{"id":"93ba3d59df51_83","__typename":"Paragraph","name":"50b3","text":"Next, it will ask if you want to “…generate GraphQL statements…”. Hit yes.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_84":{"id":"93ba3d59df51_84","__typename":"Paragraph","name":"5729","text":"Now Amplify will take some time creating these resources in the cloud, so go and make yourself a coffee… ☕️","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_85":{"id":"93ba3d59df51_85","__typename":"Paragraph","name":"d32d","text":"Creating a User to Test the Database 🙋🏾","type":"H3","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_86":{"id":"93ba3d59df51_86","__typename":"Paragraph","name":"e8f1","text":"Once the resources have been created in the cloud, your terminal will specify the GraphQL endpoint.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_87":{"id":"93ba3d59df51_87","__typename":"Paragraph","name":"5f4c","text":"Now we can test that the API works the way that we want it to. To do that, we need to create a user, as we need a user profile to determine if the query\u002Fmutate and auth rules combination that we have chosen serves our needs.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_88":{"id":"93ba3d59df51_88","__typename":"Paragraph","name":"816f","text":"Open up the AWS console and navigate to the Cognito console. Click on Manage User Pools:","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_89":{"id":"93ba3d59df51_89","__typename":"Paragraph","name":"03ea","text":"The Cognito Console","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*-2K_tKyUT_aAE48-ydVrOg.png"},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_90":{"id":"93ba3d59df51_90","__typename":"Paragraph","name":"6cb4","text":"Select your Pool, and then in the side bar select Users and Groups:","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_91":{"id":"93ba3d59df51_91","__typename":"Paragraph","name":"2823","text":"The User Pools sidebar.","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*CG4mcXKx6V_CkoyJGYXIAw.png"},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_92":{"id":"93ba3d59df51_92","__typename":"Paragraph","name":"1dca","text":"You will see a “Users” panel, select the “Create user” button:","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_93":{"id":"93ba3d59df51_93","__typename":"Paragraph","name":"5247","text":"The Users panel of the User Pools interface.","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*FFnmltDyv3Rz967K0LQsLg.png"},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_94":{"id":"93ba3d59df51_94","__typename":"Paragraph","name":"cca3","text":"You will be presented with a “Create user” panel. Input a username of “test@test.com” and a password of “1234567890”. Uncheck “Send invitation..” and “Mark phone number as verified?”, then fill in the “Mark email as verified” input and check the box","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_95":{"id":"93ba3d59df51_95","__typename":"Paragraph","name":"d64c","text":"","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*0qbZAqJiceRYncKvzY9TFQ.png"},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_96":{"id":"93ba3d59df51_96","__typename":"Paragraph","name":"c5c3","text":"Hit “Create user”, and now you will have a user in your User Pool. The account status for this will say “FORCE_CHANGE_PASSWORD”. We will come back to this later. For now, click on the Groups tab.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_97":{"id":"93ba3d59df51_97","__typename":"Paragraph","name":"e9dd","text":"If you remember, we created a Lambda function that adds new sign up to a group called “everyone”. However, we need to create this group, but we also need to add our newly created user to it. This is because users created in the Cognito console are not added automatically (as the Lambda function was not invoked when they were created).","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_98":{"id":"93ba3d59df51_98","__typename":"Paragraph","name":"1be6","text":"In the Groups tab, click “Create Group”.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_99":{"id":"93ba3d59df51_99","__typename":"Paragraph","name":"4616","text":"Give it a name of “everyone”, and optionally add a description. For the IAM role dropdown, select the “\u003CPROJECT-NAME\u003EPostConfirmation-\u003CENVIRONMENT-NAME\u003E”, as shown below:","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_100":{"id":"93ba3d59df51_100","__typename":"Paragraph","name":"b96d","text":"The IAM role that you should select for this group.","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*TSknPVuCa4pz6fZly6ne2w.png"},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_101":{"id":"93ba3d59df51_101","__typename":"Paragraph","name":"038b","text":"You can leave the Precedence input empty, and your Create group form should look something like this:","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_102":{"id":"93ba3d59df51_102","__typename":"Paragraph","name":"01f2","text":"The Create group form after it has been completed.","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*9pNfp1m-SRFRVmLZbBjbBA.png"},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_103":{"id":"93ba3d59df51_103","__typename":"Paragraph","name":"6507","text":"Hit Create group, and in your Groups panel, you should see your newly created group. Next, we need to add our user to this group. Go back to the Users panel and select your user from the table by clicking on their username.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_104":{"id":"93ba3d59df51_104","__typename":"Paragraph","name":"c45f","text":"Above their user info, you should see a button entitled “Add to Group”. Click this, and select “everyone” from the dropdown and add them to this group.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_105":{"id":"93ba3d59df51_105","__typename":"Paragraph","name":"ea79","text":"Now that our user is in the “everyone” group, we can test our API in the AppSync console.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_106":{"id":"93ba3d59df51_106","__typename":"Paragraph","name":"a929","text":"Testing the API in the AppSync Console 📈","type":"H3","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_107":{"id":"93ba3d59df51_107","__typename":"Paragraph","name":"fd81","text":"Now we need to head on over to the AWS AppSync console to test that our API is working the way that we want it to.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_108":{"id":"93ba3d59df51_108","__typename":"Paragraph","name":"4328","text":"Once you have navigated to the AppSync console, click on your API to open it in the console, and click on “Queries” in the sidebar.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_109":{"id":"93ba3d59df51_109","__typename":"Paragraph","name":"ef59","text":"The AppSync sidebar.","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*VN40VKUPPNzDpRaeYgdgYQ.png"},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_110":{"id":"93ba3d59df51_110","__typename":"Paragraph","name":"a62b","text":"You will be presented with an interface that allows you to write, validate, and test graphql queries:","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_111":{"id":"93ba3d59df51_111","__typename":"Paragraph","name":"b3dc","text":"The AppSync query editor","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*5JnRZyEW0RFq2nBQirOSEQ.png"},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_112":{"id":"93ba3d59df51_112","__typename":"Paragraph","name":"0254","text":"Ensure that Amazon Cognito User Pool is selected from the drop down, and next to the orange ‘run’ arrow (looks like a ‘play’ button), click on “Login with User Pools” :","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_113":{"id":"93ba3d59df51_113","__typename":"Paragraph","name":"1ff0","text":"The login pane for the query editor.","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*MqXmKwaShPvg0V9SDLZdqw.png"},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_114":{"id":"93ba3d59df51_114","__typename":"Paragraph","name":"c650","text":"The top field is the ClientID, and you can find this by opening up your aws-exports file in your editor (ProjectRoot\u002Fsrc\u002Faws-exports.js). In this file, you will see a key called “\"aws_user_pools_web_client_id\". Copy that key into the ClientId input.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_115":{"id":"93ba3d59df51_115","__typename":"Paragraph","name":"ff49","text":"Enter in your username and password that you created in the User Pools console (test@test.com and 1234567890):","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_116":{"id":"93ba3d59df51_116","__typename":"Paragraph","name":"d0db","text":"Login pane after entering the information. NOTE: The ClientId shown here is fake.","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*SUshxcjxQ1KiWP86vsRRbw.png"},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_117":{"id":"93ba3d59df51_117","__typename":"Paragraph","name":"5ca5","text":"Press “Login”.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_118":{"id":"93ba3d59df51_118","__typename":"Paragraph","name":"8628","text":"You will now be asked to create a new password for this user. You can use the same password again to keep things simple, 1234567890.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_119":{"id":"93ba3d59df51_119","__typename":"Paragraph","name":"0f66","text":"Now you will be logged in to the query editor, and we can test that the queries and mutation work properly. Let’s test the mutations first.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_120":{"id":"93ba3d59df51_120","__typename":"Paragraph","name":"e651","text":"Type the following mutation into the console:","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_121":{"id":"93ba3d59df51_121","__typename":"Paragraph","name":"f904","text":"mutation createTask {\n  createTask(input: {\n    title: \"TestTask\"\n    description: \"A test task\"\n    status: \"Done\"\n  }) {\n    id\n    title\n    description\n    status\n  }\n}","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_122":{"id":"93ba3d59df51_122","__typename":"Paragraph","name":"b6b5","text":"Your mutation should be successful, and you should get the following response:","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_123":{"id":"93ba3d59df51_123","__typename":"Paragraph","name":"ecbf","text":"The response after creating a task.","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*npc8b5ANdjMW2y72zVye5g.png"},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_124":{"id":"93ba3d59df51_124","__typename":"Paragraph","name":"895a","text":"You can see that we didn’t need to add the id in the mutation as it is automatically created for us.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_125":{"id":"93ba3d59df51_125","__typename":"Paragraph","name":"2e00","text":"Now let’s try a query:","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_126":{"id":"93ba3d59df51_126","__typename":"Paragraph","name":"c561","text":"query listTasks {\n  listTasks(limit: 10) {\n    items {\n      id\n     title\n     description\n    }    \n  }\n}","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_127":{"id":"93ba3d59df51_127","__typename":"Paragraph","name":"13d2","text":"And you should get the following response, which is the returned list of objects (we only have one in there thus far):","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_128":{"id":"93ba3d59df51_128","__typename":"Paragraph","name":"0143","text":"The response from our query as a logged in Cognito user","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*Fx49swa2dEIoOy-o1pyZ4Q.png"},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_129":{"id":"93ba3d59df51_129","__typename":"Paragraph","name":"5de5","text":"Ok great, the mutations and queries are working for our logged in user!","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_130":{"id":"93ba3d59df51_130","__typename":"Paragraph","name":"4518","text":"Now let’s try for an unauthenticated user.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_131":{"id":"93ba3d59df51_131","__typename":"Paragraph","name":"b02f","text":"In the dropdown, switch it over to AWS Identity and Access Management (IAM). Now run the listTasks query as this unauthenticated user.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_132":{"id":"93ba3d59df51_132","__typename":"Paragraph","name":"21cb","text":"You should get the following response the same response for this query as the previous query, indicating that an unauthenticated user can read from the database.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_133":{"id":"93ba3d59df51_133","__typename":"Paragraph","name":"2d75","text":"Now, let’s try a mutation. Whilst still using the IAM provider in the dropdown, run the mutation. You should get the following response:","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_134":{"id":"93ba3d59df51_134","__typename":"Paragraph","name":"0bd4","text":"","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*1l127D4U3dTAv9T8ETDxCQ.png"},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_135":{"id":"93ba3d59df51_135","__typename":"Paragraph","name":"d509","text":"Success, this is what we want! You can see in the message at the bottom that we are not authorised to create a task. Remember, we don’t want unauthenticated users to be able to run any mutations on our database!","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_136":{"id":"93ba3d59df51_136","__typename":"Paragraph","name":"528b","text":"Testing the API in our App","type":"H3","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_137":{"id":"93ba3d59df51_137","__typename":"Paragraph","name":"0139","text":"We can now test our API in our app. We will be using a React app, but the Amplify documentation provides guidance on other frameworks and libraries:","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_138":{"id":"93ba3d59df51_138","__typename":"Paragraph","name":"dffc","text":"Getting Started\nEdit descriptionaws-amplify.github.io","type":"MIXTAPE_EMBED","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":{"__typename":"MixtapeMetadata","href":"https:\u002F\u002Faws-amplify.github.io\u002Fdocs\u002Fjs\u002Fstart","thumbnailImageId":""},"markups":[{"__typename":"Markup","start":0,"end":53,"type":"A","href":"https:\u002F\u002Faws-amplify.github.io\u002Fdocs\u002Fjs\u002Fstart","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":0,"end":15,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":16,"end":32,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:93ba3d59df51_139":{"id":"93ba3d59df51_139","__typename":"Paragraph","name":"2fd0","text":"Setting up AWS in our React App is quite simple.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_140":{"id":"93ba3d59df51_140","__typename":"Paragraph","name":"19cf","text":"Firstly, install the necessary Amplify package by typing the following into your terminal:","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_141":{"id":"93ba3d59df51_141","__typename":"Paragraph","name":"f9e6","text":"npm install aws-amplify","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_142":{"id":"93ba3d59df51_142","__typename":"Paragraph","name":"fd1d","text":"Head on over to your index.js file, and add the following code:","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_143":{"id":"93ba3d59df51_143","__typename":"Paragraph","name":"bfb5","text":"import Amplify from \"aws-amplify\";","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_144":{"id":"93ba3d59df51_144","__typename":"Paragraph","name":"d4db","text":"import awsMobile from \".\u002Faws-exports\";","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_145":{"id":"93ba3d59df51_145","__typename":"Paragraph","name":"28bf","text":"Amplify.configure(awsMobile);","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_146":{"id":"93ba3d59df51_146","__typename":"Paragraph","name":"0af6","text":"That’s all that is needed to configure our database.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_147":{"id":"93ba3d59df51_147","__typename":"Paragraph","name":"1fca","text":"Now we can create the UI for our test. We will use a really simple UI consisting of three buttons, as we don’t need anything more complicated to test if our API and auth rules are working. In src\u002Fapp.js, delete the contents of the return statement, and add four buttons:","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_148":{"id":"93ba3d59df51_148","__typename":"Paragraph","name":"5be1","text":"function App() {","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_149":{"id":"93ba3d59df51_149","__typename":"Paragraph","name":"72d6","text":"  return (","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_150":{"id":"93ba3d59df51_150","__typename":"Paragraph","name":"0e33","text":"    \u003CFragment\u003E","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_151":{"id":"93ba3d59df51_151","__typename":"Paragraph","name":"543f","text":"      \u003Cbutton onClick={login}\u003ELog In\u003C\u002Fbutton\u003E","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_152":{"id":"93ba3d59df51_152","__typename":"Paragraph","name":"1fab","text":"      \u003Cbutton onClick={logOut}\u003ELog Out\u003C\u002Fbutton\u003E","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_153":{"id":"93ba3d59df51_153","__typename":"Paragraph","name":"3f8c","text":"      \u003Cbutton onClick={mutate}\u003EMutate\u003C\u002Fbutton\u003E","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_154":{"id":"93ba3d59df51_154","__typename":"Paragraph","name":"60e3","text":"      \u003Cbutton onClick={query}\u003EQuery\u003C\u002Fbutton\u003E","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_155":{"id":"93ba3d59df51_155","__typename":"Paragraph","name":"978f","text":"    \u003C\u002FFragment\u003E","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_156":{"id":"93ba3d59df51_156","__typename":"Paragraph","name":"dc1b","text":"  );","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_157":{"id":"93ba3d59df51_157","__typename":"Paragraph","name":"0322","text":"}","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_158":{"id":"93ba3d59df51_158","__typename":"Paragraph","name":"e855","text":"Now we can create our functions that are called when we click on each of the buttons. Your app component should look like this:","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_159":{"id":"93ba3d59df51_159","__typename":"Paragraph","name":"6ada","text":"import React, { Fragment } from \"react\";","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_160":{"id":"93ba3d59df51_160","__typename":"Paragraph","name":"854c","text":"import { Auth, API, graphqlOperation } from \"aws-amplify\";\nimport { createTask } from \".\u002Fgraphql\u002Fmutations\";\nimport { listTasks } from \".\u002Fgraphql\u002Fqueries\";","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_161":{"id":"93ba3d59df51_161","__typename":"Paragraph","name":"3a7d","text":"function App() {","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_162":{"id":"93ba3d59df51_162","__typename":"Paragraph","name":"1de7","text":"  const login = async () =\u003E {","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_163":{"id":"93ba3d59df51_163","__typename":"Paragraph","name":"1cc0","text":"    const email = \"test@test.com\";\n    const password = \"1234567890\";","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_164":{"id":"93ba3d59df51_164","__typename":"Paragraph","name":"2116","text":"    console.log(`Logging in`);\n  \n    try {\n      await Auth.signIn(email, password);\n      console.log(\"Logged in\");\n    } catch (error) {\n      console.log(`Error logging in: ${error}`);\n    }\n  };","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_165":{"id":"93ba3d59df51_165","__typename":"Paragraph","name":"64c6","text":"  const logOut = async () =\u003E {\n    console.log(`Logging out`);","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_166":{"id":"93ba3d59df51_166","__typename":"Paragraph","name":"ef68","text":"    try {\n      await Auth.signOut();\n      console.log(\"Logged out\"); \n    } catch (error) {\n      console.log(`Error logging in: ${error}`);\n    }\n  };\n \n  const mutate = async () =\u003E {\n    console.log(`Creating task...`);\n    const task = {\n      title: \"Sent from Client!\",\n      description: \"A test task sent from the client!\",\n      status: \"Done\"\n    };\n  \n    try {\n      const data = await API.graphql(\n        graphqlOperation(createTask, { input: task })\n      );\n      console.log(`Executed mutation,   data:${JSON.stringify(data)}`);\n      } catch (error) {\n        console.log(`Error executing mutation: ${error}`);\n      }\n    };","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_167":{"id":"93ba3d59df51_167","__typename":"Paragraph","name":"de72","text":"  const query = async () =\u003E {\n    console.log(`Querying database`);","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_168":{"id":"93ba3d59df51_168","__typename":"Paragraph","name":"9674","text":"    try {\n      const data = await API.graphql({\n        query: listTasks,\n        variables: {},\n        authMode: \"AWS_IAM\"\n      });\n      console.log(`Executed query, data: ${JSON.stringify(data)}`);\n      } catch (error) {\n        console.log(`Error executing query: ${error}`);\n      }\n    };\n  return (\n    \u003CFragment\u003E\n      \u003Cbutton onClick={login}\u003ELog In\u003C\u002Fbutton\u003E\n      \u003Cbutton onClick={logOut}\u003ELog Out\u003C\u002Fbutton\u003E\n      \u003Cbutton onClick={mutate}\u003EMutate\u003C\u002Fbutton\u003E\n      \u003Cbutton onClick={query}\u003EQuery\u003C\u002Fbutton\u003E\n    \u003C\u002FFragment\u003E\n  );\n};","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_169":{"id":"93ba3d59df51_169","__typename":"Paragraph","name":"1731","text":"The first two functions, login() and logOut() are quite self-explanatory. In the next function, mutate(), we create a task object, which we then feed in to our graphqlOperation. Notice that we set this as the key to the value “input”. This is because if you check your schema in AppSync, you will see that the createTask mutation takes an input object. Lastly, if we look at our query() function, you can see that we assign the listTasks query to the query key, and set the authMode to “AWS_IAM”. This is what allows us to query the database whether we are a ‘visitor’ (ie unauthenticated) or signed in.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_170":{"id":"93ba3d59df51_170","__typename":"Paragraph","name":"4384","text":"Now if we start our application in the terminal from our project root:","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_171":{"id":"93ba3d59df51_171","__typename":"Paragraph","name":"5d95","text":"npm start","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_172":{"id":"93ba3d59df51_172","__typename":"Paragraph","name":"e6bb","text":"And open localhost:3000, we should see this:","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_173":{"id":"93ba3d59df51_173","__typename":"Paragraph","name":"fb18","text":"The buttons of our basic UI that will allow us to test our API.","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*wWpsHSrQcMBAzTQ0IVK5cQ.png"},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_174":{"id":"93ba3d59df51_174","__typename":"Paragraph","name":"d81b","text":"Open the browser console (cmd + alt + i) and click the Log Out button. You should see in the console that the user has been logged out (there wasn’t one logged in, but it’s good practice to log out before we begin).","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_175":{"id":"93ba3d59df51_175","__typename":"Paragraph","name":"d085","text":"Now click the Query button, and you should see all of the tasks currently in the database (of which there will only be one). Since our user is logged out, or in other words, there is no authenticated user, this indicates that visitors can query our database.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_176":{"id":"93ba3d59df51_176","__typename":"Paragraph","name":"d1c5","text":"Next, click the Mutate button. You should see an error in the console stating “Error executing mutation: No current user”. As expected, this implies that unauthenticated users can’t mutate any data in our database.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_177":{"id":"93ba3d59df51_177","__typename":"Paragraph","name":"3d46","text":"Now click the Log In button. In the console, you should see that a user is logged in.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_178":{"id":"93ba3d59df51_178","__typename":"Paragraph","name":"b412","text":"Click the Query button, and you should get the same response as before; the tasks in the database are returned.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_179":{"id":"93ba3d59df51_179","__typename":"Paragraph","name":"21ed","text":"Now click the Mutate button… and you will see that the mutation is successful as the data object has returned! Below is the console output that you should see:","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_180":{"id":"93ba3d59df51_180","__typename":"Paragraph","name":"aba0","text":"The console output demonstrating a successful setup of the Amplify API and Auth.","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*i5oanS06QmK8GaE3-EWPTA.png"},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_181":{"id":"93ba3d59df51_181","__typename":"Paragraph","name":"e71c","text":"So that’s it! We have successfully initialised and configured our AWS Amplify API and Auth using multi-auth and Lambda functions. Now we are able to provide public read and authenticated create, update and delete!","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:93ba3d59df51_182":{"id":"93ba3d59df51_182","__typename":"Paragraph","name":"5ec1","text":"If this helped you at all, please give me a clap and feel free to follow me on twitter :) https:\u002F\u002Ftwitter.com\u002Ffullstackpho","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":90,"end":122,"type":"A","href":"https:\u002F\u002Ftwitter.com\u002Ffullstackpho","anchorType":"LINK","userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:93ba3d59df51_183":{"id":"93ba3d59df51_183","__typename":"Paragraph","name":"a58e","text":"Any comments and improvements are gratefully welcomed! I put this together after trawling through the Amplify docs and GitHub, so if anyone knows of a better approach, please do share!","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"ImageMetadata:1*4f5o-dIcT8phg0N5tiPa5Q.png":{"id":"1*4f5o-dIcT8phg0N5tiPa5Q.png","__typename":"ImageMetadata","originalHeight":2448,"originalWidth":3264,"focusPercentX":null,"focusPercentY":null,"alt":null},"ImageMetadata:1*TLfJdFAyIjOQPBKTQ_skxg.png":{"id":"1*TLfJdFAyIjOQPBKTQ_skxg.png","__typename":"ImageMetadata","originalHeight":259,"originalWidth":401,"focusPercentX":null,"focusPercentY":null,"alt":null},"ImageMetadata:1*O4SR3NILl-P6VNfeMyi8bg.png":{"id":"1*O4SR3NILl-P6VNfeMyi8bg.png","__typename":"ImageMetadata","originalHeight":282,"originalWidth":987,"focusPercentX":null,"focusPercentY":null,"alt":null},"ImageMetadata:1*vnB_ScaALooEGuOm91_NjA.png":{"id":"1*vnB_ScaALooEGuOm91_NjA.png","__typename":"ImageMetadata","originalHeight":342,"originalWidth":991,"focusPercentX":null,"focusPercentY":null,"alt":null},"ImageMetadata:1*5iqM2L8NhT8eZfAdj6smog.png":{"id":"1*5iqM2L8NhT8eZfAdj6smog.png","__typename":"ImageMetadata","originalHeight":370,"originalWidth":778,"focusPercentX":null,"focusPercentY":null,"alt":null},"ImageMetadata:1*K6iS7LZZSdwrTeBVXY96OQ.png":{"id":"1*K6iS7LZZSdwrTeBVXY96OQ.png","__typename":"ImageMetadata","originalHeight":114,"originalWidth":630,"focusPercentX":null,"focusPercentY":null,"alt":null},"ImageMetadata:1*-2K_tKyUT_aAE48-ydVrOg.png":{"id":"1*-2K_tKyUT_aAE48-ydVrOg.png","__typename":"ImageMetadata","originalHeight":778,"originalWidth":1416,"focusPercentX":null,"focusPercentY":null,"alt":null},"ImageMetadata:1*CG4mcXKx6V_CkoyJGYXIAw.png":{"id":"1*CG4mcXKx6V_CkoyJGYXIAw.png","__typename":"ImageMetadata","originalHeight":584,"originalWidth":281,"focusPercentX":null,"focusPercentY":null,"alt":null},"ImageMetadata:1*FFnmltDyv3Rz967K0LQsLg.png":{"id":"1*FFnmltDyv3Rz967K0LQsLg.png","__typename":"ImageMetadata","originalHeight":362,"originalWidth":1105,"focusPercentX":null,"focusPercentY":null,"alt":null},"ImageMetadata:1*0qbZAqJiceRYncKvzY9TFQ.png":{"id":"1*0qbZAqJiceRYncKvzY9TFQ.png","__typename":"ImageMetadata","originalHeight":493,"originalWidth":595,"focusPercentX":null,"focusPercentY":null,"alt":null},"ImageMetadata:1*TSknPVuCa4pz6fZly6ne2w.png":{"id":"1*TSknPVuCa4pz6fZly6ne2w.png","__typename":"ImageMetadata","originalHeight":247,"originalWidth":431,"focusPercentX":null,"focusPercentY":null,"alt":null},"ImageMetadata:1*9pNfp1m-SRFRVmLZbBjbBA.png":{"id":"1*9pNfp1m-SRFRVmLZbBjbBA.png","__typename":"ImageMetadata","originalHeight":448,"originalWidth":606,"focusPercentX":null,"focusPercentY":null,"alt":null},"ImageMetadata:1*VN40VKUPPNzDpRaeYgdgYQ.png":{"id":"1*VN40VKUPPNzDpRaeYgdgYQ.png","__typename":"ImageMetadata","originalHeight":313,"originalWidth":296,"focusPercentX":null,"focusPercentY":null,"alt":null},"ImageMetadata:1*5JnRZyEW0RFq2nBQirOSEQ.png":{"id":"1*5JnRZyEW0RFq2nBQirOSEQ.png","__typename":"ImageMetadata","originalHeight":789,"originalWidth":1010,"focusPercentX":null,"focusPercentY":null,"alt":null},"ImageMetadata:1*MqXmKwaShPvg0V9SDLZdqw.png":{"id":"1*MqXmKwaShPvg0V9SDLZdqw.png","__typename":"ImageMetadata","originalHeight":374,"originalWidth":609,"focusPercentX":null,"focusPercentY":null,"alt":null},"ImageMetadata:1*SUshxcjxQ1KiWP86vsRRbw.png":{"id":"1*SUshxcjxQ1KiWP86vsRRbw.png","__typename":"ImageMetadata","originalHeight":373,"originalWidth":609,"focusPercentX":null,"focusPercentY":null,"alt":null},"ImageMetadata:1*npc8b5ANdjMW2y72zVye5g.png":{"id":"1*npc8b5ANdjMW2y72zVye5g.png","__typename":"ImageMetadata","originalHeight":212,"originalWidth":444,"focusPercentX":null,"focusPercentY":null,"alt":null},"ImageMetadata:1*Fx49swa2dEIoOy-o1pyZ4Q.png":{"id":"1*Fx49swa2dEIoOy-o1pyZ4Q.png","__typename":"ImageMetadata","originalHeight":272,"originalWidth":443,"focusPercentX":null,"focusPercentY":null,"alt":null},"ImageMetadata:1*1l127D4U3dTAv9T8ETDxCQ.png":{"id":"1*1l127D4U3dTAv9T8ETDxCQ.png","__typename":"ImageMetadata","originalHeight":487,"originalWidth":446,"focusPercentX":null,"focusPercentY":null,"alt":null},"ImageMetadata:1*wWpsHSrQcMBAzTQ0IVK5cQ.png":{"id":"1*wWpsHSrQcMBAzTQ0IVK5cQ.png","__typename":"ImageMetadata","originalHeight":69,"originalWidth":597,"focusPercentX":null,"focusPercentY":null,"alt":null},"ImageMetadata:1*i5oanS06QmK8GaE3-EWPTA.png":{"id":"1*i5oanS06QmK8GaE3-EWPTA.png","__typename":"ImageMetadata","originalHeight":363,"originalWidth":523,"focusPercentX":null,"focusPercentY":null,"alt":null},"Tag:aws-lambda":{"id":"aws-lambda","__typename":"Tag","displayTitle":"AWS Lambda","normalizedTagSlug":""},"Tag:react":{"id":"react","__typename":"Tag","displayTitle":"React","normalizedTagSlug":""},"Tag:aws-amplify":{"id":"aws-amplify","__typename":"Tag","displayTitle":"Aws Amplify","normalizedTagSlug":""},"Tag:aws":{"id":"aws","__typename":"Tag","displayTitle":"AWS","normalizedTagSlug":""},"Tag:javascript":{"id":"javascript","__typename":"Tag","displayTitle":"JavaScript","normalizedTagSlug":""},"ImageMetadata:1*o1Ldgyq5ElBqzWGGhTHIzw.jpeg":{"id":"1*o1Ldgyq5ElBqzWGGhTHIzw.jpeg","__typename":"ImageMetadata","focusPercentX":null,"focusPercentY":null},"Collection:d56fec4fcfb7":{"id":"d56fec4fcfb7","__typename":"Collection","name":"strike.sh","domain":null,"slug":"strike-sh"},"UserViewerEdge:userId:dc5f3ad95b5f-viewerId:lo_b8ad5013817c":{"id":"userId:dc5f3ad95b5f-viewerId:lo_b8ad5013817c","__typename":"UserViewerEdge","isFollowing":false},"User:dc5f3ad95b5f":{"id":"dc5f3ad95b5f","__typename":"User","name":"Tomas De Angelis","username":"tomasde.angelis","bio":"Im a computer Engineering student, who also works as a Full Stack developer at Strike: a cybersecurity start up.","imageId":"1*wShq6J0odJxjes89uvMO4A.jpeg","mediumMemberAt":0,"customDomainState":null,"hasSubdomain":false,"viewerEdge":{"__ref":"UserViewerEdge:userId:dc5f3ad95b5f-viewerId:lo_b8ad5013817c"}},"Post:bbebf359833c":{"id":"bbebf359833c","__typename":"Post","title":"Golang MySQL queries made easier!","mediumUrl":"https:\u002F\u002Fmedium.com\u002Fstrike-sh\u002Fgolang-mysql-queries-made-easier-bbebf359833c","previewImage":{"__ref":"ImageMetadata:1*o1Ldgyq5ElBqzWGGhTHIzw.jpeg"},"isPublished":true,"firstPublishedAt":1615563854733,"readingTime":3.7547169811320757,"statusForCollection":"APPROVED","isLocked":false,"visibility":"PUBLIC","collection":{"__ref":"Collection:d56fec4fcfb7"},"creator":{"__ref":"User:dc5f3ad95b5f"},"previewContent":{"__typename":"PreviewContent","isFullContent":false}},"ImageMetadata:0*Xx1KlJ8ntsY28e7B.jpg":{"id":"0*Xx1KlJ8ntsY28e7B.jpg","__typename":"ImageMetadata","focusPercentX":null,"focusPercentY":null},"UserViewerEdge:userId:f445ac85bc90-viewerId:lo_b8ad5013817c":{"id":"userId:f445ac85bc90-viewerId:lo_b8ad5013817c","__typename":"UserViewerEdge","isFollowing":false},"User:f445ac85bc90":{"id":"f445ac85bc90","__typename":"User","name":"CodingHub","username":"codinghub","bio":"Coding Hub — Learn & Build Your Career","imageId":"1*tDky_d_uOXBNlJ7b0ucpTg.png","mediumMemberAt":0,"customDomainState":{"__typename":"CustomDomainState","live":{"__typename":"CustomDomain","domain":"codinghub.medium.com"}},"hasSubdomain":true,"viewerEdge":{"__ref":"UserViewerEdge:userId:f445ac85bc90-viewerId:lo_b8ad5013817c"}},"Post:bc717077d446":{"id":"bc717077d446","__typename":"Post","title":"Python Examples For Beginners","mediumUrl":"https:\u002F\u002Fcodinghub.medium.com\u002Fpython-examples-for-beginners-bc717077d446","previewImage":{"__ref":"ImageMetadata:0*Xx1KlJ8ntsY28e7B.jpg"},"isPublished":true,"firstPublishedAt":1614191967185,"readingTime":2.1660377358490566,"statusForCollection":null,"isLocked":false,"visibility":"PUBLIC","collection":null,"creator":{"__ref":"User:f445ac85bc90"},"previewContent":{"__typename":"PreviewContent","isFullContent":false}},"ImageMetadata:1*OBBA3BrDt5ri63MZiGV0EQ.jpeg":{"id":"1*OBBA3BrDt5ri63MZiGV0EQ.jpeg","__typename":"ImageMetadata","focusPercentX":null,"focusPercentY":null},"UserViewerEdge:userId:290e7f12eac3-viewerId:lo_b8ad5013817c":{"id":"userId:290e7f12eac3-viewerId:lo_b8ad5013817c","__typename":"UserViewerEdge","isFollowing":false},"User:290e7f12eac3":{"id":"290e7f12eac3","__typename":"User","name":"nils neumann","username":"nilsken","bio":"","imageId":"1*EcDxOfe8BQa9D_YGHRFBhA.png","mediumMemberAt":0,"customDomainState":null,"hasSubdomain":false,"viewerEdge":{"__ref":"UserViewerEdge:userId:290e7f12eac3-viewerId:lo_b8ad5013817c"}},"Post:bc916863b223":{"id":"bc916863b223","__typename":"Post","title":"Coding Designers","mediumUrl":"https:\u002F\u002Fmedium.com\u002F@nilsken\u002Fcoding-designers-bc916863b223","previewImage":{"__ref":"ImageMetadata:1*OBBA3BrDt5ri63MZiGV0EQ.jpeg"},"isPublished":true,"firstPublishedAt":1547567918690,"readingTime":13.40377358490566,"statusForCollection":null,"isLocked":false,"visibility":"PUBLIC","collection":null,"creator":{"__ref":"User:290e7f12eac3"},"previewContent":{"__typename":"PreviewContent","isFullContent":false}},"ImageMetadata:":{"id":"","__typename":"ImageMetadata","focusPercentX":null,"focusPercentY":null},"UserViewerEdge:userId:ecb22831abfb-viewerId:lo_b8ad5013817c":{"id":"userId:ecb22831abfb-viewerId:lo_b8ad5013817c","__typename":"UserViewerEdge","isFollowing":false},"User:ecb22831abfb":{"id":"ecb22831abfb","__typename":"User","name":"Marc-André Giroux","username":"xuorig","bio":"#GraphQL Enthusiast, Speaker, Platform Interface Engineer @ GitHub 📖 Book is now available https:\u002F\u002Fbook.productionreadygraphql.com\u002F","imageId":"1*uSxyStPJhzmIp7PjJLcpiw.jpeg","mediumMemberAt":0,"customDomainState":{"__typename":"CustomDomainState","live":{"__typename":"CustomDomain","domain":"xuorig.medium.com"}},"hasSubdomain":true,"viewerEdge":{"__ref":"UserViewerEdge:userId:ecb22831abfb-viewerId:lo_b8ad5013817c"}},"Post:bb9ba9f15f85":{"id":"bb9ba9f15f85","__typename":"Post","title":"A Guide to GraphQL Errors","mediumUrl":"https:\u002F\u002Fxuorig.medium.com\u002Fa-guide-to-graphql-errors-bb9ba9f15f85","previewImage":{"__ref":"ImageMetadata:"},"isPublished":true,"firstPublishedAt":1596657575717,"readingTime":10.30188679245283,"statusForCollection":null,"isLocked":true,"visibility":"LOCKED","collection":null,"creator":{"__ref":"User:ecb22831abfb"},"previewContent":{"__typename":"PreviewContent","isFullContent":false}},"ImageMetadata:1*yrCvWF5ZvhVr8m80Payxfg.jpeg":{"id":"1*yrCvWF5ZvhVr8m80Payxfg.jpeg","__typename":"ImageMetadata","focusPercentX":null,"focusPercentY":null},"UserViewerEdge:userId:c1ee4d001ed6-viewerId:lo_b8ad5013817c":{"id":"userId:c1ee4d001ed6-viewerId:lo_b8ad5013817c","__typename":"UserViewerEdge","isFollowing":false},"User:c1ee4d001ed6":{"id":"c1ee4d001ed6","__typename":"User","name":"Diego Garcia","username":"drgarcia1986","bio":"Software Engineer","imageId":"1*COV0N5C6i1ggCvo9Xz7MWg.jpeg","mediumMemberAt":0,"customDomainState":{"__typename":"CustomDomainState","live":{"__typename":"CustomDomain","domain":"drgarcia1986.medium.com"}},"hasSubdomain":true,"viewerEdge":{"__ref":"UserViewerEdge:userId:c1ee4d001ed6-viewerId:lo_b8ad5013817c"}},"Post:bba6961b14a0":{"id":"bba6961b14a0","__typename":"Post","title":"Playing with Go and Generics","mediumUrl":"https:\u002F\u002Fdrgarcia1986.medium.com\u002Fplaying-with-go-and-generics-bba6961b14a0","previewImage":{"__ref":"ImageMetadata:1*yrCvWF5ZvhVr8m80Payxfg.jpeg"},"isPublished":true,"firstPublishedAt":1618267341765,"readingTime":2.290566037735849,"statusForCollection":null,"isLocked":false,"visibility":"PUBLIC","collection":null,"creator":{"__ref":"User:c1ee4d001ed6"},"previewContent":{"__typename":"PreviewContent","isFullContent":false}},"ImageMetadata:1*kHu1UqhK0lTbZnXGtgjyRA.png":{"id":"1*kHu1UqhK0lTbZnXGtgjyRA.png","__typename":"ImageMetadata","focusPercentX":null,"focusPercentY":null},"UserViewerEdge:userId:c5ec55a842eb-viewerId:lo_b8ad5013817c":{"id":"userId:c5ec55a842eb-viewerId:lo_b8ad5013817c","__typename":"UserViewerEdge","isFollowing":false},"User:c5ec55a842eb":{"id":"c5ec55a842eb","__typename":"User","name":"Adarsh Saxena","username":"theadarshsaxena","bio":"Hey Everone, I am DevOps Practitioner, Cloud Computing, BigData, Machine Learning are my favorite parts. Connect me on LinkedIn to know more about me.","imageId":"1*CV3KqfLBWk_9WhuAPJtcHA.jpeg","mediumMemberAt":0,"customDomainState":{"__typename":"CustomDomainState","live":{"__typename":"CustomDomain","domain":"theadarshsaxena.medium.com"}},"hasSubdomain":true,"viewerEdge":{"__ref":"UserViewerEdge:userId:c5ec55a842eb-viewerId:lo_b8ad5013817c"}},"Post:bc0fecbcd6a9":{"id":"bc0fecbcd6a9","__typename":"Post","title":"Launch AWS instance and attach volume using AWS CLI & script","mediumUrl":"https:\u002F\u002Ftheadarshsaxena.medium.com\u002Flaunch-aws-instance-and-attach-volume-using-aws-cli-script-bc0fecbcd6a9","previewImage":{"__ref":"ImageMetadata:1*kHu1UqhK0lTbZnXGtgjyRA.png"},"isPublished":true,"firstPublishedAt":1602703908807,"readingTime":7.461635220125785,"statusForCollection":null,"isLocked":false,"visibility":"PUBLIC","collection":null,"creator":{"__ref":"User:c5ec55a842eb"},"previewContent":{"__typename":"PreviewContent","isFullContent":false}},"ImageMetadata:0*Eljfa10yoxUFaJSj":{"id":"0*Eljfa10yoxUFaJSj","__typename":"ImageMetadata","focusPercentX":null,"focusPercentY":null},"Collection:336d898217ee":{"id":"336d898217ee","__typename":"Collection","name":"We’ve moved to freeCodeCamp.org\u002Fnews","domain":null,"slug":"free-code-camp"},"UserViewerEdge:userId:589541a4b00e-viewerId:lo_b8ad5013817c":{"id":"userId:589541a4b00e-viewerId:lo_b8ad5013817c","__typename":"UserViewerEdge","isFollowing":false},"User:589541a4b00e":{"id":"589541a4b00e","__typename":"User","name":"Abdul Kadir","username":"Abdulkadir98","bio":"A voracious reader; Master’s student. If I am not hacking away on my laptop you can find me flipping through a book or playing football.","imageId":"1*jGgezbACsHvEPmxp1aMxyA.jpeg","mediumMemberAt":0,"customDomainState":null,"hasSubdomain":false,"viewerEdge":{"__ref":"UserViewerEdge:userId:589541a4b00e-viewerId:lo_b8ad5013817c"}},"Post:bc30542204e0":{"id":"bc30542204e0","__typename":"Post","title":"The Strategy Pattern explained using Java","mediumUrl":"https:\u002F\u002Fmedium.com\u002Ffree-code-camp\u002Fthe-strategy-pattern-explained-using-java-bc30542204e0","previewImage":{"__ref":"ImageMetadata:0*Eljfa10yoxUFaJSj"},"isPublished":true,"firstPublishedAt":1546906677785,"readingTime":7.236163522012579,"statusForCollection":"APPROVED","isLocked":false,"visibility":"PUBLIC","collection":{"__ref":"Collection:336d898217ee"},"creator":{"__ref":"User:589541a4b00e"},"previewContent":{"__typename":"PreviewContent","isFullContent":false}},"ImageMetadata:1*36309e9dNhYaT66XZvYdwg.gif":{"id":"1*36309e9dNhYaT66XZvYdwg.gif","__typename":"ImageMetadata","focusPercentX":null,"focusPercentY":null},"Collection:f5af2b715248":{"id":"f5af2b715248","__typename":"Collection","name":"The Startup","domain":null,"slug":"swlh"},"UserViewerEdge:userId:f23aaeecc126-viewerId:lo_b8ad5013817c":{"id":"userId:f23aaeecc126-viewerId:lo_b8ad5013817c","__typename":"UserViewerEdge","isFollowing":false},"User:f23aaeecc126":{"id":"f23aaeecc126","__typename":"User","name":"Gina Lee","username":"gg-gina","bio":"I’m a Web Dev\u002FArtist","imageId":"1*QrTDsf_bA7qvquSokDc4gw.jpeg","mediumMemberAt":0,"customDomainState":{"__typename":"CustomDomainState","live":{"__typename":"CustomDomain","domain":"gg-gina.medium.com"}},"hasSubdomain":true,"viewerEdge":{"__ref":"UserViewerEdge:userId:f23aaeecc126-viewerId:lo_b8ad5013817c"}},"Post:bc3ccb3ce8f1":{"id":"bc3ccb3ce8f1","__typename":"Post","title":"How To: Responsive Parallax Footer","mediumUrl":"https:\u002F\u002Fmedium.com\u002Fswlh\u002Fhow-to-responsive-parallax-footer-bc3ccb3ce8f1","previewImage":{"__ref":"ImageMetadata:1*36309e9dNhYaT66XZvYdwg.gif"},"isPublished":true,"firstPublishedAt":1586749139592,"readingTime":2.3830188679245285,"statusForCollection":"APPROVED","isLocked":true,"visibility":"LOCKED","collection":{"__ref":"Collection:f5af2b715248"},"creator":{"__ref":"User:f23aaeecc126"},"previewContent":{"__typename":"PreviewContent","isFullContent":false}},"Post:1bf5443b0ad1":{"id":"1bf5443b0ad1","__typename":"Post","creator":{"__ref":"User:13d15e193b81"},"canonicalUrl":"","collection":null,"content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fduckduckgo.com\u002F\",\"sk\":null,\"source\":null}})":{"__typename":"PostContent","isLockedPreviewOnly":false,"validatedShareKey":"","bodyModel":{"__typename":"RichText","paragraphs":[{"__ref":"Paragraph:93ba3d59df51_0"},{"__ref":"Paragraph:93ba3d59df51_1"},{"__ref":"Paragraph:93ba3d59df51_2"},{"__ref":"Paragraph:93ba3d59df51_3"},{"__ref":"Paragraph:93ba3d59df51_4"},{"__ref":"Paragraph:93ba3d59df51_5"},{"__ref":"Paragraph:93ba3d59df51_6"},{"__ref":"Paragraph:93ba3d59df51_7"},{"__ref":"Paragraph:93ba3d59df51_8"},{"__ref":"Paragraph:93ba3d59df51_9"},{"__ref":"Paragraph:93ba3d59df51_10"},{"__ref":"Paragraph:93ba3d59df51_11"},{"__ref":"Paragraph:93ba3d59df51_12"},{"__ref":"Paragraph:93ba3d59df51_13"},{"__ref":"Paragraph:93ba3d59df51_14"},{"__ref":"Paragraph:93ba3d59df51_15"},{"__ref":"Paragraph:93ba3d59df51_16"},{"__ref":"Paragraph:93ba3d59df51_17"},{"__ref":"Paragraph:93ba3d59df51_18"},{"__ref":"Paragraph:93ba3d59df51_19"},{"__ref":"Paragraph:93ba3d59df51_20"},{"__ref":"Paragraph:93ba3d59df51_21"},{"__ref":"Paragraph:93ba3d59df51_22"},{"__ref":"Paragraph:93ba3d59df51_23"},{"__ref":"Paragraph:93ba3d59df51_24"},{"__ref":"Paragraph:93ba3d59df51_25"},{"__ref":"Paragraph:93ba3d59df51_26"},{"__ref":"Paragraph:93ba3d59df51_27"},{"__ref":"Paragraph:93ba3d59df51_28"},{"__ref":"Paragraph:93ba3d59df51_29"},{"__ref":"Paragraph:93ba3d59df51_30"},{"__ref":"Paragraph:93ba3d59df51_31"},{"__ref":"Paragraph:93ba3d59df51_32"},{"__ref":"Paragraph:93ba3d59df51_33"},{"__ref":"Paragraph:93ba3d59df51_34"},{"__ref":"Paragraph:93ba3d59df51_35"},{"__ref":"Paragraph:93ba3d59df51_36"},{"__ref":"Paragraph:93ba3d59df51_37"},{"__ref":"Paragraph:93ba3d59df51_38"},{"__ref":"Paragraph:93ba3d59df51_39"},{"__ref":"Paragraph:93ba3d59df51_40"},{"__ref":"Paragraph:93ba3d59df51_41"},{"__ref":"Paragraph:93ba3d59df51_42"},{"__ref":"Paragraph:93ba3d59df51_43"},{"__ref":"Paragraph:93ba3d59df51_44"},{"__ref":"Paragraph:93ba3d59df51_45"},{"__ref":"Paragraph:93ba3d59df51_46"},{"__ref":"Paragraph:93ba3d59df51_47"},{"__ref":"Paragraph:93ba3d59df51_48"},{"__ref":"Paragraph:93ba3d59df51_49"},{"__ref":"Paragraph:93ba3d59df51_50"},{"__ref":"Paragraph:93ba3d59df51_51"},{"__ref":"Paragraph:93ba3d59df51_52"},{"__ref":"Paragraph:93ba3d59df51_53"},{"__ref":"Paragraph:93ba3d59df51_54"},{"__ref":"Paragraph:93ba3d59df51_55"},{"__ref":"Paragraph:93ba3d59df51_56"},{"__ref":"Paragraph:93ba3d59df51_57"},{"__ref":"Paragraph:93ba3d59df51_58"},{"__ref":"Paragraph:93ba3d59df51_59"},{"__ref":"Paragraph:93ba3d59df51_60"},{"__ref":"Paragraph:93ba3d59df51_61"},{"__ref":"Paragraph:93ba3d59df51_62"},{"__ref":"Paragraph:93ba3d59df51_63"},{"__ref":"Paragraph:93ba3d59df51_64"},{"__ref":"Paragraph:93ba3d59df51_65"},{"__ref":"Paragraph:93ba3d59df51_66"},{"__ref":"Paragraph:93ba3d59df51_67"},{"__ref":"Paragraph:93ba3d59df51_68"},{"__ref":"Paragraph:93ba3d59df51_69"},{"__ref":"Paragraph:93ba3d59df51_70"},{"__ref":"Paragraph:93ba3d59df51_71"},{"__ref":"Paragraph:93ba3d59df51_72"},{"__ref":"Paragraph:93ba3d59df51_73"},{"__ref":"Paragraph:93ba3d59df51_74"},{"__ref":"Paragraph:93ba3d59df51_75"},{"__ref":"Paragraph:93ba3d59df51_76"},{"__ref":"Paragraph:93ba3d59df51_77"},{"__ref":"Paragraph:93ba3d59df51_78"},{"__ref":"Paragraph:93ba3d59df51_79"},{"__ref":"Paragraph:93ba3d59df51_80"},{"__ref":"Paragraph:93ba3d59df51_81"},{"__ref":"Paragraph:93ba3d59df51_82"},{"__ref":"Paragraph:93ba3d59df51_83"},{"__ref":"Paragraph:93ba3d59df51_84"},{"__ref":"Paragraph:93ba3d59df51_85"},{"__ref":"Paragraph:93ba3d59df51_86"},{"__ref":"Paragraph:93ba3d59df51_87"},{"__ref":"Paragraph:93ba3d59df51_88"},{"__ref":"Paragraph:93ba3d59df51_89"},{"__ref":"Paragraph:93ba3d59df51_90"},{"__ref":"Paragraph:93ba3d59df51_91"},{"__ref":"Paragraph:93ba3d59df51_92"},{"__ref":"Paragraph:93ba3d59df51_93"},{"__ref":"Paragraph:93ba3d59df51_94"},{"__ref":"Paragraph:93ba3d59df51_95"},{"__ref":"Paragraph:93ba3d59df51_96"},{"__ref":"Paragraph:93ba3d59df51_97"},{"__ref":"Paragraph:93ba3d59df51_98"},{"__ref":"Paragraph:93ba3d59df51_99"},{"__ref":"Paragraph:93ba3d59df51_100"},{"__ref":"Paragraph:93ba3d59df51_101"},{"__ref":"Paragraph:93ba3d59df51_102"},{"__ref":"Paragraph:93ba3d59df51_103"},{"__ref":"Paragraph:93ba3d59df51_104"},{"__ref":"Paragraph:93ba3d59df51_105"},{"__ref":"Paragraph:93ba3d59df51_106"},{"__ref":"Paragraph:93ba3d59df51_107"},{"__ref":"Paragraph:93ba3d59df51_108"},{"__ref":"Paragraph:93ba3d59df51_109"},{"__ref":"Paragraph:93ba3d59df51_110"},{"__ref":"Paragraph:93ba3d59df51_111"},{"__ref":"Paragraph:93ba3d59df51_112"},{"__ref":"Paragraph:93ba3d59df51_113"},{"__ref":"Paragraph:93ba3d59df51_114"},{"__ref":"Paragraph:93ba3d59df51_115"},{"__ref":"Paragraph:93ba3d59df51_116"},{"__ref":"Paragraph:93ba3d59df51_117"},{"__ref":"Paragraph:93ba3d59df51_118"},{"__ref":"Paragraph:93ba3d59df51_119"},{"__ref":"Paragraph:93ba3d59df51_120"},{"__ref":"Paragraph:93ba3d59df51_121"},{"__ref":"Paragraph:93ba3d59df51_122"},{"__ref":"Paragraph:93ba3d59df51_123"},{"__ref":"Paragraph:93ba3d59df51_124"},{"__ref":"Paragraph:93ba3d59df51_125"},{"__ref":"Paragraph:93ba3d59df51_126"},{"__ref":"Paragraph:93ba3d59df51_127"},{"__ref":"Paragraph:93ba3d59df51_128"},{"__ref":"Paragraph:93ba3d59df51_129"},{"__ref":"Paragraph:93ba3d59df51_130"},{"__ref":"Paragraph:93ba3d59df51_131"},{"__ref":"Paragraph:93ba3d59df51_132"},{"__ref":"Paragraph:93ba3d59df51_133"},{"__ref":"Paragraph:93ba3d59df51_134"},{"__ref":"Paragraph:93ba3d59df51_135"},{"__ref":"Paragraph:93ba3d59df51_136"},{"__ref":"Paragraph:93ba3d59df51_137"},{"__ref":"Paragraph:93ba3d59df51_138"},{"__ref":"Paragraph:93ba3d59df51_139"},{"__ref":"Paragraph:93ba3d59df51_140"},{"__ref":"Paragraph:93ba3d59df51_141"},{"__ref":"Paragraph:93ba3d59df51_142"},{"__ref":"Paragraph:93ba3d59df51_143"},{"__ref":"Paragraph:93ba3d59df51_144"},{"__ref":"Paragraph:93ba3d59df51_145"},{"__ref":"Paragraph:93ba3d59df51_146"},{"__ref":"Paragraph:93ba3d59df51_147"},{"__ref":"Paragraph:93ba3d59df51_148"},{"__ref":"Paragraph:93ba3d59df51_149"},{"__ref":"Paragraph:93ba3d59df51_150"},{"__ref":"Paragraph:93ba3d59df51_151"},{"__ref":"Paragraph:93ba3d59df51_152"},{"__ref":"Paragraph:93ba3d59df51_153"},{"__ref":"Paragraph:93ba3d59df51_154"},{"__ref":"Paragraph:93ba3d59df51_155"},{"__ref":"Paragraph:93ba3d59df51_156"},{"__ref":"Paragraph:93ba3d59df51_157"},{"__ref":"Paragraph:93ba3d59df51_158"},{"__ref":"Paragraph:93ba3d59df51_159"},{"__ref":"Paragraph:93ba3d59df51_160"},{"__ref":"Paragraph:93ba3d59df51_161"},{"__ref":"Paragraph:93ba3d59df51_162"},{"__ref":"Paragraph:93ba3d59df51_163"},{"__ref":"Paragraph:93ba3d59df51_164"},{"__ref":"Paragraph:93ba3d59df51_165"},{"__ref":"Paragraph:93ba3d59df51_166"},{"__ref":"Paragraph:93ba3d59df51_167"},{"__ref":"Paragraph:93ba3d59df51_168"},{"__ref":"Paragraph:93ba3d59df51_169"},{"__ref":"Paragraph:93ba3d59df51_170"},{"__ref":"Paragraph:93ba3d59df51_171"},{"__ref":"Paragraph:93ba3d59df51_172"},{"__ref":"Paragraph:93ba3d59df51_173"},{"__ref":"Paragraph:93ba3d59df51_174"},{"__ref":"Paragraph:93ba3d59df51_175"},{"__ref":"Paragraph:93ba3d59df51_176"},{"__ref":"Paragraph:93ba3d59df51_177"},{"__ref":"Paragraph:93ba3d59df51_178"},{"__ref":"Paragraph:93ba3d59df51_179"},{"__ref":"Paragraph:93ba3d59df51_180"},{"__ref":"Paragraph:93ba3d59df51_181"},{"__ref":"Paragraph:93ba3d59df51_182"},{"__ref":"Paragraph:93ba3d59df51_183"}],"sections":[{"__typename":"Section","name":"8753","startIndex":0,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null},{"__typename":"Section","name":"c5e6","startIndex":5,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null},{"__typename":"Section","name":"195c","startIndex":18,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null},{"__typename":"Section","name":"719c","startIndex":181,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null},{"__typename":"Section","name":"fb85","startIndex":182,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null}]}},"customStyleSheet":null,"firstPublishedAt":1581267283308,"isLocked":false,"isPublished":true,"isShortform":false,"layerCake":4,"primaryTopic":null,"viewerEdge":{"__ref":"PostViewerEdge:postId:1bf5443b0ad1-viewerId:lo_b8ad5013817c"},"title":"AWS Amplify Multi-Auth GraphQL — Public read and Authenticated Create, Update, Delete.","isMarkedPaywallOnly":false,"readCreatorPostsCount":0,"mediumUrl":"https:\u002F\u002Fmedium.com\u002F@fullstackpho\u002Faws-amplify-multi-auth-graphql-public-read-and-authenticated-create-update-delete-1bf5443b0ad1","isLimitedState":false,"visibility":"PUBLIC","license":"ALL_RIGHTS_RESERVED","allowResponses":true,"newsletterId":"","sequence":null,"tags":[{"__ref":"Tag:aws-lambda"},{"__ref":"Tag:react"},{"__ref":"Tag:aws-amplify"},{"__ref":"Tag:aws"},{"__ref":"Tag:javascript"}],"topics":[{"__typename":"Topic","topicId":"decb52b64abf","name":"Programming"}],"inResponseToPostResult":null,"isNewsletter":false,"socialTitle":"","socialDek":"","noIndex":null,"curationStatus":null,"metaDescription":"","latestPublishedAt":1581341940805,"readingTime":14.437735849056605,"previewContent":{"__typename":"PreviewContent","subtitle":"Setting up AWS Amplify so that your website content is public, but only logged-in users can create, update and delete content."},"previewImage":{"__ref":"ImageMetadata:1*4f5o-dIcT8phg0N5tiPa5Q.png"},"creatorPartnerProgramEnrollmentStatus":"PERMISSION_DENIED","clapCount":309,"lockedSource":"LOCKED_POST_SOURCE_NONE","isSuspended":false,"pendingCollection":null,"statusForCollection":null,"pinnedAt":0,"pinnedByCreatorAt":0,"curationEligibleAt":1581267282774,"responseDistribution":"NOT_DISTRIBUTED","internalLinks({\"paging\":{\"limit\":8}})":{"__typename":"InternalLinksConnection","items":[{"__ref":"Post:bbebf359833c"},{"__ref":"Post:bc717077d446"},{"__ref":"Post:bc916863b223"},{"__ref":"Post:bb9ba9f15f85"},{"__ref":"Post:bba6961b14a0"},{"__ref":"Post:bc0fecbcd6a9"},{"__ref":"Post:bc30542204e0"},{"__ref":"Post:bc3ccb3ce8f1"}]},"collaborators":[],"translationSourcePost":null,"inResponseToMediaResource":null,"audioVersionUrl":"","seoTitle":"","updatedAt":1581341941557,"shortformType":"SHORTFORM_TYPE_LINK","structuredData":"","seoDescription":"","postResponses":{"__typename":"PostResponses","count":5},"latestPublishedVersion":"93ba3d59df51","isPublishToEmail":false,"voterCount":41,"recommenders":[],"content({})":{"__typename":"PostContent","isLockedPreviewOnly":false,"validatedShareKey":"","bodyModel":{"__typename":"RichText","paragraphs":[{"__ref":"Paragraph:93ba3d59df51_0"},{"__ref":"Paragraph:93ba3d59df51_1"},{"__ref":"Paragraph:93ba3d59df51_2"},{"__ref":"Paragraph:93ba3d59df51_3"},{"__ref":"Paragraph:93ba3d59df51_4"},{"__ref":"Paragraph:93ba3d59df51_5"},{"__ref":"Paragraph:93ba3d59df51_6"},{"__ref":"Paragraph:93ba3d59df51_7"},{"__ref":"Paragraph:93ba3d59df51_8"},{"__ref":"Paragraph:93ba3d59df51_9"},{"__ref":"Paragraph:93ba3d59df51_10"},{"__ref":"Paragraph:93ba3d59df51_11"},{"__ref":"Paragraph:93ba3d59df51_12"},{"__ref":"Paragraph:93ba3d59df51_13"},{"__ref":"Paragraph:93ba3d59df51_14"},{"__ref":"Paragraph:93ba3d59df51_15"},{"__ref":"Paragraph:93ba3d59df51_16"},{"__ref":"Paragraph:93ba3d59df51_17"},{"__ref":"Paragraph:93ba3d59df51_18"},{"__ref":"Paragraph:93ba3d59df51_19"},{"__ref":"Paragraph:93ba3d59df51_20"},{"__ref":"Paragraph:93ba3d59df51_21"},{"__ref":"Paragraph:93ba3d59df51_22"},{"__ref":"Paragraph:93ba3d59df51_23"},{"__ref":"Paragraph:93ba3d59df51_24"},{"__ref":"Paragraph:93ba3d59df51_25"},{"__ref":"Paragraph:93ba3d59df51_26"},{"__ref":"Paragraph:93ba3d59df51_27"},{"__ref":"Paragraph:93ba3d59df51_28"},{"__ref":"Paragraph:93ba3d59df51_29"},{"__ref":"Paragraph:93ba3d59df51_30"},{"__ref":"Paragraph:93ba3d59df51_31"},{"__ref":"Paragraph:93ba3d59df51_32"},{"__ref":"Paragraph:93ba3d59df51_33"},{"__ref":"Paragraph:93ba3d59df51_34"},{"__ref":"Paragraph:93ba3d59df51_35"},{"__ref":"Paragraph:93ba3d59df51_36"},{"__ref":"Paragraph:93ba3d59df51_37"},{"__ref":"Paragraph:93ba3d59df51_38"},{"__ref":"Paragraph:93ba3d59df51_39"},{"__ref":"Paragraph:93ba3d59df51_40"},{"__ref":"Paragraph:93ba3d59df51_41"},{"__ref":"Paragraph:93ba3d59df51_42"},{"__ref":"Paragraph:93ba3d59df51_43"},{"__ref":"Paragraph:93ba3d59df51_44"},{"__ref":"Paragraph:93ba3d59df51_45"},{"__ref":"Paragraph:93ba3d59df51_46"},{"__ref":"Paragraph:93ba3d59df51_47"},{"__ref":"Paragraph:93ba3d59df51_48"},{"__ref":"Paragraph:93ba3d59df51_49"},{"__ref":"Paragraph:93ba3d59df51_50"},{"__ref":"Paragraph:93ba3d59df51_51"},{"__ref":"Paragraph:93ba3d59df51_52"},{"__ref":"Paragraph:93ba3d59df51_53"},{"__ref":"Paragraph:93ba3d59df51_54"},{"__ref":"Paragraph:93ba3d59df51_55"},{"__ref":"Paragraph:93ba3d59df51_56"},{"__ref":"Paragraph:93ba3d59df51_57"},{"__ref":"Paragraph:93ba3d59df51_58"},{"__ref":"Paragraph:93ba3d59df51_59"},{"__ref":"Paragraph:93ba3d59df51_60"},{"__ref":"Paragraph:93ba3d59df51_61"},{"__ref":"Paragraph:93ba3d59df51_62"},{"__ref":"Paragraph:93ba3d59df51_63"},{"__ref":"Paragraph:93ba3d59df51_64"},{"__ref":"Paragraph:93ba3d59df51_65"},{"__ref":"Paragraph:93ba3d59df51_66"},{"__ref":"Paragraph:93ba3d59df51_67"},{"__ref":"Paragraph:93ba3d59df51_68"},{"__ref":"Paragraph:93ba3d59df51_69"},{"__ref":"Paragraph:93ba3d59df51_70"},{"__ref":"Paragraph:93ba3d59df51_71"},{"__ref":"Paragraph:93ba3d59df51_72"},{"__ref":"Paragraph:93ba3d59df51_73"},{"__ref":"Paragraph:93ba3d59df51_74"},{"__ref":"Paragraph:93ba3d59df51_75"},{"__ref":"Paragraph:93ba3d59df51_76"},{"__ref":"Paragraph:93ba3d59df51_77"},{"__ref":"Paragraph:93ba3d59df51_78"},{"__ref":"Paragraph:93ba3d59df51_79"},{"__ref":"Paragraph:93ba3d59df51_80"},{"__ref":"Paragraph:93ba3d59df51_81"},{"__ref":"Paragraph:93ba3d59df51_82"},{"__ref":"Paragraph:93ba3d59df51_83"},{"__ref":"Paragraph:93ba3d59df51_84"},{"__ref":"Paragraph:93ba3d59df51_85"},{"__ref":"Paragraph:93ba3d59df51_86"},{"__ref":"Paragraph:93ba3d59df51_87"},{"__ref":"Paragraph:93ba3d59df51_88"},{"__ref":"Paragraph:93ba3d59df51_89"},{"__ref":"Paragraph:93ba3d59df51_90"},{"__ref":"Paragraph:93ba3d59df51_91"},{"__ref":"Paragraph:93ba3d59df51_92"},{"__ref":"Paragraph:93ba3d59df51_93"},{"__ref":"Paragraph:93ba3d59df51_94"},{"__ref":"Paragraph:93ba3d59df51_95"},{"__ref":"Paragraph:93ba3d59df51_96"},{"__ref":"Paragraph:93ba3d59df51_97"},{"__ref":"Paragraph:93ba3d59df51_98"},{"__ref":"Paragraph:93ba3d59df51_99"},{"__ref":"Paragraph:93ba3d59df51_100"},{"__ref":"Paragraph:93ba3d59df51_101"},{"__ref":"Paragraph:93ba3d59df51_102"},{"__ref":"Paragraph:93ba3d59df51_103"},{"__ref":"Paragraph:93ba3d59df51_104"},{"__ref":"Paragraph:93ba3d59df51_105"},{"__ref":"Paragraph:93ba3d59df51_106"},{"__ref":"Paragraph:93ba3d59df51_107"},{"__ref":"Paragraph:93ba3d59df51_108"},{"__ref":"Paragraph:93ba3d59df51_109"},{"__ref":"Paragraph:93ba3d59df51_110"},{"__ref":"Paragraph:93ba3d59df51_111"},{"__ref":"Paragraph:93ba3d59df51_112"},{"__ref":"Paragraph:93ba3d59df51_113"},{"__ref":"Paragraph:93ba3d59df51_114"},{"__ref":"Paragraph:93ba3d59df51_115"},{"__ref":"Paragraph:93ba3d59df51_116"},{"__ref":"Paragraph:93ba3d59df51_117"},{"__ref":"Paragraph:93ba3d59df51_118"},{"__ref":"Paragraph:93ba3d59df51_119"},{"__ref":"Paragraph:93ba3d59df51_120"},{"__ref":"Paragraph:93ba3d59df51_121"},{"__ref":"Paragraph:93ba3d59df51_122"},{"__ref":"Paragraph:93ba3d59df51_123"},{"__ref":"Paragraph:93ba3d59df51_124"},{"__ref":"Paragraph:93ba3d59df51_125"},{"__ref":"Paragraph:93ba3d59df51_126"},{"__ref":"Paragraph:93ba3d59df51_127"},{"__ref":"Paragraph:93ba3d59df51_128"},{"__ref":"Paragraph:93ba3d59df51_129"},{"__ref":"Paragraph:93ba3d59df51_130"},{"__ref":"Paragraph:93ba3d59df51_131"},{"__ref":"Paragraph:93ba3d59df51_132"},{"__ref":"Paragraph:93ba3d59df51_133"},{"__ref":"Paragraph:93ba3d59df51_134"},{"__ref":"Paragraph:93ba3d59df51_135"},{"__ref":"Paragraph:93ba3d59df51_136"},{"__ref":"Paragraph:93ba3d59df51_137"},{"__ref":"Paragraph:93ba3d59df51_138"},{"__ref":"Paragraph:93ba3d59df51_139"},{"__ref":"Paragraph:93ba3d59df51_140"},{"__ref":"Paragraph:93ba3d59df51_141"},{"__ref":"Paragraph:93ba3d59df51_142"},{"__ref":"Paragraph:93ba3d59df51_143"},{"__ref":"Paragraph:93ba3d59df51_144"},{"__ref":"Paragraph:93ba3d59df51_145"},{"__ref":"Paragraph:93ba3d59df51_146"},{"__ref":"Paragraph:93ba3d59df51_147"},{"__ref":"Paragraph:93ba3d59df51_148"},{"__ref":"Paragraph:93ba3d59df51_149"},{"__ref":"Paragraph:93ba3d59df51_150"},{"__ref":"Paragraph:93ba3d59df51_151"},{"__ref":"Paragraph:93ba3d59df51_152"},{"__ref":"Paragraph:93ba3d59df51_153"},{"__ref":"Paragraph:93ba3d59df51_154"},{"__ref":"Paragraph:93ba3d59df51_155"},{"__ref":"Paragraph:93ba3d59df51_156"},{"__ref":"Paragraph:93ba3d59df51_157"},{"__ref":"Paragraph:93ba3d59df51_158"},{"__ref":"Paragraph:93ba3d59df51_159"},{"__ref":"Paragraph:93ba3d59df51_160"},{"__ref":"Paragraph:93ba3d59df51_161"},{"__ref":"Paragraph:93ba3d59df51_162"},{"__ref":"Paragraph:93ba3d59df51_163"},{"__ref":"Paragraph:93ba3d59df51_164"},{"__ref":"Paragraph:93ba3d59df51_165"},{"__ref":"Paragraph:93ba3d59df51_166"},{"__ref":"Paragraph:93ba3d59df51_167"},{"__ref":"Paragraph:93ba3d59df51_168"},{"__ref":"Paragraph:93ba3d59df51_169"},{"__ref":"Paragraph:93ba3d59df51_170"},{"__ref":"Paragraph:93ba3d59df51_171"},{"__ref":"Paragraph:93ba3d59df51_172"},{"__ref":"Paragraph:93ba3d59df51_173"},{"__ref":"Paragraph:93ba3d59df51_174"},{"__ref":"Paragraph:93ba3d59df51_175"},{"__ref":"Paragraph:93ba3d59df51_176"},{"__ref":"Paragraph:93ba3d59df51_177"},{"__ref":"Paragraph:93ba3d59df51_178"},{"__ref":"Paragraph:93ba3d59df51_179"},{"__ref":"Paragraph:93ba3d59df51_180"},{"__ref":"Paragraph:93ba3d59df51_181"},{"__ref":"Paragraph:93ba3d59df51_182"},{"__ref":"Paragraph:93ba3d59df51_183"}],"sections":[{"__typename":"Section","name":"8753","startIndex":0,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null},{"__typename":"Section","name":"c5e6","startIndex":5,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null},{"__typename":"Section","name":"195c","startIndex":18,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null},{"__typename":"Section","name":"719c","startIndex":181,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null},{"__typename":"Section","name":"fb85","startIndex":182,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null}]}}}}</script><script>window.__MIDDLEWARE_STATE__={"session":{"xsrf":""},"cache":{"cacheStatus":"HIT"}}</script><script src="https://cdn-client.medium.com/lite/static/js/manifest.3a0b94db.js"></script><script src="https://cdn-client.medium.com/lite/static/js/6484.910e6b9f.js"></script><script src="https://cdn-client.medium.com/lite/static/js/main.147674b3.js"></script><script src="https://cdn-client.medium.com/lite/static/js/5573.159bf40f.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/instrumentation.8ea15b6a.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/reporting.65aadb14.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/1752.a348f767.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/953.27834d5e.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/5405.bad6e90c.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/9692.b4a02f3e.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/4586.1d9fc9c3.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/5064.0629839e.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/9046.4f84d8e2.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/2846.012d369f.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/2176.958ba593.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/2712.f7fd0787.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/9972.f6abd8ac.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/5828.e9c667ee.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/2955.7502e0c2.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/7131.edd58179.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/664.68f7c552.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/8751.55e58f78.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/4175.29c93fb6.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/2514.3906703f.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/8127.7b79de8f.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/6371.bfa476ae.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/8995.7ff30d72.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/7596.09a45d85.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/3874.3f41bcb9.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/5353.0bbc04a5.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/1794.574e0f73.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/9454.7bb9fe06.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/Post.afdc15cd.chunk.js"></script><script>window.main();</script><script defer src="https://static.cloudflareinsights.com/beacon.min.js" data-cf-beacon='{"rayId":"64e072144b20f0ad","version":"2021.4.0","si":10}'></script>
</body></html>